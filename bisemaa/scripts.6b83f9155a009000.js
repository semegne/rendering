!function(u,B){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=u.document?B(u,!0):function(Ae){if(!Ae.document)throw new Error("jQuery requires a window with a document");return B(Ae)}:B(u)}("undefined"!=typeof window?window:this,function(u,B){"use strict";var Ae=[],Je=Object.getPrototypeOf,ye=Ae.slice,at=Ae.flat?function(t){return Ae.flat.call(t)}:function(t){return Ae.concat.apply([],t)},pt=Ae.push,Me=Ae.indexOf,re={},gt=re.toString,lt=re.hasOwnProperty,kt=lt.toString,ee=kt.call(Object),ie={},I=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},Re=function(t){return null!=t&&t===t.window},G=u.document,Q={type:!0,src:!0,nonce:!0,noModule:!0};function $(t,r,o){var l,f,g=(o=o||G).createElement("script");if(g.text=t,r)for(l in Q)(f=r[l]||r.getAttribute&&r.getAttribute(l))&&g.setAttribute(l,f);o.head.appendChild(g).parentNode.removeChild(g)}function Qe(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?re[gt.call(t)]||"object":typeof t}var jn=/HTML$/i,h=function(t,r){return new h.fn.init(t,r)};function ot(t){var r=!!t&&"length"in t&&t.length,o=Qe(t);return!I(t)&&!Re(t)&&("array"===o||0===r||"number"==typeof r&&0<r&&r-1 in t)}function e(t,r){return t.nodeName&&t.nodeName.toLowerCase()===r.toLowerCase()}h.fn=h.prototype={jquery:"3.7.1",constructor:h,length:0,toArray:function(){return ye.call(this)},get:function(t){return null==t?ye.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var r=h.merge(this.constructor(),t);return r.prevObject=this,r},each:function(t){return h.each(this,t)},map:function(t){return this.pushStack(h.map(this,function(r,o){return t.call(r,o,r)}))},slice:function(){return this.pushStack(ye.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(h.grep(this,function(t,r){return(r+1)%2}))},odd:function(){return this.pushStack(h.grep(this,function(t,r){return r%2}))},eq:function(t){var r=this.length,o=+t+(t<0?r:0);return this.pushStack(0<=o&&o<r?[this[o]]:[])},end:function(){return this.prevObject||this.constructor()},push:pt,sort:Ae.sort,splice:Ae.splice},h.extend=h.fn.extend=function(){var t,r,o,l,f,g,v=arguments[0]||{},k=1,j=arguments.length,T=!1;for("boolean"==typeof v&&(T=v,v=arguments[k]||{},k++),"object"==typeof v||I(v)||(v={}),k===j&&(v=this,k--);k<j;k++)if(null!=(t=arguments[k]))for(r in t)l=t[r],"__proto__"!==r&&v!==l&&(T&&l&&(h.isPlainObject(l)||(f=Array.isArray(l)))?(o=v[r],g=f&&!Array.isArray(o)?[]:f||h.isPlainObject(o)?o:{},f=!1,v[r]=h.extend(T,g,l)):void 0!==l&&(v[r]=l));return v},h.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var r,o;return!(!t||"[object Object]"!==gt.call(t)||(r=Je(t))&&("function"!=typeof(o=lt.call(r,"constructor")&&r.constructor)||kt.call(o)!==ee))},isEmptyObject:function(t){var r;for(r in t)return!1;return!0},globalEval:function(t,r,o){$(t,{nonce:r&&r.nonce},o)},each:function(t,r){var o,l=0;if(ot(t))for(o=t.length;l<o&&!1!==r.call(t[l],l,t[l]);l++);else for(l in t)if(!1===r.call(t[l],l,t[l]))break;return t},text:function(t){var r,o="",l=0,f=t.nodeType;if(!f)for(;r=t[l++];)o+=h.text(r);return 1===f||11===f?t.textContent:9===f?t.documentElement.textContent:3===f||4===f?t.nodeValue:o},makeArray:function(t,r){var o=r||[];return null!=t&&(ot(Object(t))?h.merge(o,"string"==typeof t?[t]:t):pt.call(o,t)),o},inArray:function(t,r,o){return null==r?-1:Me.call(r,t,o)},isXMLDoc:function(t){var o=t&&(t.ownerDocument||t).documentElement;return!jn.test(t&&t.namespaceURI||o&&o.nodeName||"HTML")},merge:function(t,r){for(var o=+r.length,l=0,f=t.length;l<o;l++)t[f++]=r[l];return t.length=f,t},grep:function(t,r,o){for(var l=[],f=0,g=t.length,v=!o;f<g;f++)!r(t[f],f)!==v&&l.push(t[f]);return l},map:function(t,r,o){var l,f,g=0,v=[];if(ot(t))for(l=t.length;g<l;g++)null!=(f=r(t[g],g,o))&&v.push(f);else for(g in t)null!=(f=r(t[g],g,o))&&v.push(f);return at(v)},guid:1,support:ie}),"function"==typeof Symbol&&(h.fn[Symbol.iterator]=Ae[Symbol.iterator]),h.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,r){re["[object "+r+"]"]=r.toLowerCase()});var a=Ae.pop,n=Ae.sort,i=Ae.splice,s="[\\x20\\t\\r\\n\\f]",c=new RegExp("^"+s+"+|((?:^|[^\\\\])(?:\\\\.)*)"+s+"+$","g");h.contains=function(t,r){var o=r&&r.parentNode;return t===o||!(!o||1!==o.nodeType||!(t.contains?t.contains(o):t.compareDocumentPosition&&16&t.compareDocumentPosition(o)))};var d=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function m(t,r){return r?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}h.escapeSelector=function(t){return(t+"").replace(d,m)};var p=G,_=pt;!function(){var t,r,o,l,f,g,v,k,j,T,O=_,H=h.expando,S=0,P=0,V=Te(),se=Te(),ae=Te(),Ce=Te(),Le=function(b,C){return b===C&&(f=!0),0},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="(?:\\\\[\\da-fA-F]{1,6}"+s+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ue="\\["+s+"*("+rt+")(?:"+s+"*([*^$|!~]?=)"+s+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+s+"*\\]",bt=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ue+")*)|.*)\\)|)",pe=new RegExp(s+"+","g"),ke=new RegExp("^"+s+"*,"+s+"*"),$t=new RegExp("^"+s+"*([>+~]|"+s+")"+s+"*"),gn=new RegExp(s+"|>"),it=new RegExp(bt),Wt=new RegExp("^"+rt+"$"),ct={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+ue),PSEUDO:new RegExp("^"+bt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+s+"*(even|odd|(([+-]|)(\\d*)n|)"+s+"*(?:([+-]|)"+s+"*(\\d+)|))"+s+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+s+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+s+"*((?:-\\d)?\\d*)"+s+"*\\)|)(?=[^-]|$)","i")},ht=/^(?:input|select|textarea|button)$/i,Lt=/^h\d$/i,Ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qe=/[+~]/,Ne=new RegExp("\\\\[\\da-fA-F]{1,6}"+s+"?|\\\\([^\\r\\n\\f])","g"),We=function(b,C){var A="0x"+b.slice(1)-65536;return C||(A<0?String.fromCharCode(A+65536):String.fromCharCode(A>>10|55296,1023&A|56320))},ut=function(){ft()},Ke=Qt(function(b){return!0===b.disabled&&e(b,"fieldset")},{dir:"parentNode",next:"legend"});try{O.apply(Ae=ye.call(p.childNodes),p.childNodes)}catch(b){O={apply:function(C,A){_.apply(C,ye.call(A))},call:function(C){_.apply(C,ye.call(arguments,1))}}}function E(b,C,A,q){var F,z,X,Y,K,ge,ce,le=C&&C.ownerDocument,fe=C?C.nodeType:9;if(A=A||[],"string"!=typeof b||!b||1!==fe&&9!==fe&&11!==fe)return A;if(!q&&(ft(C),C=C||g,k)){if(11!==fe&&(K=Ge.exec(b)))if(F=K[1]){if(9===fe){if(!(X=C.getElementById(F)))return A;if(X.id===F)return O.call(A,X),A}else if(le&&(X=le.getElementById(F))&&E.contains(C,X)&&X.id===F)return O.call(A,X),A}else{if(K[2])return O.apply(A,C.getElementsByTagName(b)),A;if((F=K[3])&&C.getElementsByClassName)return O.apply(A,C.getElementsByClassName(F)),A}if(!(Ce[b+" "]||j&&j.test(b))){if(ce=b,le=C,1===fe&&(gn.test(b)||$t.test(b))){for((le=qe.test(b)&&_n(C.parentNode)||C)==C&&ie.scope||((Y=C.getAttribute("id"))?Y=h.escapeSelector(Y):C.setAttribute("id",Y=H)),z=(ge=Kt(b)).length;z--;)ge[z]=(Y?"#"+Y:":scope")+" "+Gt(ge[z]);ce=ge.join(",")}try{return O.apply(A,le.querySelectorAll(ce)),A}catch(ne){Ce(b,!0)}finally{Y===H&&C.removeAttribute("id")}}}return nr(b.replace(c,"$1"),C,A,q)}function Te(){var b=[];return function C(A,q){return b.push(A+" ")>r.cacheLength&&delete C[b.shift()],C[A+" "]=q}}function Se(b){return b[H]=!0,b}function me(b){var C=g.createElement("fieldset");try{return!!b(C)}catch(A){return!1}finally{C.parentNode&&C.parentNode.removeChild(C),C=null}}function st(b){return function(C){return e(C,"input")&&C.type===b}}function qt(b){return function(C){return(e(C,"input")||e(C,"button"))&&C.type===b}}function Vt(b){return function(C){return"form"in C?C.parentNode&&!1===C.disabled?"label"in C?"label"in C.parentNode?C.parentNode.disabled===b:C.disabled===b:C.isDisabled===b||C.isDisabled!==!b&&Ke(C)===b:C.disabled===b:"label"in C&&C.disabled===b}}function jt(b){return Se(function(C){return C=+C,Se(function(A,q){for(var F,z=b([],A.length,C),X=z.length;X--;)A[F=z[X]]&&(A[F]=!(q[F]=A[F]))})})}function _n(b){return b&&void 0!==b.getElementsByTagName&&b}function ft(b){var C,A=b?b.ownerDocument||b:p;return A!=g&&9===A.nodeType&&A.documentElement&&(v=(g=A).documentElement,k=!h.isXMLDoc(g),T=v.matches||v.webkitMatchesSelector||v.msMatchesSelector,v.msMatchesSelector&&p!=g&&(C=g.defaultView)&&C.top!==C&&C.addEventListener("unload",ut),ie.getById=me(function(q){return v.appendChild(q).id=h.expando,!g.getElementsByName||!g.getElementsByName(h.expando).length}),ie.disconnectedMatch=me(function(q){return T.call(q,"*")}),ie.scope=me(function(){return g.querySelectorAll(":scope")}),ie.cssHas=me(function(){try{return g.querySelector(":has(*,:jqfake)"),!1}catch(q){return!0}}),ie.getById?(r.filter.ID=function(q){var F=q.replace(Ne,We);return function(z){return z.getAttribute("id")===F}},r.find.ID=function(q,F){if(void 0!==F.getElementById&&k){var z=F.getElementById(q);return z?[z]:[]}}):(r.filter.ID=function(q){var F=q.replace(Ne,We);return function(z){var X=void 0!==z.getAttributeNode&&z.getAttributeNode("id");return X&&X.value===F}},r.find.ID=function(q,F){if(void 0!==F.getElementById&&k){var z,X,Y,K=F.getElementById(q);if(K){if((z=K.getAttributeNode("id"))&&z.value===q)return[K];for(Y=F.getElementsByName(q),X=0;K=Y[X++];)if((z=K.getAttributeNode("id"))&&z.value===q)return[K]}return[]}}),r.find.TAG=function(q,F){return void 0!==F.getElementsByTagName?F.getElementsByTagName(q):F.querySelectorAll(q)},r.find.CLASS=function(q,F){if(void 0!==F.getElementsByClassName&&k)return F.getElementsByClassName(q)},j=[],me(function(q){var F;v.appendChild(q).innerHTML="<a id='"+H+"' href='' disabled='disabled'></a><select id='"+H+"-\r\\' disabled='disabled'><option selected=''></option></select>",q.querySelectorAll("[selected]").length||j.push("\\["+s+"*(?:value|"+nt+")"),q.querySelectorAll("[id~="+H+"-]").length||j.push("~="),q.querySelectorAll("a#"+H+"+*").length||j.push(".#.+[+~]"),q.querySelectorAll(":checked").length||j.push(":checked"),(F=g.createElement("input")).setAttribute("type","hidden"),q.appendChild(F).setAttribute("name","D"),v.appendChild(q).disabled=!0,2!==q.querySelectorAll(":disabled").length&&j.push(":enabled",":disabled"),(F=g.createElement("input")).setAttribute("name",""),q.appendChild(F),q.querySelectorAll("[name='']").length||j.push("\\["+s+"*name"+s+"*="+s+"*(?:''|\"\")")}),ie.cssHas||j.push(":has"),j=j.length&&new RegExp(j.join("|")),Le=function(q,F){if(q===F)return f=!0,0;var z=!q.compareDocumentPosition-!F.compareDocumentPosition;return z||(1&(z=(q.ownerDocument||q)==(F.ownerDocument||F)?q.compareDocumentPosition(F):1)||!ie.sortDetached&&F.compareDocumentPosition(q)===z?q===g||q.ownerDocument==p&&E.contains(p,q)?-1:F===g||F.ownerDocument==p&&E.contains(p,F)?1:l?Me.call(l,q)-Me.call(l,F):0:4&z?-1:1)}),g}for(t in E.matches=function(b,C){return E(b,null,null,C)},E.matchesSelector=function(b,C){if(ft(b),k&&!Ce[C+" "]&&(!j||!j.test(C)))try{var A=T.call(b,C);if(A||ie.disconnectedMatch||b.document&&11!==b.document.nodeType)return A}catch(q){Ce(C,!0)}return 0<E(C,g,null,[b]).length},E.contains=function(b,C){return(b.ownerDocument||b)!=g&&ft(b),h.contains(b,C)},E.attr=function(b,C){(b.ownerDocument||b)!=g&&ft(b);var A=r.attrHandle[C.toLowerCase()],q=A&&lt.call(r.attrHandle,C.toLowerCase())?A(b,C,!k):void 0;return void 0!==q?q:b.getAttribute(C)},E.error=function(b){throw new Error("Syntax error, unrecognized expression: "+b)},h.uniqueSort=function(b){var C,A=[],q=0,F=0;if(f=!ie.sortStable,l=!ie.sortStable&&ye.call(b,0),n.call(b,Le),f){for(;C=b[F++];)C===b[F]&&(q=A.push(F));for(;q--;)i.call(b,A[q],1)}return l=null,b},h.fn.uniqueSort=function(){return this.pushStack(h.uniqueSort(ye.apply(this)))},(r=h.expr={cacheLength:50,createPseudo:Se,match:ct,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(Ne,We),b[3]=(b[3]||b[4]||b[5]||"").replace(Ne,We),"~="===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),"nth"===b[1].slice(0,3)?(b[3]||E.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&E.error(b[0]),b},PSEUDO:function(b){var C,A=!b[6]&&b[2];return ct.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":A&&it.test(A)&&(C=Kt(A,!0))&&(C=A.indexOf(")",A.length-C)-A.length)&&(b[0]=b[0].slice(0,C),b[2]=A.slice(0,C)),b.slice(0,3))}},filter:{TAG:function(b){var C=b.replace(Ne,We).toLowerCase();return"*"===b?function(){return!0}:function(A){return e(A,C)}},CLASS:function(b){var C=V[b+" "];return C||(C=new RegExp("(^|"+s+")"+b+"("+s+"|$)"))&&V(b,function(A){return C.test("string"==typeof A.className&&A.className||void 0!==A.getAttribute&&A.getAttribute("class")||"")})},ATTR:function(b,C,A){return function(q){var F=E.attr(q,b);return null==F?"!="===C:!C||(F+="","="===C?F===A:"!="===C?F!==A:"^="===C?A&&0===F.indexOf(A):"*="===C?A&&-1<F.indexOf(A):"$="===C?A&&F.slice(-A.length)===A:"~="===C?-1<(" "+F.replace(pe," ")+" ").indexOf(A):"|="===C&&(F===A||F.slice(0,A.length+1)===A+"-"))}},CHILD:function(b,C,A,q,F){var z="nth"!==b.slice(0,3),X="last"!==b.slice(-4),Y="of-type"===C;return 1===q&&0===F?function(K){return!!K.parentNode}:function(K,ge,ce){var le,fe,ne,Oe,Ie,He=z!==X?"nextSibling":"previousSibling",Ue=K.parentNode,Ye=Y&&K.nodeName.toLowerCase(),et=!ce&&!Y,ve=!1;if(Ue){if(z){for(;He;){for(ne=K;ne=ne[He];)if(Y?e(ne,Ye):1===ne.nodeType)return!1;Ie=He="only"===b&&!Ie&&"nextSibling"}return!0}if(Ie=[X?Ue.firstChild:Ue.lastChild],X&&et){for(ve=(Oe=(le=(fe=Ue[H]||(Ue[H]={}))[b]||[])[0]===S&&le[1])&&le[2],ne=Oe&&Ue.childNodes[Oe];ne=++Oe&&ne&&ne[He]||(ve=Oe=0)||Ie.pop();)if(1===ne.nodeType&&++ve&&ne===K){fe[b]=[S,Oe,ve];break}}else if(et&&(ve=Oe=(le=(fe=K[H]||(K[H]={}))[b]||[])[0]===S&&le[1]),!1===ve)for(;(ne=++Oe&&ne&&ne[He]||(ve=Oe=0)||Ie.pop())&&(!(Y?e(ne,Ye):1===ne.nodeType)||!++ve||(et&&((fe=ne[H]||(ne[H]={}))[b]=[S,ve]),ne!==K)););return(ve-=F)===q||ve%q==0&&0<=ve/q}}},PSEUDO:function(b,C){var A,q=r.pseudos[b]||r.setFilters[b.toLowerCase()]||E.error("unsupported pseudo: "+b);return q[H]?q(C):1<q.length?(A=[b,b,"",C],r.setFilters.hasOwnProperty(b.toLowerCase())?Se(function(F,z){for(var X,Y=q(F,C),K=Y.length;K--;)F[X=Me.call(F,Y[K])]=!(z[X]=Y[K])}):function(F){return q(F,0,A)}):q}},pseudos:{not:Se(function(b){var C=[],A=[],q=bn(b.replace(c,"$1"));return q[H]?Se(function(F,z,X,Y){for(var K,ge=q(F,null,Y,[]),ce=F.length;ce--;)(K=ge[ce])&&(F[ce]=!(z[ce]=K))}):function(F,z,X){return C[0]=F,q(C,null,X,A),C[0]=null,!A.pop()}}),has:Se(function(b){return function(C){return 0<E(b,C).length}}),contains:Se(function(b){return b=b.replace(Ne,We),function(C){return-1<(C.textContent||h.text(C)).indexOf(b)}}),lang:Se(function(b){return Wt.test(b||"")||E.error("unsupported lang: "+b),b=b.replace(Ne,We).toLowerCase(),function(C){var A;do{if(A=k?C.lang:C.getAttribute("xml:lang")||C.getAttribute("lang"))return(A=A.toLowerCase())===b||0===A.indexOf(b+"-")}while((C=C.parentNode)&&1===C.nodeType);return!1}}),target:function(b){var C=u.location&&u.location.hash;return C&&C.slice(1)===b.id},root:function(b){return b===v},focus:function(b){return b===function(){try{return g.activeElement}catch(C){}}()&&g.hasFocus()&&!!(b.type||b.href||~b.tabIndex)},enabled:Vt(!1),disabled:Vt(!0),checked:function(b){return e(b,"input")&&!!b.checked||e(b,"option")&&!!b.selected},selected:function(b){return!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType<6)return!1;return!0},parent:function(b){return!r.pseudos.empty(b)},header:function(b){return Lt.test(b.nodeName)},input:function(b){return ht.test(b.nodeName)},button:function(b){return e(b,"input")&&"button"===b.type||e(b,"button")},text:function(b){var C;return e(b,"input")&&"text"===b.type&&(null==(C=b.getAttribute("type"))||"text"===C.toLowerCase())},first:jt(function(){return[0]}),last:jt(function(b,C){return[C-1]}),eq:jt(function(b,C,A){return[A<0?A+C:A]}),even:jt(function(b,C){for(var A=0;A<C;A+=2)b.push(A);return b}),odd:jt(function(b,C){for(var A=1;A<C;A+=2)b.push(A);return b}),lt:jt(function(b,C,A){var q;for(q=A<0?A+C:C<A?C:A;0<=--q;)b.push(q);return b}),gt:jt(function(b,C,A){for(var q=A<0?A+C:A;++q<C;)b.push(q);return b})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=st(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=qt(t);function tr(){}function Kt(b,C){var A,q,F,z,X,Y,K,ge=se[b+" "];if(ge)return C?0:ge.slice(0);for(X=b,Y=[],K=r.preFilter;X;){for(z in A&&!(q=ke.exec(X))||(q&&(X=X.slice(q[0].length)||X),Y.push(F=[])),A=!1,(q=$t.exec(X))&&(A=q.shift(),F.push({value:A,type:q[0].replace(c," ")}),X=X.slice(A.length)),r.filter)!(q=ct[z].exec(X))||K[z]&&!(q=K[z](q))||(A=q.shift(),F.push({value:A,type:z,matches:q}),X=X.slice(A.length));if(!A)break}return C?X.length:X?E.error(b):se(b,Y).slice(0)}function Gt(b){for(var C=0,A=b.length,q="";C<A;C++)q+=b[C].value;return q}function Qt(b,C,A){var q=C.dir,F=C.next,z=F||q,X=A&&"parentNode"===z,Y=P++;return C.first?function(K,ge,ce){for(;K=K[q];)if(1===K.nodeType||X)return b(K,ge,ce);return!1}:function(K,ge,ce){var le,fe,ne=[S,Y];if(ce){for(;K=K[q];)if((1===K.nodeType||X)&&b(K,ge,ce))return!0}else for(;K=K[q];)if(1===K.nodeType||X)if(fe=K[H]||(K[H]={}),F&&e(K,F))K=K[q]||K;else{if((le=fe[z])&&le[0]===S&&le[1]===Y)return ne[2]=le[2];if((fe[z]=ne)[2]=b(K,ge,ce))return!0}return!1}}function mn(b){return 1<b.length?function(C,A,q){for(var F=b.length;F--;)if(!b[F](C,A,q))return!1;return!0}:b[0]}function Zt(b,C,A,q,F){for(var z,X=[],Y=0,K=b.length,ge=null!=C;Y<K;Y++)(z=b[Y])&&(A&&!A(z,q,F)||(X.push(z),ge&&C.push(Y)));return X}function vn(b,C,A,q,F,z){return q&&!q[H]&&(q=vn(q)),F&&!F[H]&&(F=vn(F,z)),Se(function(X,Y,K,ge){var ce,le,fe,ne,Oe=[],Ie=[],He=Y.length,Ue=X||function(et,ve,xt){for(var tt=0,Et=ve.length;tt<Et;tt++)E(et,ve[tt],xt);return xt}(C||"*",K.nodeType?[K]:K,[]),Ye=!b||!X&&C?Ue:Zt(Ue,Oe,b,K,ge);if(A?A(Ye,ne=F||(X?b:He||q)?[]:Y,K,ge):ne=Ye,q)for(ce=Zt(ne,Ie),q(ce,[],K,ge),le=ce.length;le--;)(fe=ce[le])&&(ne[Ie[le]]=!(Ye[Ie[le]]=fe));if(X){if(F||b){if(F){for(ce=[],le=ne.length;le--;)(fe=ne[le])&&ce.push(Ye[le]=fe);F(null,ne=[],ce,ge)}for(le=ne.length;le--;)(fe=ne[le])&&-1<(ce=F?Me.call(X,fe):Oe[le])&&(X[ce]=!(Y[ce]=fe))}}else ne=Zt(ne===Y?ne.splice(He,ne.length):ne),F?F(null,Y,ne,ge):O.apply(Y,ne)})}function yn(b){for(var C,A,q,F=b.length,z=r.relative[b[0].type],X=z||r.relative[" "],Y=z?1:0,K=Qt(function(le){return le===C},X,!0),ge=Qt(function(le){return-1<Me.call(C,le)},X,!0),ce=[function(le,fe,ne){var Oe=!z&&(ne||fe!=o)||((C=fe).nodeType?K(le,fe,ne):ge(le,fe,ne));return C=null,Oe}];Y<F;Y++)if(A=r.relative[b[Y].type])ce=[Qt(mn(ce),A)];else{if((A=r.filter[b[Y].type].apply(null,b[Y].matches))[H]){for(q=++Y;q<F&&!r.relative[b[q].type];q++);return vn(1<Y&&mn(ce),1<Y&&Gt(b.slice(0,Y-1).concat({value:" "===b[Y-2].type?"*":""})).replace(c,"$1"),A,Y<q&&yn(b.slice(Y,q)),q<F&&yn(b=b.slice(q)),q<F&&Gt(b))}ce.push(A)}return mn(ce)}function bn(b,C){var A,q,F,z,X,Y,K=[],ge=[],ce=ae[b+" "];if(!ce){for(C||(C=Kt(b)),A=C.length;A--;)(ce=yn(C[A]))[H]?K.push(ce):ge.push(ce);(ce=ae(b,(q=ge,z=0<(F=K).length,X=0<q.length,Y=function(le,fe,ne,Oe,Ie){var He,Ue,Ye,et=0,ve="0",xt=le&&[],tt=[],Et=o,rr=le||X&&r.find.TAG("*",Ie),ir=S+=null==Et?1:Math.random()||.1,Hr=rr.length;for(Ie&&(o=fe==g||fe||Ie);ve!==Hr&&null!=(He=rr[ve]);ve++){if(X&&He){for(Ue=0,fe||He.ownerDocument==g||(ft(He),ne=!k);Ye=q[Ue++];)if(Ye(He,fe||g,ne)){O.call(Oe,He);break}Ie&&(S=ir)}z&&((He=!Ye&&He)&&et--,le&&xt.push(He))}if(et+=ve,z&&ve!==et){for(Ue=0;Ye=F[Ue++];)Ye(xt,tt,fe,ne);if(le){if(0<et)for(;ve--;)xt[ve]||tt[ve]||(tt[ve]=a.call(Oe));tt=Zt(tt)}O.apply(Oe,tt),Ie&&!le&&0<tt.length&&1<et+F.length&&h.uniqueSort(Oe)}return Ie&&(S=ir,o=Et),xt},z?Se(Y):Y))).selector=b}return ce}function nr(b,C,A,q){var F,z,X,Y,K,ge="function"==typeof b&&b,ce=!q&&Kt(b=ge.selector||b);if(A=A||[],1===ce.length){if(2<(z=ce[0]=ce[0].slice(0)).length&&"ID"===(X=z[0]).type&&9===C.nodeType&&k&&r.relative[z[1].type]){if(!(C=(r.find.ID(X.matches[0].replace(Ne,We),C)||[])[0]))return A;ge&&(C=C.parentNode),b=b.slice(z.shift().value.length)}for(F=ct.needsContext.test(b)?0:z.length;F--&&!r.relative[Y=(X=z[F]).type];)if((K=r.find[Y])&&(q=K(X.matches[0].replace(Ne,We),qe.test(z[0].type)&&_n(C.parentNode)||C))){if(z.splice(F,1),!(b=q.length&&Gt(z)))return O.apply(A,q),A;break}}return(ge||bn(b,ce))(q,C,!k,A,!C||qe.test(b)&&_n(C.parentNode)||C),A}tr.prototype=r.filters=r.pseudos,r.setFilters=new tr,ie.sortStable=H.split("").sort(Le).join("")===H,ft(),ie.sortDetached=me(function(b){return 1&b.compareDocumentPosition(g.createElement("fieldset"))}),h.find=E,h.expr[":"]=h.expr.pseudos,h.unique=h.uniqueSort,E.compile=bn,E.select=nr,E.setDocument=ft,E.tokenize=Kt,E.escape=h.escapeSelector,E.getText=h.text,E.isXML=h.isXMLDoc,E.selectors=h.expr,E.support=h.support,E.uniqueSort=h.uniqueSort}();var y=function(t,r,o){for(var l=[],f=void 0!==o;(t=t[r])&&9!==t.nodeType;)if(1===t.nodeType){if(f&&h(t).is(o))break;l.push(t)}return l},x=function(t,r){for(var o=[];t;t=t.nextSibling)1===t.nodeType&&t!==r&&o.push(t);return o},w=h.expr.match.needsContext,N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function M(t,r,o){return I(r)?h.grep(t,function(l,f){return!!r.call(l,f,l)!==o}):r.nodeType?h.grep(t,function(l){return l===r!==o}):"string"!=typeof r?h.grep(t,function(l){return-1<Me.call(r,l)!==o}):h.filter(r,t,o)}h.filter=function(t,r,o){var l=r[0];return o&&(t=":not("+t+")"),1===r.length&&1===l.nodeType?h.find.matchesSelector(l,t)?[l]:[]:h.find.matches(t,h.grep(r,function(f){return 1===f.nodeType}))},h.fn.extend({find:function(t){var r,o,l=this.length,f=this;if("string"!=typeof t)return this.pushStack(h(t).filter(function(){for(r=0;r<l;r++)if(h.contains(f[r],this))return!0}));for(o=this.pushStack([]),r=0;r<l;r++)h.find(t,f[r],o);return 1<l?h.uniqueSort(o):o},filter:function(t){return this.pushStack(M(this,t||[],!1))},not:function(t){return this.pushStack(M(this,t||[],!0))},is:function(t){return!!M(this,"string"==typeof t&&w.test(t)?h(t):t||[],!1).length}});var D,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(h.fn.init=function(t,r,o){var l,f;if(!t)return this;if(o=o||D,"string"==typeof t){if(!(l="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:L.exec(t))||!l[1]&&r)return!r||r.jquery?(r||o).find(t):this.constructor(r).find(t);if(l[1]){if(h.merge(this,h.parseHTML(l[1],(r=r instanceof h?r[0]:r)&&r.nodeType?r.ownerDocument||r:G,!0)),N.test(l[1])&&h.isPlainObject(r))for(l in r)I(this[l])?this[l](r[l]):this.attr(l,r[l]);return this}return(f=G.getElementById(l[2]))&&(this[0]=f,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):I(t)?void 0!==o.ready?o.ready(t):t(h):h.makeArray(t,this)}).prototype=h.fn,D=h(G);var oe=/^(?:parents|prev(?:Until|All))/,he={children:!0,contents:!0,next:!0,prev:!0};function de(t,r){for(;(t=t[r])&&1!==t.nodeType;);return t}h.fn.extend({has:function(t){var r=h(t,this),o=r.length;return this.filter(function(){for(var l=0;l<o;l++)if(h.contains(this,r[l]))return!0})},closest:function(t,r){var o,l=0,f=this.length,g=[],v="string"!=typeof t&&h(t);if(!w.test(t))for(;l<f;l++)for(o=this[l];o&&o!==r;o=o.parentNode)if(o.nodeType<11&&(v?-1<v.index(o):1===o.nodeType&&h.find.matchesSelector(o,t))){g.push(o);break}return this.pushStack(1<g.length?h.uniqueSort(g):g)},index:function(t){return t?"string"==typeof t?Me.call(h(t),this[0]):Me.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,r){return this.pushStack(h.uniqueSort(h.merge(this.get(),h(t,r))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),h.each({parent:function(t){var r=t.parentNode;return r&&11!==r.nodeType?r:null},parents:function(t){return y(t,"parentNode")},parentsUntil:function(t,r,o){return y(t,"parentNode",o)},next:function(t){return de(t,"nextSibling")},prev:function(t){return de(t,"previousSibling")},nextAll:function(t){return y(t,"nextSibling")},prevAll:function(t){return y(t,"previousSibling")},nextUntil:function(t,r,o){return y(t,"nextSibling",o)},prevUntil:function(t,r,o){return y(t,"previousSibling",o)},siblings:function(t){return x((t.parentNode||{}).firstChild,t)},children:function(t){return x(t.firstChild)},contents:function(t){return null!=t.contentDocument&&Je(t.contentDocument)?t.contentDocument:(e(t,"template")&&(t=t.content||t),h.merge([],t.childNodes))}},function(t,r){h.fn[t]=function(o,l){var f=h.map(this,r,o);return"Until"!==t.slice(-5)&&(l=o),l&&"string"==typeof l&&(f=h.filter(l,f)),1<this.length&&(he[t]||h.uniqueSort(f),oe.test(t)&&f.reverse()),this.pushStack(f)}});var Z=/[^\x20\t\r\n\f]+/g;function _e(t){return t}function be(t){throw t}function te(t,r,o,l){var f;try{t&&I(f=t.promise)?f.call(t).done(r).fail(o):t&&I(f=t.then)?f.call(t,r,o):r.apply(void 0,[t].slice(l))}catch(g){o.apply(void 0,[g])}}h.Callbacks=function(t){var o;t="string"==typeof t?(o={},h.each(t.match(Z)||[],function(S,P){o[P]=!0}),o):h.extend({},t);var l,f,g,v,k=[],j=[],T=-1,O=function(){for(v=v||t.once,g=l=!0;j.length;T=-1)for(f=j.shift();++T<k.length;)!1===k[T].apply(f[0],f[1])&&t.stopOnFalse&&(T=k.length,f=!1);t.memory||(f=!1),l=!1,v&&(k=f?[]:"")},H={add:function(){return k&&(f&&!l&&(T=k.length-1,j.push(f)),function S(P){h.each(P,function(V,se){I(se)?t.unique&&H.has(se)||k.push(se):se&&se.length&&"string"!==Qe(se)&&S(se)})}(arguments),f&&!l&&O()),this},remove:function(){return h.each(arguments,function(S,P){for(var V;-1<(V=h.inArray(P,k,V));)k.splice(V,1),V<=T&&T--}),this},has:function(S){return S?-1<h.inArray(S,k):0<k.length},empty:function(){return k&&(k=[]),this},disable:function(){return v=j=[],k=f="",this},disabled:function(){return!k},lock:function(){return v=j=[],f||l||(k=f=""),this},locked:function(){return!!v},fireWith:function(S,P){return v||(P=[S,(P=P||[]).slice?P.slice():P],j.push(P),l||O()),this},fire:function(){return H.fireWith(this,arguments),this},fired:function(){return!!g}};return H},h.extend({Deferred:function(t){var r=[["notify","progress",h.Callbacks("memory"),h.Callbacks("memory"),2],["resolve","done",h.Callbacks("once memory"),h.Callbacks("once memory"),0,"resolved"],["reject","fail",h.Callbacks("once memory"),h.Callbacks("once memory"),1,"rejected"]],o="pending",l={state:function(){return o},always:function(){return f.done(arguments).fail(arguments),this},catch:function(g){return l.then(null,g)},pipe:function(){var g=arguments;return h.Deferred(function(v){h.each(r,function(k,j){var T=I(g[j[4]])&&g[j[4]];f[j[1]](function(){var O=T&&T.apply(this,arguments);O&&I(O.promise)?O.promise().progress(v.notify).done(v.resolve).fail(v.reject):v[j[0]+"With"](this,T?[O]:arguments)})}),g=null}).promise()},then:function(g,v,k){var j=0;function T(O,H,S,P){return function(){var V=this,se=arguments,ae=function(){var Le,nt;if(!(O<j)){if((Le=S.apply(V,se))===H.promise())throw new TypeError("Thenable self-resolution");I(nt=Le&&("object"==typeof Le||"function"==typeof Le)&&Le.then)?P?nt.call(Le,T(j,H,_e,P),T(j,H,be,P)):(j++,nt.call(Le,T(j,H,_e,P),T(j,H,be,P),T(j,H,_e,H.notifyWith))):(S!==_e&&(V=void 0,se=[Le]),(P||H.resolveWith)(V,se))}},Ce=P?ae:function(){try{ae()}catch(Le){h.Deferred.exceptionHook&&h.Deferred.exceptionHook(Le,Ce.error),j<=O+1&&(S!==be&&(V=void 0,se=[Le]),H.rejectWith(V,se))}};O?Ce():(h.Deferred.getErrorHook?Ce.error=h.Deferred.getErrorHook():h.Deferred.getStackHook&&(Ce.error=h.Deferred.getStackHook()),u.setTimeout(Ce))}}return h.Deferred(function(O){r[0][3].add(T(0,O,I(k)?k:_e,O.notifyWith)),r[1][3].add(T(0,O,I(g)?g:_e)),r[2][3].add(T(0,O,I(v)?v:be))}).promise()},promise:function(g){return null!=g?h.extend(g,l):l}},f={};return h.each(r,function(g,v){var k=v[2],j=v[5];l[v[1]]=k.add,j&&k.add(function(){o=j},r[3-g][2].disable,r[3-g][3].disable,r[0][2].lock,r[0][3].lock),k.add(v[3].fire),f[v[0]]=function(){return f[v[0]+"With"](this===f?void 0:this,arguments),this},f[v[0]+"With"]=k.fireWith}),l.promise(f),t&&t.call(f,f),f},when:function(t){var r=arguments.length,o=r,l=Array(o),f=ye.call(arguments),g=h.Deferred(),v=function(k){return function(j){l[k]=this,f[k]=1<arguments.length?ye.call(arguments):j,--r||g.resolveWith(l,f)}};if(r<=1&&(te(t,g.done(v(o)).resolve,g.reject,!r),"pending"===g.state()||I(f[o]&&f[o].then)))return g.then();for(;o--;)te(f[o],v(o),g.reject);return g.promise()}});var we=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;h.Deferred.exceptionHook=function(t,r){u.console&&u.console.warn&&t&&we.test(t.name)&&u.console.warn("jQuery.Deferred exception: "+t.message,t.stack,r)},h.readyException=function(t){u.setTimeout(function(){throw t})};var De=h.Deferred();function $e(){G.removeEventListener("DOMContentLoaded",$e),u.removeEventListener("load",$e),h.ready()}h.fn.ready=function(t){return De.then(t).catch(function(r){h.readyException(r)}),this},h.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--h.readyWait:h.isReady)||(h.isReady=!0)!==t&&0<--h.readyWait||De.resolveWith(G,[h])}}),h.ready.then=De.then,"complete"===G.readyState||"loading"!==G.readyState&&!G.documentElement.doScroll?u.setTimeout(h.ready):(G.addEventListener("DOMContentLoaded",$e),u.addEventListener("load",$e));var Fe=function(t,r,o,l,f,g,v){var k=0,j=t.length,T=null==o;if("object"===Qe(o))for(k in f=!0,o)Fe(t,r,k,o[k],!0,g,v);else if(void 0!==l&&(f=!0,I(l)||(v=!0),T&&(v?(r.call(t,l),r=null):(T=r,r=function(O,H,S){return T.call(h(O),S)})),r))for(;k<j;k++)r(t[k],o,v?l:l.call(t[k],k,r(t[k],o)));return f?t:T?r.call(t):j?r(t[0],o):g},R=/^-ms-/,Be=/-([a-z])/g;function Pe(t,r){return r.toUpperCase()}function je(t){return t.replace(R,"ms-").replace(Be,Pe)}var J=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function ze(){this.expando=h.expando+ze.uid++}ze.uid=1,ze.prototype={cache:function(t){var r=t[this.expando];return r||(r={},J(t)&&(t.nodeType?t[this.expando]=r:Object.defineProperty(t,this.expando,{value:r,configurable:!0}))),r},set:function(t,r,o){var l,f=this.cache(t);if("string"==typeof r)f[je(r)]=o;else for(l in r)f[je(l)]=r[l];return f},get:function(t,r){return void 0===r?this.cache(t):t[this.expando]&&t[this.expando][je(r)]},access:function(t,r,o){return void 0===r||r&&"string"==typeof r&&void 0===o?this.get(t,r):(this.set(t,r,o),void 0!==o?o:r)},remove:function(t,r){var o,l=t[this.expando];if(void 0!==l){if(void 0!==r)for((o=(r=Array.isArray(r)?r.map(je):(r=je(r))in l?[r]:r.match(Z)||[]).length);o--;)delete l[r[o]];(void 0===r||h.isEmptyObject(l))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var r=t[this.expando];return void 0!==r&&!h.isEmptyObject(r)}};var U=new ze,xe=new ze,W=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,sr=/[A-Z]/g;function xn(t,r,o){var l,f;if(void 0===o&&1===t.nodeType)if(l="data-"+r.replace(sr,"-$&").toLowerCase(),"string"==typeof(o=t.getAttribute(l))){try{o="true"===(f=o)||"false"!==f&&("null"===f?null:f===+f+""?+f:W.test(f)?JSON.parse(f):f)}catch(g){}xe.set(t,r,o)}else o=void 0;return o}h.extend({hasData:function(t){return xe.hasData(t)||U.hasData(t)},data:function(t,r,o){return xe.access(t,r,o)},removeData:function(t,r){xe.remove(t,r)},_data:function(t,r,o){return U.access(t,r,o)},_removeData:function(t,r){U.remove(t,r)}}),h.fn.extend({data:function(t,r){var o,l,f,g=this[0],v=g&&g.attributes;if(void 0===t){if(this.length&&(f=xe.get(g),1===g.nodeType&&!U.get(g,"hasDataAttrs"))){for(o=v.length;o--;)v[o]&&0===(l=v[o].name).indexOf("data-")&&(l=je(l.slice(5)),xn(g,l,f[l]));U.set(g,"hasDataAttrs",!0)}return f}return"object"==typeof t?this.each(function(){xe.set(this,t)}):Fe(this,function(k){var j;if(g&&void 0===k)return void 0!==(j=xe.get(g,t))||void 0!==(j=xn(g,t))?j:void 0;this.each(function(){xe.set(this,t,k)})},null,r,1<arguments.length,null,!0)},removeData:function(t){return this.each(function(){xe.remove(this,t)})}}),h.extend({queue:function(t,r,o){var l;if(t)return l=U.get(t,r=(r||"fx")+"queue"),o&&(!l||Array.isArray(o)?l=U.access(t,r,h.makeArray(o)):l.push(o)),l||[]},dequeue:function(t,r){var o=h.queue(t,r=r||"fx"),l=o.length,f=o.shift(),g=h._queueHooks(t,r);"inprogress"===f&&(f=o.shift(),l--),f&&("fx"===r&&o.unshift("inprogress"),delete g.stop,f.call(t,function(){h.dequeue(t,r)},g)),!l&&g&&g.empty.fire()},_queueHooks:function(t,r){var o=r+"queueHooks";return U.get(t,o)||U.access(t,o,{empty:h.Callbacks("once memory").add(function(){U.remove(t,[r+"queue",o])})})}}),h.fn.extend({queue:function(t,r){var o=2;return"string"!=typeof t&&(r=t,t="fx",o--),arguments.length<o?h.queue(this[0],t):void 0===r?this:this.each(function(){var l=h.queue(this,t,r);h._queueHooks(this,t),"fx"===t&&"inprogress"!==l[0]&&h.dequeue(this,t)})},dequeue:function(t){return this.each(function(){h.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,r){var o,l=1,f=h.Deferred(),g=this,v=this.length,k=function(){--l||f.resolveWith(g,[g])};for("string"!=typeof t&&(r=t,t=void 0),t=t||"fx";v--;)(o=U.get(g[v],t+"queueHooks"))&&o.empty&&(l++,o.empty.add(k));return k(),f.promise(r)}});var kn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ht=new RegExp("^(?:([+-])=|)("+kn+")([a-z%]*)$","i"),dt=["Top","Right","Bottom","Left"],_t=G.documentElement,Ct=function(t){return h.contains(t.ownerDocument,t)},ar={composed:!0};_t.getRootNode&&(Ct=function(t){return h.contains(t.ownerDocument,t)||t.getRootNode(ar)===t.ownerDocument});var Bt=function(t,r){return"none"===(t=r||t).style.display||""===t.style.display&&Ct(t)&&"none"===h.css(t,"display")};function wn(t,r,o,l){var f,g,v=20,k=l?function(){return l.cur()}:function(){return h.css(t,r,"")},j=k(),T=o&&o[3]||(h.cssNumber[r]?"":"px"),O=t.nodeType&&(h.cssNumber[r]||"px"!==T&&+j)&&Ht.exec(h.css(t,r));if(O&&O[3]!==T){for(T=T||O[3],O=+(j/=2)||1;v--;)h.style(t,r,O+T),(1-g)*(1-(g=k()/j||.5))<=0&&(v=0),O/=g;h.style(t,r,(O*=2)+T),o=o||[]}return o&&(O=+O||+j||0,f=o[1]?O+(o[1]+1)*o[2]:+o[2],l&&(l.unit=T,l.start=O,l.end=f)),f}var Cn={};function Tt(t,r){for(var o,l,f,g,v,k,j,T=[],O=0,H=t.length;O<H;O++)(l=t[O]).style&&(o=l.style.display,r?("none"===o&&(T[O]=U.get(l,"display")||null,T[O]||(l.style.display="")),""===l.style.display&&Bt(l)&&(T[O]=(j=v=g=void 0,v=(f=l).ownerDocument,(j=Cn[k=f.nodeName])||(g=v.body.appendChild(v.createElement(k)),j=h.css(g,"display"),g.parentNode.removeChild(g),"none"===j&&(j="block"),Cn[k]=j)))):"none"!==o&&(T[O]="none",U.set(l,"display",o)));for(O=0;O<H;O++)null!=T[O]&&(t[O].style.display=T[O]);return t}h.fn.extend({show:function(){return Tt(this,!0)},hide:function(){return Tt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Bt(this)?h(this).show():h(this).hide()})}});var mt,zt,Ft=/^(?:checkbox|radio)$/i,Tn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Sn=/^$|^module$|\/(?:java|ecma)script/i;mt=G.createDocumentFragment().appendChild(G.createElement("div")),(zt=G.createElement("input")).setAttribute("type","radio"),zt.setAttribute("checked","checked"),zt.setAttribute("name","t"),mt.appendChild(zt),ie.checkClone=mt.cloneNode(!0).cloneNode(!0).lastChild.checked,mt.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!mt.cloneNode(!0).lastChild.defaultValue,mt.innerHTML="<option></option>",ie.option=!!mt.lastChild;var Ve={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Xe(t,r){var o;return o=void 0!==t.getElementsByTagName?t.getElementsByTagName(r||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(r||"*"):[],void 0===r||r&&e(t,r)?h.merge([t],o):o}function en(t,r){for(var o=0,l=t.length;o<l;o++)U.set(t[o],"globalEval",!r||U.get(r[o],"globalEval"))}Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td,ie.option||(Ve.optgroup=Ve.option=[1,"<select multiple='multiple'>","</select>"]);var or=/<|&#?\w+;/;function Nn(t,r,o,l,f){for(var g,v,k,j,T,O,H=r.createDocumentFragment(),S=[],P=0,V=t.length;P<V;P++)if((g=t[P])||0===g)if("object"===Qe(g))h.merge(S,g.nodeType?[g]:g);else if(or.test(g)){for(v=v||H.appendChild(r.createElement("div")),k=(Tn.exec(g)||["",""])[1].toLowerCase(),v.innerHTML=(j=Ve[k]||Ve._default)[1]+h.htmlPrefilter(g)+j[2],O=j[0];O--;)v=v.lastChild;h.merge(S,v.childNodes),(v=H.firstChild).textContent=""}else S.push(r.createTextNode(g));for(H.textContent="",P=0;g=S[P++];)if(l&&-1<h.inArray(g,l))f&&f.push(g);else if(T=Ct(g),v=Xe(H.appendChild(g),"script"),T&&en(v),o)for(O=0;g=v[O++];)Sn.test(g.type||"")&&o.push(g);return H}var An=/^([^.]*)(?:\.(.+)|)/;function St(){return!0}function Nt(){return!1}function tn(t,r,o,l,f,g){var v,k;if("object"==typeof r){for(k in"string"!=typeof o&&(l=l||o,o=void 0),r)tn(t,k,o,l,r[k],g);return t}if(null==l&&null==f?(f=o,l=o=void 0):null==f&&("string"==typeof o?(f=l,l=void 0):(f=l,l=o,o=void 0)),!1===f)f=Nt;else if(!f)return t;return 1===g&&(v=f,(f=function(j){return h().off(j),v.apply(this,arguments)}).guid=v.guid||(v.guid=h.guid++)),t.each(function(){h.event.add(this,r,f,l,o)})}function Xt(t,r,o){o?(U.set(t,r,!1),h.event.add(t,r,{namespace:!1,handler:function(l){var f,g=U.get(this,r);if(1&l.isTrigger&&this[r]){if(g)(h.event.special[r]||{}).delegateType&&l.stopPropagation();else if(g=ye.call(arguments),U.set(this,r,g),this[r](),f=U.get(this,r),U.set(this,r,!1),g!==f)return l.stopImmediatePropagation(),l.preventDefault(),f}else g&&(U.set(this,r,h.event.trigger(g[0],g.slice(1),this)),l.stopPropagation(),l.isImmediatePropagationStopped=St)}})):void 0===U.get(t,r)&&h.event.add(t,r,St)}h.event={global:{},add:function(t,r,o,l,f){var g,v,k,j,T,O,H,S,P,V,se,ae=U.get(t);if(J(t))for(o.handler&&(o=(g=o).handler,f=g.selector),f&&h.find.matchesSelector(_t,f),o.guid||(o.guid=h.guid++),(j=ae.events)||(j=ae.events=Object.create(null)),(v=ae.handle)||(v=ae.handle=function(Ce){return void 0!==h&&h.event.triggered!==Ce.type?h.event.dispatch.apply(t,arguments):void 0}),T=(r=(r||"").match(Z)||[""]).length;T--;)P=se=(k=An.exec(r[T])||[])[1],V=(k[2]||"").split(".").sort(),P&&(H=h.event.special[P]||{},H=h.event.special[P=(f?H.delegateType:H.bindType)||P]||{},O=h.extend({type:P,origType:se,data:l,handler:o,guid:o.guid,selector:f,needsContext:f&&h.expr.match.needsContext.test(f),namespace:V.join(".")},g),(S=j[P])||((S=j[P]=[]).delegateCount=0,H.setup&&!1!==H.setup.call(t,l,V,v)||t.addEventListener&&t.addEventListener(P,v)),H.add&&(H.add.call(t,O),O.handler.guid||(O.handler.guid=o.guid)),f?S.splice(S.delegateCount++,0,O):S.push(O),h.event.global[P]=!0)},remove:function(t,r,o,l,f){var g,v,k,j,T,O,H,S,P,V,se,ae=U.hasData(t)&&U.get(t);if(ae&&(j=ae.events)){for(T=(r=(r||"").match(Z)||[""]).length;T--;)if(P=se=(k=An.exec(r[T])||[])[1],V=(k[2]||"").split(".").sort(),P){for(H=h.event.special[P]||{},S=j[P=(l?H.delegateType:H.bindType)||P]||[],k=k[2]&&new RegExp("(^|\\.)"+V.join("\\.(?:.*\\.|)")+"(\\.|$)"),v=g=S.length;g--;)O=S[g],!f&&se!==O.origType||o&&o.guid!==O.guid||k&&!k.test(O.namespace)||l&&l!==O.selector&&("**"!==l||!O.selector)||(S.splice(g,1),O.selector&&S.delegateCount--,H.remove&&H.remove.call(t,O));v&&!S.length&&(H.teardown&&!1!==H.teardown.call(t,V,ae.handle)||h.removeEvent(t,P,ae.handle),delete j[P])}else for(P in j)h.event.remove(t,P+r[T],o,l,!0);h.isEmptyObject(j)&&U.remove(t,"handle events")}},dispatch:function(t){var r,o,l,f,g,v,k=new Array(arguments.length),j=h.event.fix(t),T=(U.get(this,"events")||Object.create(null))[j.type]||[],O=h.event.special[j.type]||{};for(k[0]=j,r=1;r<arguments.length;r++)k[r]=arguments[r];if(j.delegateTarget=this,!O.preDispatch||!1!==O.preDispatch.call(this,j)){for(v=h.event.handlers.call(this,j,T),r=0;(f=v[r++])&&!j.isPropagationStopped();)for(j.currentTarget=f.elem,o=0;(g=f.handlers[o++])&&!j.isImmediatePropagationStopped();)j.rnamespace&&!1!==g.namespace&&!j.rnamespace.test(g.namespace)||(j.handleObj=g,j.data=g.data,void 0!==(l=((h.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,k))&&!1===(j.result=l)&&(j.preventDefault(),j.stopPropagation()));return O.postDispatch&&O.postDispatch.call(this,j),j.result}},handlers:function(t,r){var o,l,f,g,v,k=[],j=r.delegateCount,T=t.target;if(j&&T.nodeType&&!("click"===t.type&&1<=t.button))for(;T!==this;T=T.parentNode||this)if(1===T.nodeType&&("click"!==t.type||!0!==T.disabled)){for(g=[],v={},o=0;o<j;o++)void 0===v[f=(l=r[o]).selector+" "]&&(v[f]=l.needsContext?-1<h(f,this).index(T):h.find(f,this,null,[T]).length),v[f]&&g.push(l);g.length&&k.push({elem:T,handlers:g})}return T=this,j<r.length&&k.push({elem:T,handlers:r.slice(j)}),k},addProp:function(t,r){Object.defineProperty(h.Event.prototype,t,{enumerable:!0,configurable:!0,get:I(r)?function(){if(this.originalEvent)return r(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(o){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:o})}})},fix:function(t){return t[h.expando]?t:new h.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var r=this||t;return Ft.test(r.type)&&r.click&&e(r,"input")&&Xt(r,"click",!0),!1},trigger:function(t){var r=this||t;return Ft.test(r.type)&&r.click&&e(r,"input")&&Xt(r,"click"),!0},_default:function(t){var r=t.target;return Ft.test(r.type)&&r.click&&e(r,"input")&&U.get(r,"click")||e(r,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},h.removeEvent=function(t,r,o){t.removeEventListener&&t.removeEventListener(r,o)},h.Event=function(t,r){if(!(this instanceof h.Event))return new h.Event(t,r);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?St:Nt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,r&&h.extend(this,r),this.timeStamp=t&&t.timeStamp||Date.now(),this[h.expando]=!0},h.Event.prototype={constructor:h.Event,isDefaultPrevented:Nt,isPropagationStopped:Nt,isImmediatePropagationStopped:Nt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=St,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=St,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=St,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},h.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},h.event.addProp),h.each({focus:"focusin",blur:"focusout"},function(t,r){function o(l){if(G.documentMode){var f=U.get(this,"handle"),g=h.event.fix(l);g.type="focusin"===l.type?"focus":"blur",g.isSimulated=!0,f(l),g.target===g.currentTarget&&f(g)}else h.event.simulate(r,l.target,h.event.fix(l))}h.event.special[t]={setup:function(){var l;if(Xt(this,t,!0),!G.documentMode)return!1;(l=U.get(this,r))||this.addEventListener(r,o),U.set(this,r,(l||0)+1)},trigger:function(){return Xt(this,t),!0},teardown:function(){var l;if(!G.documentMode)return!1;(l=U.get(this,r)-1)?U.set(this,r,l):(this.removeEventListener(r,o),U.remove(this,r))},_default:function(l){return U.get(l.target,t)},delegateType:r},h.event.special[r]={setup:function(){var l=this.ownerDocument||this.document||this,f=G.documentMode?this:l,g=U.get(f,r);g||(G.documentMode?this.addEventListener(r,o):l.addEventListener(t,o,!0)),U.set(f,r,(g||0)+1)},teardown:function(){var l=this.ownerDocument||this.document||this,f=G.documentMode?this:l,g=U.get(f,r)-1;g?U.set(f,r,g):(G.documentMode?this.removeEventListener(r,o):l.removeEventListener(t,o,!0),U.remove(f,r))}}}),h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){h.event.special[t]={delegateType:r,bindType:r,handle:function(o){var l,f=o.relatedTarget,g=o.handleObj;return f&&(f===this||h.contains(this,f))||(o.type=g.origType,l=g.handler.apply(this,arguments),o.type=r),l}}}),h.fn.extend({on:function(t,r,o,l){return tn(this,t,r,o,l)},one:function(t,r,o,l){return tn(this,t,r,o,l,1)},off:function(t,r,o){var l,f;if(t&&t.preventDefault&&t.handleObj)return l=t.handleObj,h(t.delegateTarget).off(l.namespace?l.origType+"."+l.namespace:l.origType,l.selector,l.handler),this;if("object"==typeof t){for(f in t)this.off(f,r,t[f]);return this}return!1!==r&&"function"!=typeof r||(o=r,r=void 0),!1===o&&(o=Nt),this.each(function(){h.event.remove(this,t,o,r)})}});var dr=/<script|<style|<link/i,cr=/checked\s*(?:[^=]|=\s*.checked.)/i,lr=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function On(t,r){return e(t,"table")&&e(11!==r.nodeType?r:r.firstChild,"tr")&&h(t).children("tbody")[0]||t}function hr(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function ur(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Dn(t,r){var o,l,f,g,v,k;if(1===r.nodeType){if(U.hasData(t)&&(k=U.get(t).events))for(f in U.remove(r,"handle events"),k)for(o=0,l=k[f].length;o<l;o++)h.event.add(r,f,k[f][o]);xe.hasData(t)&&(g=xe.access(t),v=h.extend({},g),xe.set(r,v))}}function At(t,r,o,l){r=at(r);var f,g,v,k,j,T,O=0,H=t.length,S=H-1,P=r[0],V=I(P);if(V||1<H&&"string"==typeof P&&!ie.checkClone&&cr.test(P))return t.each(function(se){var ae=t.eq(se);V&&(r[0]=P.call(this,se,ae.html())),At(ae,r,o,l)});if(H&&(g=(f=Nn(r,t[0].ownerDocument,!1,t,l)).firstChild,1===f.childNodes.length&&(f=g),g||l)){for(k=(v=h.map(Xe(f,"script"),hr)).length;O<H;O++)j=f,O!==S&&(j=h.clone(j,!0,!0),k&&h.merge(v,Xe(j,"script"))),o.call(t[O],j,O);if(k)for(T=v[v.length-1].ownerDocument,h.map(v,ur),O=0;O<k;O++)Sn.test((j=v[O]).type||"")&&!U.access(j,"globalEval")&&h.contains(T,j)&&(j.src&&"module"!==(j.type||"").toLowerCase()?h._evalUrl&&!j.noModule&&h._evalUrl(j.src,{nonce:j.nonce||j.getAttribute("nonce")},T):$(j.textContent.replace(lr,""),j,T))}return t}function Ln(t,r,o){for(var l,f=r?h.filter(r,t):t,g=0;null!=(l=f[g]);g++)o||1!==l.nodeType||h.cleanData(Xe(l)),l.parentNode&&(o&&Ct(l)&&en(Xe(l,"script")),l.parentNode.removeChild(l));return t}h.extend({htmlPrefilter:function(t){return t},clone:function(t,r,o){var l,f,g,v,k,j,T,O=t.cloneNode(!0),H=Ct(t);if(!(ie.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||h.isXMLDoc(t)))for(v=Xe(O),l=0,f=(g=Xe(t)).length;l<f;l++)k=g[l],"input"===(T=(j=v[l]).nodeName.toLowerCase())&&Ft.test(k.type)?j.checked=k.checked:"input"!==T&&"textarea"!==T||(j.defaultValue=k.defaultValue);if(r)if(o)for(g=g||Xe(t),v=v||Xe(O),l=0,f=g.length;l<f;l++)Dn(g[l],v[l]);else Dn(t,O);return 0<(v=Xe(O,"script")).length&&en(v,!H&&Xe(t,"script")),O},cleanData:function(t){for(var r,o,l,f=h.event.special,g=0;void 0!==(o=t[g]);g++)if(J(o)){if(r=o[U.expando]){if(r.events)for(l in r.events)f[l]?h.event.remove(o,l):h.removeEvent(o,l,r.handle);o[U.expando]=void 0}o[xe.expando]&&(o[xe.expando]=void 0)}}}),h.fn.extend({detach:function(t){return Ln(this,t,!0)},remove:function(t){return Ln(this,t)},text:function(t){return Fe(this,function(r){return void 0===r?h.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=r)})},null,t,arguments.length)},append:function(){return At(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||On(this,t).appendChild(t)})},prepend:function(){return At(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var r=On(this,t);r.insertBefore(t,r.firstChild)}})},before:function(){return At(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return At(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,r=0;null!=(t=this[r]);r++)1===t.nodeType&&(h.cleanData(Xe(t,!1)),t.textContent="");return this},clone:function(t,r){return t=null!=t&&t,r=null==r?t:r,this.map(function(){return h.clone(this,t,r)})},html:function(t){return Fe(this,function(r){var o=this[0]||{},l=0,f=this.length;if(void 0===r&&1===o.nodeType)return o.innerHTML;if("string"==typeof r&&!dr.test(r)&&!Ve[(Tn.exec(r)||["",""])[1].toLowerCase()]){r=h.htmlPrefilter(r);try{for(;l<f;l++)1===(o=this[l]||{}).nodeType&&(h.cleanData(Xe(o,!1)),o.innerHTML=r);o=0}catch(g){}}o&&this.empty().append(r)},null,t,arguments.length)},replaceWith:function(){var t=[];return At(this,arguments,function(r){var o=this.parentNode;h.inArray(this,t)<0&&(h.cleanData(Xe(this)),o&&o.replaceChild(r,this))},t)}}),h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,r){h.fn[t]=function(o){for(var l,f=[],g=h(o),v=g.length-1,k=0;k<=v;k++)l=k===v?this:this.clone(!0),h(g[k])[r](l),pt.apply(f,l.get());return this.pushStack(f)}});var nn=new RegExp("^("+kn+")(?!px)[a-z%]+$","i"),rn=/^--/,Ut=function(t){var r=t.ownerDocument.defaultView;return r&&r.opener||(r=u),r.getComputedStyle(t)},qn=function(t,r,o){var l,f,g={};for(f in r)g[f]=t.style[f],t.style[f]=r[f];for(f in l=o.call(t),r)t.style[f]=g[f];return l},fr=new RegExp(dt.join("|"),"i");function Mt(t,r,o){var l,f,g,v,k=rn.test(r),j=t.style;return(o=o||Ut(t))&&(v=o.getPropertyValue(r)||o[r],k&&v&&(v=v.replace(c,"$1")||void 0),""!==v||Ct(t)||(v=h.style(t,r)),!ie.pixelBoxStyles()&&nn.test(v)&&fr.test(r)&&(l=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=v,v=o.width,j.width=l,j.minWidth=f,j.maxWidth=g)),void 0!==v?v+"":v}function Hn(t,r){return{get:function(){if(!t())return(this.get=r).apply(this,arguments);delete this.get}}}!function(){function t(){if(T){j.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",T.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",_t.appendChild(j).appendChild(T);var O=u.getComputedStyle(T);o="1%"!==O.top,k=12===r(O.marginLeft),T.style.right="60%",g=36===r(O.right),l=36===r(O.width),T.style.position="absolute",f=12===r(T.offsetWidth/3),_t.removeChild(j),T=null}}function r(O){return Math.round(parseFloat(O))}var o,l,f,g,v,k,j=G.createElement("div"),T=G.createElement("div");T.style&&(T.style.backgroundClip="content-box",T.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===T.style.backgroundClip,h.extend(ie,{boxSizingReliable:function(){return t(),l},pixelBoxStyles:function(){return t(),g},pixelPosition:function(){return t(),o},reliableMarginLeft:function(){return t(),k},scrollboxSize:function(){return t(),f},reliableTrDimensions:function(){var O,H,S,P;return null==v&&(O=G.createElement("table"),H=G.createElement("tr"),S=G.createElement("div"),O.style.cssText="position:absolute;left:-11111px;border-collapse:separate",H.style.cssText="box-sizing:content-box;border:1px solid",H.style.height="1px",S.style.height="9px",S.style.display="block",_t.appendChild(O).appendChild(H).appendChild(S),P=u.getComputedStyle(H),v=parseInt(P.height,10)+parseInt(P.borderTopWidth,10)+parseInt(P.borderBottomWidth,10)===H.offsetHeight,_t.removeChild(O)),v}}))}();var Fn=["Webkit","Moz","ms"],Mn=G.createElement("div").style,Pn={};function sn(t){return h.cssProps[t]||Pn[t]||(t in Mn?t:Pn[t]=function(o){for(var l=o[0].toUpperCase()+o.slice(1),f=Fn.length;f--;)if((o=Fn[f]+l)in Mn)return o}(t)||t)}var pr=/^(none|table(?!-c[ea]).+)/,gr={position:"absolute",visibility:"hidden",display:"block"},In={letterSpacing:"0",fontWeight:"400"};function Rn(t,r,o){var l=Ht.exec(r);return l?Math.max(0,l[2]-(o||0))+(l[3]||"px"):r}function an(t,r,o,l,f,g){var v="width"===r?1:0,k=0,j=0,T=0;if(o===(l?"border":"content"))return 0;for(;v<4;v+=2)"margin"===o&&(T+=h.css(t,o+dt[v],!0,f)),l?("content"===o&&(j-=h.css(t,"padding"+dt[v],!0,f)),"margin"!==o&&(j-=h.css(t,"border"+dt[v]+"Width",!0,f))):(j+=h.css(t,"padding"+dt[v],!0,f),"padding"!==o?j+=h.css(t,"border"+dt[v]+"Width",!0,f):k+=h.css(t,"border"+dt[v]+"Width",!0,f));return!l&&0<=g&&(j+=Math.max(0,Math.ceil(t["offset"+r[0].toUpperCase()+r.slice(1)]-g-j-k-.5))||0),j+T}function $n(t,r,o){var l=Ut(t),f=(!ie.boxSizingReliable()||o)&&"border-box"===h.css(t,"boxSizing",!1,l),g=f,v=Mt(t,r,l),k="offset"+r[0].toUpperCase()+r.slice(1);if(nn.test(v)){if(!o)return v;v="auto"}return(!ie.boxSizingReliable()&&f||!ie.reliableTrDimensions()&&e(t,"tr")||"auto"===v||!parseFloat(v)&&"inline"===h.css(t,"display",!1,l))&&t.getClientRects().length&&(f="border-box"===h.css(t,"boxSizing",!1,l),(g=k in t)&&(v=t[k])),(v=parseFloat(v)||0)+an(t,r,o||(f?"border":"content"),g,l,v)+"px"}function Ze(t,r,o,l,f){return new Ze.prototype.init(t,r,o,l,f)}h.extend({cssHooks:{opacity:{get:function(t,r){if(r){var o=Mt(t,"opacity");return""===o?"1":o}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,r,o,l){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var f,g,v,k=je(r),j=rn.test(r),T=t.style;if(j||(r=sn(k)),v=h.cssHooks[r]||h.cssHooks[k],void 0===o)return v&&"get"in v&&void 0!==(f=v.get(t,!1,l))?f:T[r];"string"==(g=typeof o)&&(f=Ht.exec(o))&&f[1]&&(o=wn(t,r,f),g="number"),null!=o&&o==o&&("number"!==g||j||(o+=f&&f[3]||(h.cssNumber[k]?"":"px")),ie.clearCloneStyle||""!==o||0!==r.indexOf("background")||(T[r]="inherit"),v&&"set"in v&&void 0===(o=v.set(t,o,l))||(j?T.setProperty(r,o):T[r]=o))}},css:function(t,r,o,l){var f,g,v,k=je(r);return rn.test(r)||(r=sn(k)),(v=h.cssHooks[r]||h.cssHooks[k])&&"get"in v&&(f=v.get(t,!0,o)),void 0===f&&(f=Mt(t,r,l)),"normal"===f&&r in In&&(f=In[r]),""===o||o?(g=parseFloat(f),!0===o||isFinite(g)?g||0:f):f}}),h.each(["height","width"],function(t,r){h.cssHooks[r]={get:function(o,l,f){if(l)return!pr.test(h.css(o,"display"))||o.getClientRects().length&&o.getBoundingClientRect().width?$n(o,r,f):qn(o,gr,function(){return $n(o,r,f)})},set:function(o,l,f){var g,v=Ut(o),k=!ie.scrollboxSize()&&"absolute"===v.position,j=(k||f)&&"border-box"===h.css(o,"boxSizing",!1,v),T=f?an(o,r,f,j,v):0;return j&&k&&(T-=Math.ceil(o["offset"+r[0].toUpperCase()+r.slice(1)]-parseFloat(v[r])-an(o,r,"border",!1,v)-.5)),T&&(g=Ht.exec(l))&&"px"!==(g[3]||"px")&&(o.style[r]=l,l=h.css(o,r)),Rn(0,l,T)}}}),h.cssHooks.marginLeft=Hn(ie.reliableMarginLeft,function(t,r){if(r)return(parseFloat(Mt(t,"marginLeft"))||t.getBoundingClientRect().left-qn(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),h.each({margin:"",padding:"",border:"Width"},function(t,r){h.cssHooks[t+r]={expand:function(o){for(var l=0,f={},g="string"==typeof o?o.split(" "):[o];l<4;l++)f[t+dt[l]+r]=g[l]||g[l-2]||g[0];return f}},"margin"!==t&&(h.cssHooks[t+r].set=Rn)}),h.fn.extend({css:function(t,r){return Fe(this,function(o,l,f){var g,v,k={},j=0;if(Array.isArray(l)){for(g=Ut(o),v=l.length;j<v;j++)k[l[j]]=h.css(o,l[j],!1,g);return k}return void 0!==f?h.style(o,l,f):h.css(o,l)},t,r,1<arguments.length)}}),((h.Tween=Ze).prototype={constructor:Ze,init:function(t,r,o,l,f,g){this.elem=t,this.prop=o,this.easing=f||h.easing._default,this.options=r,this.start=this.now=this.cur(),this.end=l,this.unit=g||(h.cssNumber[o]?"":"px")},cur:function(){var t=Ze.propHooks[this.prop];return t&&t.get?t.get(this):Ze.propHooks._default.get(this)},run:function(t){var r,o=Ze.propHooks[this.prop];return this.pos=r=this.options.duration?h.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*r+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):Ze.propHooks._default.set(this),this}}).init.prototype=Ze.prototype,(Ze.propHooks={_default:{get:function(t){var r;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(r=h.css(t.elem,t.prop,""))&&"auto"!==r?r:0},set:function(t){h.fx.step[t.prop]?h.fx.step[t.prop](t):1!==t.elem.nodeType||!h.cssHooks[t.prop]&&null==t.elem.style[sn(t.prop)]?t.elem[t.prop]=t.now:h.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=Ze.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},h.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},h.fx=Ze.prototype.init,h.fx.step={};var Ot,Yt,Dt,Wn,_r=/^(?:toggle|show|hide)$/,mr=/queueHooks$/;function on(){Yt&&(!1===G.hidden&&u.requestAnimationFrame?u.requestAnimationFrame(on):u.setTimeout(on,h.fx.interval),h.fx.tick())}function Kn(){return u.setTimeout(function(){Ot=void 0}),Ot=Date.now()}function Jt(t,r){var o,l=0,f={height:t};for(r=r?1:0;l<4;l+=2-r)f["margin"+(o=dt[l])]=f["padding"+o]=t;return r&&(f.opacity=f.width=t),f}function Bn(t,r,o){for(var l,f=(Ee.tweeners[r]||[]).concat(Ee.tweeners["*"]),g=0,v=f.length;g<v;g++)if(l=f[g].call(o,r,t))return l}function Ee(t,r,o){var l,f,g=0,v=Ee.prefilters.length,k=h.Deferred().always(function(){delete j.elem}),j=function(){if(f)return!1;for(var H=Ot||Kn(),S=Math.max(0,T.startTime+T.duration-H),P=1-(S/T.duration||0),V=0,se=T.tweens.length;V<se;V++)T.tweens[V].run(P);return k.notifyWith(t,[T,P,S]),P<1&&se?S:(se||k.notifyWith(t,[T,1,0]),k.resolveWith(t,[T]),!1)},T=k.promise({elem:t,props:h.extend({},r),opts:h.extend(!0,{specialEasing:{},easing:h.easing._default},o),originalProperties:r,originalOptions:o,startTime:Ot||Kn(),duration:o.duration,tweens:[],createTween:function(H,S){var P=h.Tween(t,T.opts,H,S,T.opts.specialEasing[H]||T.opts.easing);return T.tweens.push(P),P},stop:function(H){var S=0,P=H?T.tweens.length:0;if(f)return this;for(f=!0;S<P;S++)T.tweens[S].run(1);return H?(k.notifyWith(t,[T,1,0]),k.resolveWith(t,[T,H])):k.rejectWith(t,[T,H]),this}}),O=T.props;for(function(H,S){var P,V,se,ae,Ce;for(P in H)if(se=S[V=je(P)],ae=H[P],Array.isArray(ae)&&(se=ae[1],ae=H[P]=ae[0]),P!==V&&(H[V]=ae,delete H[P]),(Ce=h.cssHooks[V])&&"expand"in Ce)for(P in ae=Ce.expand(ae),delete H[V],ae)P in H||(H[P]=ae[P],S[P]=se);else S[V]=se}(O,T.opts.specialEasing);g<v;g++)if(l=Ee.prefilters[g].call(T,t,O,T.opts))return I(l.stop)&&(h._queueHooks(T.elem,T.opts.queue).stop=l.stop.bind(l)),l;return h.map(O,Bn,T),I(T.opts.start)&&T.opts.start.call(t,T),T.progress(T.opts.progress).done(T.opts.done,T.opts.complete).fail(T.opts.fail).always(T.opts.always),h.fx.timer(h.extend(j,{elem:t,anim:T,queue:T.opts.queue})),T}h.Animation=h.extend(Ee,{tweeners:{"*":[function(t,r){var o=this.createTween(t,r);return wn(o.elem,t,Ht.exec(r),o),o}]},tweener:function(t,r){I(t)?(r=t,t=["*"]):t=t.match(Z);for(var o,l=0,f=t.length;l<f;l++)(Ee.tweeners[o=t[l]]=Ee.tweeners[o]||[]).unshift(r)},prefilters:[function(t,r,o){var l,f,g,v,k,j,T,O,H="width"in r||"height"in r,S=this,P={},V=t.style,se=t.nodeType&&Bt(t),ae=U.get(t,"fxshow");for(l in o.queue||(null==(v=h._queueHooks(t,"fx")).unqueued&&(v.unqueued=0,k=v.empty.fire,v.empty.fire=function(){v.unqueued||k()}),v.unqueued++,S.always(function(){S.always(function(){v.unqueued--,h.queue(t,"fx").length||v.empty.fire()})})),r)if(_r.test(f=r[l])){if(delete r[l],g=g||"toggle"===f,f===(se?"hide":"show")){if("show"!==f||!ae||void 0===ae[l])continue;se=!0}P[l]=ae&&ae[l]||h.style(t,l)}if((j=!h.isEmptyObject(r))||!h.isEmptyObject(P))for(l in H&&1===t.nodeType&&(o.overflow=[V.overflow,V.overflowX,V.overflowY],null==(T=ae&&ae.display)&&(T=U.get(t,"display")),"none"===(O=h.css(t,"display"))&&(T?O=T:(Tt([t],!0),T=t.style.display||T,O=h.css(t,"display"),Tt([t]))),("inline"===O||"inline-block"===O&&null!=T)&&"none"===h.css(t,"float")&&(j||(S.done(function(){V.display=T}),null==T&&(T="none"===(O=V.display)?"":O)),V.display="inline-block")),o.overflow&&(V.overflow="hidden",S.always(function(){V.overflow=o.overflow[0],V.overflowX=o.overflow[1],V.overflowY=o.overflow[2]})),j=!1,P)j||(ae?"hidden"in ae&&(se=ae.hidden):ae=U.access(t,"fxshow",{display:T}),g&&(ae.hidden=!se),se&&Tt([t],!0),S.done(function(){for(l in se||Tt([t]),U.remove(t,"fxshow"),P)h.style(t,l,P[l])})),j=Bn(se?ae[l]:0,l,S),l in ae||(ae[l]=j.start,se&&(j.end=j.start,j.start=0))}],prefilter:function(t,r){r?Ee.prefilters.unshift(t):Ee.prefilters.push(t)}}),h.speed=function(t,r,o){var l=t&&"object"==typeof t?h.extend({},t):{complete:o||!o&&r||I(t)&&t,duration:t,easing:o&&r||r&&!I(r)&&r};return h.fx.off?l.duration=0:"number"!=typeof l.duration&&(l.duration=l.duration in h.fx.speeds?h.fx.speeds[l.duration]:h.fx.speeds._default),null!=l.queue&&!0!==l.queue||(l.queue="fx"),l.old=l.complete,l.complete=function(){I(l.old)&&l.old.call(this),l.queue&&h.dequeue(this,l.queue)},l},h.fn.extend({fadeTo:function(t,r,o,l){return this.filter(Bt).css("opacity",0).show().end().animate({opacity:r},t,o,l)},animate:function(t,r,o,l){var f=h.isEmptyObject(t),g=h.speed(r,o,l),v=function(){var k=Ee(this,h.extend({},t),g);(f||U.get(this,"finish"))&&k.stop(!0)};return v.finish=v,f||!1===g.queue?this.each(v):this.queue(g.queue,v)},stop:function(t,r,o){var l=function(f){var g=f.stop;delete f.stop,g(o)};return"string"!=typeof t&&(o=r,r=t,t=void 0),r&&this.queue(t||"fx",[]),this.each(function(){var f=!0,g=null!=t&&t+"queueHooks",v=h.timers,k=U.get(this);if(g)k[g]&&k[g].stop&&l(k[g]);else for(g in k)k[g]&&k[g].stop&&mr.test(g)&&l(k[g]);for(g=v.length;g--;)v[g].elem!==this||null!=t&&v[g].queue!==t||(v[g].anim.stop(o),f=!1,v.splice(g,1));!f&&o||h.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var r,o=U.get(this),l=o[t+"queue"],f=o[t+"queueHooks"],g=h.timers,v=l?l.length:0;for(o.finish=!0,h.queue(this,t,[]),f&&f.stop&&f.stop.call(this,!0),r=g.length;r--;)g[r].elem===this&&g[r].queue===t&&(g[r].anim.stop(!0),g.splice(r,1));for(r=0;r<v;r++)l[r]&&l[r].finish&&l[r].finish.call(this);delete o.finish})}}),h.each(["toggle","show","hide"],function(t,r){var o=h.fn[r];h.fn[r]=function(l,f,g){return null==l||"boolean"==typeof l?o.apply(this,arguments):this.animate(Jt(r,!0),l,f,g)}}),h.each({slideDown:Jt("show"),slideUp:Jt("hide"),slideToggle:Jt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,r){h.fn[t]=function(o,l,f){return this.animate(r,o,l,f)}}),h.timers=[],h.fx.tick=function(){var t,r=0,o=h.timers;for(Ot=Date.now();r<o.length;r++)(t=o[r])()||o[r]!==t||o.splice(r--,1);o.length||h.fx.stop(),Ot=void 0},h.fx.timer=function(t){h.timers.push(t),h.fx.start()},h.fx.interval=13,h.fx.start=function(){Yt||(Yt=!0,on())},h.fx.stop=function(){Yt=null},h.fx.speeds={slow:600,fast:200,_default:400},h.fn.delay=function(t,r){return t=h.fx&&h.fx.speeds[t]||t,this.queue(r=r||"fx",function(o,l){var f=u.setTimeout(o,t);l.stop=function(){u.clearTimeout(f)}})},Dt=G.createElement("input"),Wn=G.createElement("select").appendChild(G.createElement("option")),Dt.type="checkbox",ie.checkOn=""!==Dt.value,ie.optSelected=Wn.selected,(Dt=G.createElement("input")).value="t",Dt.type="radio",ie.radioValue="t"===Dt.value;var zn,Pt=h.expr.attrHandle;h.fn.extend({attr:function(t,r){return Fe(this,h.attr,t,r,1<arguments.length)},removeAttr:function(t){return this.each(function(){h.removeAttr(this,t)})}}),h.extend({attr:function(t,r,o){var l,f,g=t.nodeType;if(3!==g&&8!==g&&2!==g)return void 0===t.getAttribute?h.prop(t,r,o):(1===g&&h.isXMLDoc(t)||(f=h.attrHooks[r.toLowerCase()]||(h.expr.match.bool.test(r)?zn:void 0)),void 0!==o?null===o?void h.removeAttr(t,r):f&&"set"in f&&void 0!==(l=f.set(t,o,r))?l:(t.setAttribute(r,o+""),o):f&&"get"in f&&null!==(l=f.get(t,r))?l:null==(l=h.find.attr(t,r))?void 0:l)},attrHooks:{type:{set:function(t,r){if(!ie.radioValue&&"radio"===r&&e(t,"input")){var o=t.value;return t.setAttribute("type",r),o&&(t.value=o),r}}}},removeAttr:function(t,r){var o,l=0,f=r&&r.match(Z);if(f&&1===t.nodeType)for(;o=f[l++];)t.removeAttribute(o)}}),zn={set:function(t,r,o){return!1===r?h.removeAttr(t,o):t.setAttribute(o,o),o}},h.each(h.expr.match.bool.source.match(/\w+/g),function(t,r){var o=Pt[r]||h.find.attr;Pt[r]=function(l,f,g){var v,k,j=f.toLowerCase();return g||(k=Pt[j],Pt[j]=v,v=null!=o(l,f,g)?j:null,Pt[j]=k),v}});var vr=/^(?:input|select|textarea|button)$/i,yr=/^(?:a|area)$/i;function vt(t){return(t.match(Z)||[]).join(" ")}function yt(t){return t.getAttribute&&t.getAttribute("class")||""}function dn(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(Z)||[]}h.fn.extend({prop:function(t,r){return Fe(this,h.prop,t,r,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[h.propFix[t]||t]})}}),h.extend({prop:function(t,r,o){var l,f,g=t.nodeType;if(3!==g&&8!==g&&2!==g)return 1===g&&h.isXMLDoc(t)||(f=h.propHooks[r=h.propFix[r]||r]),void 0!==o?f&&"set"in f&&void 0!==(l=f.set(t,o,r))?l:t[r]=o:f&&"get"in f&&null!==(l=f.get(t,r))?l:t[r]},propHooks:{tabIndex:{get:function(t){var r=h.find.attr(t,"tabindex");return r?parseInt(r,10):vr.test(t.nodeName)||yr.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ie.optSelected||(h.propHooks.selected={get:function(t){return null},set:function(t){}}),h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){h.propFix[this.toLowerCase()]=this}),h.fn.extend({addClass:function(t){var r,o,l,f,g,v;return I(t)?this.each(function(k){h(this).addClass(t.call(this,k,yt(this)))}):(r=dn(t)).length?this.each(function(){if(l=yt(this),o=1===this.nodeType&&" "+vt(l)+" "){for(g=0;g<r.length;g++)o.indexOf(" "+(f=r[g])+" ")<0&&(o+=f+" ");v=vt(o),l!==v&&this.setAttribute("class",v)}}):this},removeClass:function(t){var r,o,l,f,g,v;return I(t)?this.each(function(k){h(this).removeClass(t.call(this,k,yt(this)))}):arguments.length?(r=dn(t)).length?this.each(function(){if(l=yt(this),o=1===this.nodeType&&" "+vt(l)+" "){for(g=0;g<r.length;g++)for(f=r[g];-1<o.indexOf(" "+f+" ");)o=o.replace(" "+f+" "," ");v=vt(o),l!==v&&this.setAttribute("class",v)}}):this:this.attr("class","")},toggleClass:function(t,r){var o,l,f,g,v=typeof t,k="string"===v||Array.isArray(t);return I(t)?this.each(function(j){h(this).toggleClass(t.call(this,j,yt(this),r),r)}):"boolean"==typeof r&&k?r?this.addClass(t):this.removeClass(t):(o=dn(t),this.each(function(){if(k)for(g=h(this),f=0;f<o.length;f++)g.hasClass(l=o[f])?g.removeClass(l):g.addClass(l);else void 0!==t&&"boolean"!==v||((l=yt(this))&&U.set(this,"__className__",l),this.setAttribute&&this.setAttribute("class",l||!1===t?"":U.get(this,"__className__")||""))}))},hasClass:function(t){var r,o,l=0;for(r=" "+t+" ";o=this[l++];)if(1===o.nodeType&&-1<(" "+vt(yt(o))+" ").indexOf(r))return!0;return!1}});var br=/\r/g;h.fn.extend({val:function(t){var r,o,l,f=this[0];return arguments.length?(l=I(t),this.each(function(g){var v;1===this.nodeType&&(null==(v=l?t.call(this,g,h(this).val()):t)?v="":"number"==typeof v?v+="":Array.isArray(v)&&(v=h.map(v,function(k){return null==k?"":k+""})),(r=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,v,"value")||(this.value=v))})):f?(r=h.valHooks[f.type]||h.valHooks[f.nodeName.toLowerCase()])&&"get"in r&&void 0!==(o=r.get(f,"value"))?o:"string"==typeof(o=f.value)?o.replace(br,""):null==o?"":o:void 0}}),h.extend({valHooks:{option:{get:function(t){var r=h.find.attr(t,"value");return null!=r?r:vt(h.text(t))}},select:{get:function(t){var r,o,l,f=t.options,g=t.selectedIndex,v="select-one"===t.type,k=v?null:[],j=v?g+1:f.length;for(l=g<0?j:v?g:0;l<j;l++)if(((o=f[l]).selected||l===g)&&!o.disabled&&(!o.parentNode.disabled||!e(o.parentNode,"optgroup"))){if(r=h(o).val(),v)return r;k.push(r)}return k},set:function(t,r){for(var o,l,f=t.options,g=h.makeArray(r),v=f.length;v--;)((l=f[v]).selected=-1<h.inArray(h.valHooks.option.get(l),g))&&(o=!0);return o||(t.selectedIndex=-1),g}}}}),h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(t,r){if(Array.isArray(r))return t.checked=-1<h.inArray(h(t).val(),r)}},ie.checkOn||(h.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var It=u.location,Xn={guid:Date.now()},cn=/\?/;h.parseXML=function(t){var r,o;if(!t||"string"!=typeof t)return null;try{r=(new u.DOMParser).parseFromString(t,"text/xml")}catch(l){}return o=r&&r.getElementsByTagName("parsererror")[0],r&&!o||h.error("Invalid XML: "+(o?h.map(o.childNodes,function(l){return l.textContent}).join("\n"):t)),r};var Un=/^(?:focusinfocus|focusoutblur)$/,Yn=function(t){t.stopPropagation()};h.extend(h.event,{trigger:function(t,r,o,l){var f,g,v,k,j,T,O,H,S=[o||G],P=lt.call(t,"type")?t.type:t,V=lt.call(t,"namespace")?t.namespace.split("."):[];if(g=H=v=o=o||G,3!==o.nodeType&&8!==o.nodeType&&!Un.test(P+h.event.triggered)&&(-1<P.indexOf(".")&&(P=(V=P.split(".")).shift(),V.sort()),j=P.indexOf(":")<0&&"on"+P,(t=t[h.expando]?t:new h.Event(P,"object"==typeof t&&t)).isTrigger=l?2:3,t.namespace=V.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+V.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),r=null==r?[t]:h.makeArray(r,[t]),O=h.event.special[P]||{},l||!O.trigger||!1!==O.trigger.apply(o,r))){if(!l&&!O.noBubble&&!Re(o)){for(Un.test((k=O.delegateType||P)+P)||(g=g.parentNode);g;g=g.parentNode)S.push(g),v=g;v===(o.ownerDocument||G)&&S.push(v.defaultView||v.parentWindow||u)}for(f=0;(g=S[f++])&&!t.isPropagationStopped();)H=g,t.type=1<f?k:O.bindType||P,(T=(U.get(g,"events")||Object.create(null))[t.type]&&U.get(g,"handle"))&&T.apply(g,r),(T=j&&g[j])&&T.apply&&J(g)&&(t.result=T.apply(g,r),!1===t.result&&t.preventDefault());return t.type=P,l||t.isDefaultPrevented()||O._default&&!1!==O._default.apply(S.pop(),r)||!J(o)||j&&I(o[P])&&!Re(o)&&((v=o[j])&&(o[j]=null),h.event.triggered=P,t.isPropagationStopped()&&H.addEventListener(P,Yn),o[P](),t.isPropagationStopped()&&H.removeEventListener(P,Yn),h.event.triggered=void 0,v&&(o[j]=v)),t.result}},simulate:function(t,r,o){var l=h.extend(new h.Event,o,{type:t,isSimulated:!0});h.event.trigger(l,null,r)}}),h.fn.extend({trigger:function(t,r){return this.each(function(){h.event.trigger(t,r,this)})},triggerHandler:function(t,r){var o=this[0];if(o)return h.event.trigger(t,r,o,!0)}});var jr=/\[\]$/,Jn=/\r?\n/g,xr=/^(?:submit|button|image|reset|file)$/i,kr=/^(?:input|select|textarea|keygen)/i;function ln(t,r,o,l){var f;if(Array.isArray(r))h.each(r,function(g,v){o||jr.test(t)?l(t,v):ln(t+"["+("object"==typeof v&&null!=v?g:"")+"]",v,o,l)});else if(o||"object"!==Qe(r))l(t,r);else for(f in r)ln(t+"["+f+"]",r[f],o,l)}h.param=function(t,r){var o,l=[],f=function(g,v){var k=I(v)?v():v;l[l.length]=encodeURIComponent(g)+"="+encodeURIComponent(null==k?"":k)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!h.isPlainObject(t))h.each(t,function(){f(this.name,this.value)});else for(o in t)ln(o,t[o],r,f);return l.join("&")},h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=h.prop(this,"elements");return t?h.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!h(this).is(":disabled")&&kr.test(this.nodeName)&&!xr.test(t)&&(this.checked||!Ft.test(t))}).map(function(t,r){var o=h(this).val();return null==o?null:Array.isArray(o)?h.map(o,function(l){return{name:r.name,value:l.replace(Jn,"\r\n")}}):{name:r.name,value:o.replace(Jn,"\r\n")}}).get()}});var wr=/%20/g,Cr=/#.*$/,Tr=/([?&])_=[^&]*/,Sr=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nr=/^(?:GET|HEAD)$/,Ar=/^\/\//,Vn={},hn={},Gn="*/".concat("*"),un=G.createElement("a");function Qn(t){return function(r,o){"string"!=typeof r&&(o=r,r="*");var l,f=0,g=r.toLowerCase().match(Z)||[];if(I(o))for(;l=g[f++];)"+"===l[0]?(l=l.slice(1)||"*",(t[l]=t[l]||[]).unshift(o)):(t[l]=t[l]||[]).push(o)}}function Zn(t,r,o,l){var f={},g=t===hn;function v(k){var j;return f[k]=!0,h.each(t[k]||[],function(T,O){var H=O(r,o,l);return"string"!=typeof H||g||f[H]?g?!(j=H):void 0:(r.dataTypes.unshift(H),v(H),!1)}),j}return v(r.dataTypes[0])||!f["*"]&&v("*")}function fn(t,r){var o,l,f=h.ajaxSettings.flatOptions||{};for(o in r)void 0!==r[o]&&((f[o]?t:l||(l={}))[o]=r[o]);return l&&h.extend(!0,t,l),t}un.href=It.href,h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:It.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(It.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,r){return r?fn(fn(t,h.ajaxSettings),r):fn(h.ajaxSettings,t)},ajaxPrefilter:Qn(Vn),ajaxTransport:Qn(hn),ajax:function(t,r){"object"==typeof t&&(r=t,t=void 0);var o,l,f,g,v,k,j,T,O,H,S=h.ajaxSetup({},r=r||{}),P=S.context||S,V=S.context&&(P.nodeType||P.jquery)?h(P):h.event,se=h.Deferred(),ae=h.Callbacks("once memory"),Ce=S.statusCode||{},Le={},nt={},rt="canceled",ue={readyState:0,getResponseHeader:function(pe){var ke;if(j){if(!g)for(g={};ke=Sr.exec(f);)g[ke[1].toLowerCase()+" "]=(g[ke[1].toLowerCase()+" "]||[]).concat(ke[2]);ke=g[pe.toLowerCase()+" "]}return null==ke?null:ke.join(", ")},getAllResponseHeaders:function(){return j?f:null},setRequestHeader:function(pe,ke){return null==j&&(pe=nt[pe.toLowerCase()]=nt[pe.toLowerCase()]||pe,Le[pe]=ke),this},overrideMimeType:function(pe){return null==j&&(S.mimeType=pe),this},statusCode:function(pe){var ke;if(pe)if(j)ue.always(pe[ue.status]);else for(ke in pe)Ce[ke]=[Ce[ke],pe[ke]];return this},abort:function(pe){var ke=pe||rt;return o&&o.abort(ke),bt(0,ke),this}};if(se.promise(ue),S.url=((t||S.url||It.href)+"").replace(Ar,It.protocol+"//"),S.type=r.method||r.type||S.method||S.type,S.dataTypes=(S.dataType||"*").toLowerCase().match(Z)||[""],null==S.crossDomain){k=G.createElement("a");try{k.href=S.url,k.href=k.href,S.crossDomain=un.protocol+"//"+un.host!=k.protocol+"//"+k.host}catch(pe){S.crossDomain=!0}}if(S.data&&S.processData&&"string"!=typeof S.data&&(S.data=h.param(S.data,S.traditional)),Zn(Vn,S,r,ue),j)return ue;for(O in(T=h.event&&S.global)&&0==h.active++&&h.event.trigger("ajaxStart"),S.type=S.type.toUpperCase(),S.hasContent=!Nr.test(S.type),l=S.url.replace(Cr,""),S.hasContent?S.data&&S.processData&&0===(S.contentType||"").indexOf("application/x-www-form-urlencoded")&&(S.data=S.data.replace(wr,"+")):(H=S.url.slice(l.length),S.data&&(S.processData||"string"==typeof S.data)&&(l+=(cn.test(l)?"&":"?")+S.data,delete S.data),!1===S.cache&&(l=l.replace(Tr,"$1"),H=(cn.test(l)?"&":"?")+"_="+Xn.guid+++H),S.url=l+H),S.ifModified&&(h.lastModified[l]&&ue.setRequestHeader("If-Modified-Since",h.lastModified[l]),h.etag[l]&&ue.setRequestHeader("If-None-Match",h.etag[l])),(S.data&&S.hasContent&&!1!==S.contentType||r.contentType)&&ue.setRequestHeader("Content-Type",S.contentType),ue.setRequestHeader("Accept",S.dataTypes[0]&&S.accepts[S.dataTypes[0]]?S.accepts[S.dataTypes[0]]+("*"!==S.dataTypes[0]?", "+Gn+"; q=0.01":""):S.accepts["*"]),S.headers)ue.setRequestHeader(O,S.headers[O]);if(S.beforeSend&&(!1===S.beforeSend.call(P,ue,S)||j))return ue.abort();if(rt="abort",ae.add(S.complete),ue.done(S.success),ue.fail(S.error),o=Zn(hn,S,r,ue)){if(ue.readyState=1,T&&V.trigger("ajaxSend",[ue,S]),j)return ue;S.async&&0<S.timeout&&(v=u.setTimeout(function(){ue.abort("timeout")},S.timeout));try{j=!1,o.send(Le,bt)}catch(pe){if(j)throw pe;bt(-1,pe)}}else bt(-1,"No Transport");function bt(pe,ke,$t,gn){var it,Wt,ct,ht,Lt,Ge=ke;j||(j=!0,v&&u.clearTimeout(v),o=void 0,f=gn||"",ue.readyState=0<pe?4:0,it=200<=pe&&pe<300||304===pe,$t&&(ht=function(qe,Ne,We){for(var ut,Ke,E,Te,Se=qe.contents,me=qe.dataTypes;"*"===me[0];)me.shift(),void 0===ut&&(ut=qe.mimeType||Ne.getResponseHeader("Content-Type"));if(ut)for(Ke in Se)if(Se[Ke]&&Se[Ke].test(ut)){me.unshift(Ke);break}if(me[0]in We)E=me[0];else{for(Ke in We){if(!me[0]||qe.converters[Ke+" "+me[0]]){E=Ke;break}Te||(Te=Ke)}E=E||Te}if(E)return E!==me[0]&&me.unshift(E),We[E]}(S,ue,$t)),!it&&-1<h.inArray("script",S.dataTypes)&&h.inArray("json",S.dataTypes)<0&&(S.converters["text script"]=function(){}),ht=function(qe,Ne,We,ut){var Ke,E,Te,Se,me,st={},qt=qe.dataTypes.slice();if(qt[1])for(Te in qe.converters)st[Te.toLowerCase()]=qe.converters[Te];for(E=qt.shift();E;)if(qe.responseFields[E]&&(We[qe.responseFields[E]]=Ne),!me&&ut&&qe.dataFilter&&(Ne=qe.dataFilter(Ne,qe.dataType)),me=E,E=qt.shift())if("*"===E)E=me;else if("*"!==me&&me!==E){if(!(Te=st[me+" "+E]||st["* "+E]))for(Ke in st)if((Se=Ke.split(" "))[1]===E&&(Te=st[me+" "+Se[0]]||st["* "+Se[0]])){!0===Te?Te=st[Ke]:!0!==st[Ke]&&(E=Se[0],qt.unshift(Se[1]));break}if(!0!==Te)if(Te&&qe.throws)Ne=Te(Ne);else try{Ne=Te(Ne)}catch(Vt){return{state:"parsererror",error:Te?Vt:"No conversion from "+me+" to "+E}}}return{state:"success",data:Ne}}(S,ht,ue,it),it?(S.ifModified&&((Lt=ue.getResponseHeader("Last-Modified"))&&(h.lastModified[l]=Lt),(Lt=ue.getResponseHeader("etag"))&&(h.etag[l]=Lt)),204===pe||"HEAD"===S.type?Ge="nocontent":304===pe?Ge="notmodified":(Ge=ht.state,Wt=ht.data,it=!(ct=ht.error))):(ct=Ge,!pe&&Ge||(Ge="error",pe<0&&(pe=0))),ue.status=pe,ue.statusText=(ke||Ge)+"",it?se.resolveWith(P,[Wt,Ge,ue]):se.rejectWith(P,[ue,Ge,ct]),ue.statusCode(Ce),Ce=void 0,T&&V.trigger(it?"ajaxSuccess":"ajaxError",[ue,S,it?Wt:ct]),ae.fireWith(P,[ue,Ge]),T&&(V.trigger("ajaxComplete",[ue,S]),--h.active||h.event.trigger("ajaxStop")))}return ue},getJSON:function(t,r,o){return h.get(t,r,o,"json")},getScript:function(t,r){return h.get(t,void 0,r,"script")}}),h.each(["get","post"],function(t,r){h[r]=function(o,l,f,g){return I(l)&&(g=g||f,f=l,l=void 0),h.ajax(h.extend({url:o,type:r,dataType:g,data:l,success:f},h.isPlainObject(o)&&o))}}),h.ajaxPrefilter(function(t){var r;for(r in t.headers)"content-type"===r.toLowerCase()&&(t.contentType=t.headers[r]||"")}),h._evalUrl=function(t,r,o){return h.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(l){h.globalEval(l,r,o)}})},h.fn.extend({wrapAll:function(t){var r;return this[0]&&(I(t)&&(t=t.call(this[0])),r=h(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&r.insertBefore(this[0]),r.map(function(){for(var o=this;o.firstElementChild;)o=o.firstElementChild;return o}).append(this)),this},wrapInner:function(t){return I(t)?this.each(function(r){h(this).wrapInner(t.call(this,r))}):this.each(function(){var r=h(this),o=r.contents();o.length?o.wrapAll(t):r.append(t)})},wrap:function(t){var r=I(t);return this.each(function(o){h(this).wrapAll(r?t.call(this,o):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){h(this).replaceWith(this.childNodes)}),this}}),h.expr.pseudos.hidden=function(t){return!h.expr.pseudos.visible(t)},h.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},h.ajaxSettings.xhr=function(){try{return new u.XMLHttpRequest}catch(t){}};var Or={0:200,1223:204},Rt=h.ajaxSettings.xhr();ie.cors=!!Rt&&"withCredentials"in Rt,ie.ajax=Rt=!!Rt,h.ajaxTransport(function(t){var r,o;if(ie.cors||Rt&&!t.crossDomain)return{send:function(l,f){var g,v=t.xhr();if(v.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(g in t.xhrFields)v[g]=t.xhrFields[g];for(g in t.mimeType&&v.overrideMimeType&&v.overrideMimeType(t.mimeType),t.crossDomain||l["X-Requested-With"]||(l["X-Requested-With"]="XMLHttpRequest"),l)v.setRequestHeader(g,l[g]);r=function(k){return function(){r&&(r=o=v.onload=v.onerror=v.onabort=v.ontimeout=v.onreadystatechange=null,"abort"===k?v.abort():"error"===k?"number"!=typeof v.status?f(0,"error"):f(v.status,v.statusText):f(Or[v.status]||v.status,v.statusText,"text"!==(v.responseType||"text")||"string"!=typeof v.responseText?{binary:v.response}:{text:v.responseText},v.getAllResponseHeaders()))}},v.onload=r(),o=v.onerror=v.ontimeout=r("error"),void 0!==v.onabort?v.onabort=o:v.onreadystatechange=function(){4===v.readyState&&u.setTimeout(function(){r&&o()})},r=r("abort");try{v.send(t.hasContent&&t.data||null)}catch(k){if(r)throw k}},abort:function(){r&&r()}}}),h.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return h.globalEval(t),t}}}),h.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),h.ajaxTransport("script",function(t){var r,o;if(t.crossDomain||t.scriptAttrs)return{send:function(l,f){r=h("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",o=function(g){r.remove(),o=null,g&&f("error"===g.type?404:200,g.type)}),G.head.appendChild(r[0])},abort:function(){o&&o()}}});var En,er=[],pn=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=er.pop()||h.expando+"_"+Xn.guid++;return this[t]=!0,t}}),h.ajaxPrefilter("json jsonp",function(t,r,o){var l,f,g,v=!1!==t.jsonp&&(pn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&pn.test(t.data)&&"data");if(v||"jsonp"===t.dataTypes[0])return l=t.jsonpCallback=I(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,v?t[v]=t[v].replace(pn,"$1"+l):!1!==t.jsonp&&(t.url+=(cn.test(t.url)?"&":"?")+t.jsonp+"="+l),t.converters["script json"]=function(){return g||h.error(l+" was not called"),g[0]},t.dataTypes[0]="json",f=u[l],u[l]=function(){g=arguments},o.always(function(){void 0===f?h(u).removeProp(l):u[l]=f,t[l]&&(t.jsonpCallback=r.jsonpCallback,er.push(l)),g&&I(f)&&f(g[0]),g=f=void 0}),"script"}),ie.createHTMLDocument=((En=G.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===En.childNodes.length),h.parseHTML=function(t,r,o){return"string"!=typeof t?[]:("boolean"==typeof r&&(o=r,r=!1),r||(ie.createHTMLDocument?((l=(r=G.implementation.createHTMLDocument("")).createElement("base")).href=G.location.href,r.head.appendChild(l)):r=G),g=!o&&[],(f=N.exec(t))?[r.createElement(f[1])]:(f=Nn([t],r,g),g&&g.length&&h(g).remove(),h.merge([],f.childNodes)));var l,f,g},h.fn.load=function(t,r,o){var l,f,g,v=this,k=t.indexOf(" ");return-1<k&&(l=vt(t.slice(k)),t=t.slice(0,k)),I(r)?(o=r,r=void 0):r&&"object"==typeof r&&(f="POST"),0<v.length&&h.ajax({url:t,type:f||"GET",dataType:"html",data:r}).done(function(j){g=arguments,v.html(l?h("<div>").append(h.parseHTML(j)).find(l):j)}).always(o&&function(j,T){v.each(function(){o.apply(this,g||[j.responseText,T,j])})}),this},h.expr.pseudos.animated=function(t){return h.grep(h.timers,function(r){return t===r.elem}).length},h.offset={setOffset:function(t,r,o){var l,f,g,v,k,j,T=h.css(t,"position"),O=h(t),H={};"static"===T&&(t.style.position="relative"),k=O.offset(),g=h.css(t,"top"),j=h.css(t,"left"),("absolute"===T||"fixed"===T)&&-1<(g+j).indexOf("auto")?(v=(l=O.position()).top,f=l.left):(v=parseFloat(g)||0,f=parseFloat(j)||0),I(r)&&(r=r.call(t,o,h.extend({},k))),null!=r.top&&(H.top=r.top-k.top+v),null!=r.left&&(H.left=r.left-k.left+f),"using"in r?r.using.call(t,H):O.css(H)}},h.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(f){h.offset.setOffset(this,t,f)});var r,o,l=this[0];return l?l.getClientRects().length?{top:(r=l.getBoundingClientRect()).top+(o=l.ownerDocument.defaultView).pageYOffset,left:r.left+o.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,r,o,l=this[0],f={top:0,left:0};if("fixed"===h.css(l,"position"))r=l.getBoundingClientRect();else{for(r=this.offset(),o=l.ownerDocument,t=l.offsetParent||o.documentElement;t&&(t===o.body||t===o.documentElement)&&"static"===h.css(t,"position");)t=t.parentNode;t&&t!==l&&1===t.nodeType&&((f=h(t).offset()).top+=h.css(t,"borderTopWidth",!0),f.left+=h.css(t,"borderLeftWidth",!0))}return{top:r.top-f.top-h.css(l,"marginTop",!0),left:r.left-f.left-h.css(l,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===h.css(t,"position");)t=t.offsetParent;return t||_t})}}),h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o="pageYOffset"===r;h.fn[t]=function(l){return Fe(this,function(f,g,v){var k;if(Re(f)?k=f:9===f.nodeType&&(k=f.defaultView),void 0===v)return k?k[r]:f[g];k?k.scrollTo(o?k.pageXOffset:v,o?v:k.pageYOffset):f[g]=v},t,l,arguments.length)}}),h.each(["top","left"],function(t,r){h.cssHooks[r]=Hn(ie.pixelPosition,function(o,l){if(l)return l=Mt(o,r),nn.test(l)?h(o).position()[r]+"px":l})}),h.each({Height:"height",Width:"width"},function(t,r){h.each({padding:"inner"+t,content:r,"":"outer"+t},function(o,l){h.fn[l]=function(f,g){var v=arguments.length&&(o||"boolean"!=typeof f),k=o||(!0===f||!0===g?"margin":"border");return Fe(this,function(j,T,O){var H;return Re(j)?0===l.indexOf("outer")?j["inner"+t]:j.document.documentElement["client"+t]:9===j.nodeType?(H=j.documentElement,Math.max(j.body["scroll"+t],H["scroll"+t],j.body["offset"+t],H["offset"+t],H["client"+t])):void 0===O?h.css(j,T,k):h.style(j,T,O,k)},r,v?f:void 0,v)}})}),h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,r){h.fn[r]=function(o){return this.on(r,o)}}),h.fn.extend({bind:function(t,r,o){return this.on(t,null,r,o)},unbind:function(t,r){return this.off(t,null,r)},delegate:function(t,r,o,l){return this.on(r,t,o,l)},undelegate:function(t,r,o){return 1===arguments.length?this.off(t,"**"):this.off(r,t||"**",o)},hover:function(t,r){return this.on("mouseenter",t).on("mouseleave",r||t)}}),h.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,r){h.fn[r]=function(o,l){return 0<arguments.length?this.on(r,null,o,l):this.trigger(r)}});var Dr=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;h.proxy=function(t,r){var o,l,f;if("string"==typeof r&&(o=t[r],r=t,t=o),I(t))return l=ye.call(arguments,2),(f=function(){return t.apply(r||this,l.concat(ye.call(arguments)))}).guid=t.guid=t.guid||h.guid++,f},h.holdReady=function(t){t?h.readyWait++:h.ready(!0)},h.isArray=Array.isArray,h.parseJSON=JSON.parse,h.nodeName=e,h.isFunction=I,h.isWindow=Re,h.camelCase=je,h.type=Qe,h.now=Date.now,h.isNumeric=function(t){var r=h.type(t);return("number"===r||"string"===r)&&!isNaN(t-parseFloat(t))},h.trim=function(t){return null==t?"":(t+"").replace(Dr,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return h});var Lr=u.jQuery,qr=u.$;return h.noConflict=function(t){return u.$===h&&(u.$=qr),t&&u.jQuery===h&&(u.jQuery=Lr),h},void 0===B&&(u.jQuery=u.$=h),h}),function(u){"use strict";"function"==typeof define&&define.amd?define(["jquery"],u):"undefined"!=typeof module&&module.exports?module.exports=u(require("jquery")):u(jQuery)}(function(u,B){"use strict";if(!u.jstree){var Ae=0,Je=!1,ye=!1,at=!1,pt=[],Me=u("script:last").attr("src"),re=window.document,gt=window.setImmediate,lt=window.Promise;!gt&&lt&&(gt=function(e,a){lt.resolve(a).then(e)}),u.jstree={version:"3.3.17",defaults:{plugins:[]},plugins:{},path:Me&&-1!==Me.indexOf("/")?Me.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},u.jstree.create=function(e,a){var n=new u.jstree.core(++Ae),i=a;return a=u.extend(!0,{},u.jstree.defaults,a),i&&i.plugins&&(a.plugins=i.plugins),u.each(a.plugins,function(s,c){"core"!==s&&(n=n.plugin(c,a[c]))}),u(e).data("jstree",n),n.init(e,a),n},u.jstree.destroy=function(){u(".jstree:jstree").jstree("destroy"),u(re).off(".jstree")},u.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},u.jstree.reference=function(e){var a=null,n=null;if(!e||!e.id||e.tagName&&e.nodeType||(e=e.id),!n||!n.length)try{n=u(e)}catch(i){}if(!n||!n.length)try{n=u("#"+e.replace(u.jstree.idregex,"\\$&"))}catch(i){}return n&&n.length&&(n=n.closest(".jstree")).length&&(n=n.data("jstree"))?a=n:u(".jstree").each(function(){var i=u(this).data("jstree");if(i&&i._model.data[e])return a=i,!1}),a},u.fn.jstree=function(e){var a="string"==typeof e,n=Array.prototype.slice.call(arguments,1),i=null;return!(!0===e&&!this.length)&&(this.each(function(){var s=u.jstree.reference(this),c=a&&s?s[e]:null;if(i=a&&c?c.apply(s,n):null,s||a||e!==B&&!u.isPlainObject(e)||u.jstree.create(this,e),null!==(i=s&&!a||!0===e?s||!1:i)&&i!==B)return!1}),null!==i&&i!==B?i:this)},u.expr.pseudos.jstree=u.expr.createPseudo(function(e){return function(a){return u(a).hasClass("jstree")&&u(a).data("jstree")!==B}}),u.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:u.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,compute_elements_positions:!1,keyboard:{"ctrl-space":function(e){e.type="click",u(e.currentTarget).trigger(e)},enter:function(e){e.type="click",u(e.currentTarget).trigger(e)},left:function(a){a.preventDefault(),this.is_open(a.currentTarget)?this.close_node(a.currentTarget):(a=this.get_parent(a.currentTarget))&&a.id!==u.jstree.root&&this.get_node(a,!0).children(".jstree-anchor").trigger("focus")},up:function(a){a.preventDefault(),(a=this.get_prev_dom(a.currentTarget))&&a.length&&a.children(".jstree-anchor").trigger("focus")},right:function(a){a.preventDefault(),this.is_closed(a.currentTarget)?this.open_node(a.currentTarget,function(n){this.get_node(n,!0).children(".jstree-anchor").trigger("focus")}):!this.is_open(a.currentTarget)||(a=this.get_node(a.currentTarget,!0).children(".jstree-children")[0])&&u(this._firstChild(a)).children(".jstree-anchor").trigger("focus")},down:function(a){a.preventDefault(),(a=this.get_next_dom(a.currentTarget))&&a.length&&a.children(".jstree-anchor").trigger("focus")},"*":function(e){this.open_all()},home:function(a){a.preventDefault(),(a=this._firstChild(this.get_container_ul()[0]))&&u(a).children(".jstree-anchor").filter(":visible").trigger("focus")},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().trigger("focus")},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}},allow_reselect:!1},u.jstree.core.prototype={plugin:function(e,a){var n=u.jstree.plugins[e];return n?(this._data[e]={},n.prototype=this,new n(a,this)):this},init:function(e,a){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[u.jstree.root]={id:u.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=u(e).addClass("jstree jstree-"+this._id),this.settings=a,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(u.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(a){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var a,n,e=re.createElement("LI");return e.setAttribute("role","none"),(a=re.createElement("I")).className="jstree-icon jstree-ocl",a.setAttribute("role","presentation"),e.appendChild(a),(a=re.createElement("A")).className="jstree-anchor",a.setAttribute("href","#"),a.setAttribute("tabindex","-1"),a.setAttribute("role","treeitem"),(n=re.createElement("I")).className="jstree-icon jstree-themeicon",n.setAttribute("role","presentation"),a.appendChild(n),e.appendChild(a),a=n=null,e},_kbevent_to_func:function(e){var a={8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"},n=[];if(e.ctrlKey&&n.push("ctrl"),e.altKey&&n.push("alt"),e.shiftKey&&n.push("shift"),n.push(a[e.which]?a[e.which].toLowerCase():e.which),"shift-shift"===(n=n.sort().join("-").toLowerCase())||"ctrl-ctrl"===n||"alt-alt"===n)return null;var s,c,i=this.settings.core.keyboard;for(s in i)if(i.hasOwnProperty(s)&&(c="-"!==(c=s)&&"+"!==c?(c=c.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase():c)===n)return i[s];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var e="",a=null,n=0;this.element.on("dblclick.jstree",function(i){if(i.target.tagName&&"input"===i.target.tagName.toLowerCase())return!0;if(re.selection&&re.selection.empty)re.selection.empty();else if(window.getSelection){i=window.getSelection();try{i.removeAllRanges(),i.collapse()}catch(c){}}}).on("mousedown.jstree",function(i){i.target===this.element[0]&&(i.preventDefault(),n=+new Date)}.bind(this)).on("mousedown.jstree",".jstree-ocl",function(i){i.preventDefault()}).on("click.jstree",".jstree-ocl",function(i){this.toggle_node(i.target)}.bind(this)).on("dblclick.jstree",".jstree-anchor",function(i){if(i.target.tagName&&"input"===i.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(i.target)}.bind(this)).on("click.jstree",".jstree-anchor",function(i){i.preventDefault(),i.currentTarget!==re.activeElement&&u(i.currentTarget).trigger("focus"),this.activate_node(i.currentTarget,i)}.bind(this)).on("keydown.jstree",".jstree-anchor",function(i){if(i.target.tagName&&"input"===i.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===i.which?i.which=39:39===i.which&&(i.which=37));var s=this._kbevent_to_func(i);return!s||!1!==(i=s.call(this,i))&&!0!==i?void 0:i}.bind(this)).on("load_node.jstree",function(i,s){s.status&&(s.node.id!==u.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){for(var c=[],d=0,m=this._data.core.selected.length;d<m;d++)c=c.concat(this._model.data[this._data.core.selected[d]].parents);for(d=0,m=(c=u.vakata.array_unique(c)).length;d<m;d++)this.open_node(c[d],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}}.bind(this),0))}.bind(this)).on("keypress.jstree",function(d){if(d.target.tagName&&"input"===d.target.tagName.toLowerCase())return!0;a&&clearTimeout(a),a=setTimeout(function(){e=""},500);var s=String.fromCharCode(d.which).toLowerCase(),c=this.element.find(".jstree-anchor").filter(":visible"),m=(d=c.index(re.activeElement)||0,!1);1<(e+=s).length&&(c.slice(d).each(function(p,_){if(0===u(_).text().toLowerCase().indexOf(e))return u(_).trigger("focus"),!(m=!0)}.bind(this)),m||(c.slice(0,d).each(function(p,_){if(0===u(_).text().toLowerCase().indexOf(e))return u(_).trigger("focus"),!(m=!0)}.bind(this)),m))||new RegExp("^"+s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(e)&&(c.slice(d+1).each(function(p,_){if(u(_).text().toLowerCase().charAt(0)===s)return u(_).trigger("focus"),!(m=!0)}.bind(this)),m||c.slice(0,d+1).each(function(p,_){if(u(_).text().toLowerCase().charAt(0)===s)return u(_).trigger("focus"),!(m=!0)}.bind(this)))}.bind(this)).on("init.jstree",function(){var i=this.settings.core.themes;this._data.core.themes.dots=i.dots,this._data.core.themes.stripes=i.stripes,this._data.core.themes.icons=i.icons,this._data.core.themes.ellipsis=i.ellipsis,this.set_theme(i.name||"default",i.url),this.set_theme_variant(i.variant)}.bind(this)).on("loading.jstree",function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()}.bind(this)).on("blur.jstree",".jstree-anchor",function(i){this._data.core.focused=null,u(i.currentTarget).filter(".jstree-hovered").trigger("mouseleave"),this.element.attr("tabindex","0"),u(i.currentTarget).attr("tabindex","-1")}.bind(this)).on("focus.jstree",".jstree-anchor",function(i){var s=this.get_node(i.currentTarget);s&&(s.id||0===s.id)&&(this._data.core.focused=s.id),this.element.find(".jstree-hovered").not(i.currentTarget).trigger("mouseleave"),u(i.currentTarget).trigger("mouseenter"),this.element.attr("tabindex","-1"),u(i.currentTarget).attr("tabindex","0")}.bind(this)).on("focus.jstree",function(){var i;500<+new Date-n&&!this._data.core.focused&&this.settings.core.restore_focus&&(n=0,(i=this.get_node(this.element.attr("aria-activedescendant"),!0))&&i.find("> .jstree-anchor").trigger("focus"))}.bind(this)).on("mouseenter.jstree",".jstree-anchor",function(i){this.hover_node(i.currentTarget)}.bind(this)).on("mouseleave.jstree",".jstree-anchor",function(i){this.dehover_node(i.currentTarget)}.bind(this))},unbind:function(){this.element.off(".jstree"),u(re).off(".jstree-"+this._id)},trigger:function(e,a){((a=a||{}).instance=this).element.triggerHandler(e.replace(".jstree","")+".jstree",a)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(e){var a=this.settings.core.strings;return u.vakata.is_function(a)?a.call(this,e):a&&a[e]?a[e]:e},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(e,a){var n;(e=e&&(e.id||0===e.id)?e.id:e)instanceof u&&e.length&&e[0].id&&(e=e[0].id);try{if(this._model.data[e])e=this._model.data[e];else if("string"==typeof e&&this._model.data[e.replace(/^#/,"")])e=this._model.data[e.replace(/^#/,"")];else if("string"==typeof e&&(n=u("#"+e.replace(u.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[n.closest(".jstree-node").attr("id")])e=this._model.data[n.closest(".jstree-node").attr("id")];else if((n=this.element.find(e)).length&&this._model.data[n.closest(".jstree-node").attr("id")])e=this._model.data[n.closest(".jstree-node").attr("id")];else{if(!(n=this.element.find(e)).length||!n.hasClass("jstree"))return!1;e=this._model.data[u.jstree.root]}return a?e.id===u.jstree.root?this.element:u("#"+e.id.replace(u.jstree.idregex,"\\$&"),this.element):e}catch(i){return!1}},get_path:function(e,a,n){if(!(e=e.parents?e:this.get_node(e))||e.id===u.jstree.root||!e.parents)return!1;var i,s,c=[];for(c.push(n?e.id:e.text),i=0,s=e.parents.length;i<s;i++)c.push(n?e.parents[i]:this.get_text(e.parents[i]));return c=c.reverse().slice(1),a?c.join(a):c},get_next_dom:function(e,a){var n;if((e=this.get_node(e,!0))[0]===this.element[0]){for(n=this._firstChild(this.get_container_ul()[0]);n&&0===n.offsetHeight;)n=this._nextSibling(n);return!!n&&u(n)}if(!e||!e.length)return!1;if(a){n=e[0];do{n=this._nextSibling(n)}while(n&&0===n.offsetHeight);return!!n&&u(n)}if(e.hasClass("jstree-open")){for(n=this._firstChild(e.children(".jstree-children")[0]);n&&0===n.offsetHeight;)n=this._nextSibling(n);if(null!==n)return u(n)}n=e[0];do{n=this._nextSibling(n)}while(n&&0===n.offsetHeight);return null!==n?u(n):e.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(e,a){var n;if((e=this.get_node(e,!0))[0]===this.element[0]){for(n=this.get_container_ul()[0].lastChild;n&&0===n.offsetHeight;)n=this._previousSibling(n);return!!n&&u(n)}if(!e||!e.length)return!1;if(a){n=e[0];do{n=this._previousSibling(n)}while(n&&0===n.offsetHeight);return!!n&&u(n)}n=e[0];do{n=this._previousSibling(n)}while(n&&0===n.offsetHeight);if(null===n)return!(!(n=e[0].parentNode.parentNode)||!n.className||-1===n.className.indexOf("jstree-node"))&&u(n);for(e=u(n);e.hasClass("jstree-open");)e=e.children(".jstree-children").first().children(".jstree-node:visible:last");return e},get_parent:function(e){return!(!(e=this.get_node(e))||e.id===u.jstree.root)&&e.parent},get_children_dom:function(e){return(e=this.get_node(e,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||0<e.children.length)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(e,a){var i,s,c,d,m,n=this.get_node(e,!0);if(u.vakata.is_array(e))return this._load_nodes(e.slice(),a),!0;if(!(e=this.get_node(e)))return a&&a.call(this,e,!1),!1;if(e.state.loaded){for(e.state.loaded=!1,c=0,d=e.parents.length;c<d;c++)this._model.data[e.parents[c]].children_d=u.vakata.array_filter(this._model.data[e.parents[c]].children_d,function(p){return-1===u.inArray(p,e.children_d)});for(i=0,s=e.children_d.length;i<s;i++)this._model.data[e.children_d[i]].state.selected&&(m=!0),delete this._model.data[e.children_d[i]];m&&(this._data.core.selected=u.vakata.array_filter(this._data.core.selected,function(p){return-1===u.inArray(p,e.children_d)})),e.children=[],e.children_d=[],m&&this.trigger("changed",{action:"load_node",node:e,selected:this._data.core.selected})}return e.state.failed=!1,e.state.loading=!0,(e.id!==u.jstree.root?n.children(".jstree-anchor"):n).attr("aria-busy",!0),n.addClass("jstree-loading"),this._load_node(e,function(p){(e=this._model.data[e.id]).state.loading=!1,e.state.loaded=p,e.state.failed=!e.state.loaded;for(var _=this.get_node(e,!0),w=0,y=this._model.data,x=!1,N=(w=0,e.children.length);w<N;w++)if(y[e.children[w]]&&!y[e.children[w]].state.hidden){x=!0;break}e.state.loaded&&_&&_.length&&(_.removeClass("jstree-closed jstree-open jstree-leaf"),x?"#"!==e.id&&_.addClass(e.state.opened?"jstree-open":"jstree-closed"):_.addClass("jstree-leaf")),(e.id!==u.jstree.root?_.children(".jstree-anchor"):_).attr("aria-busy",!1),_.removeClass("jstree-loading"),this.trigger("load_node",{node:e,status:p}),a&&a.call(this,e,p)}.bind(this)),!0},_load_nodes:function(e,a,n,i){for(var s=!0,c=function(){this._load_nodes(e,a,!0)},d=this._model.data,m=[],p=0,_=e.length;p<_;p++)d[e[p]]&&(!d[e[p]].state.loaded&&!d[e[p]].state.failed||!n&&i)&&(this.is_loading(e[p])||this.load_node(e[p],c),s=!1);if(s){for(p=0,_=e.length;p<_;p++)d[e[p]]&&d[e[p]].state.loaded&&m.push(e[p]);a&&!a.done&&(a.call(this,m),a.done=!0)}},load_all:function(e,a){if(!(e=this.get_node(e=e||u.jstree.root)))return!1;var c,d,n=[],i=this._model.data,s=i[e.id].children_d;for(e.state&&!e.state.loaded&&n.push(e.id),c=0,d=s.length;c<d;c++)i[s[c]]&&i[s[c]].state&&!i[s[c]].state.loaded&&n.push(s[c]);n.length?this._load_nodes(n,function(){this.load_all(e,a)}):(a&&a.call(this,e),this.trigger("load_all",{node:e}))},_load_node:function(e,a){var i,n=this.settings.core.data,s=function(){return 3!==this.nodeType&&8!==this.nodeType};return n?u.vakata.is_function(n)?n.call(this,e,function(c){!1===c?a.call(this,!1):this["string"==typeof c?"_append_html_data":"_append_json_data"](e,"string"==typeof c?u(u.parseHTML(c)).filter(s):c,function(d){a.call(this,d)})}.bind(this)):"object"==typeof n?n.url?(n=u.extend(!0,{},n),u.vakata.is_function(n.url)&&(n.url=n.url.call(this,e)),u.vakata.is_function(n.data)&&(n.data=n.data.call(this,e)),u.ajax(n).done(function(c,d,m){var p=m.getResponseHeader("Content-Type");return p&&-1!==p.indexOf("json")||"object"==typeof c?this._append_json_data(e,c,function(_){a.call(this,_)}):p&&-1!==p.indexOf("html")||"string"==typeof c?this._append_html_data(e,u(u.parseHTML(c)).filter(s),function(_){a.call(this,_)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:e.id,xhr:m})},this.settings.core.error.call(this,this._data.core.last_error),a.call(this,!1))}.bind(this)).fail(function(c){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:e.id,xhr:c})},a.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)}.bind(this))):(i=u.vakata.is_array(n)?u.extend(!0,[],n):u.isPlainObject(n)?u.extend(!0,{},n):n,e.id===u.jstree.root?this._append_json_data(e,i,function(c){a.call(this,c)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:e.id})},this.settings.core.error.call(this,this._data.core.last_error),a.call(this,!1))):"string"==typeof n?e.id===u.jstree.root?this._append_html_data(e,u(u.parseHTML(n)).filter(s),function(c){a.call(this,c)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:e.id})},this.settings.core.error.call(this,this._data.core.last_error),a.call(this,!1)):a.call(this,!1):e.id===u.jstree.root?this._append_html_data(e,this._data.core.original_container_html.clone(!0),function(c){a.call(this,c)}):a.call(this,!1)},_node_changed:function(e){(e=this.get_node(e))&&-1===u.inArray(e.id,this._model.changed)&&this._model.changed.push(e.id)},_append_html_data:function(_,i,n){(_=this.get_node(_)).children=[],_.children_d=[],i=i.is("ul")?i.children():i;var y,x,w,s=_.id,c=[],d=[],m=this._model.data,p=m[s];for(_=this._data.core.selected.length,i.each(function(N,M){(y=this._parse_model_from_html(u(M),s,p.parents.concat()))&&(c.push(y),d.push(y),m[y].children_d.length&&(d=d.concat(m[y].children_d)))}.bind(this)),p.children=c,p.children_d=d,x=0,w=p.parents.length;x<w;x++)m[p.parents[x]].children_d=m[p.parents[x]].children_d.concat(d);this.trigger("model",{nodes:d,parent:s}),s!==u.jstree.root?(this._node_changed(s),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==_&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),n.call(this,!0)},_append_json_data:function(e,a,n,i){if(null!==this.element){(e=this.get_node(e)).children=[],e.children_d=[],a.d&&"string"==typeof(a=a.d)&&(a=JSON.parse(a)),u.vakata.is_array(a)||(a=[a]);var s=null,c={df:this._model.default_state,dat:a,par:e.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},d=this,m=function(_e,y){var be,te,we,De,x=(_e=_e.data?_e.data:_e).dat,w=_e.par,N=[],M=[],D=[],L=_e.df,oe=_e.t_id,he=_e.t_cnt,de=_e.m,Z=de[w],$e=(_e=_e.sel,function(R,Be,Pe){Pe=Pe?Pe.concat():[],Be&&Pe.unshift(Be);var J,ze,U,xe,je=R.id.toString(),W={id:je,text:R.text||"",icon:R.icon===y||R.icon,parent:Be,parents:Pe,children:R.children||[],children_d:R.children_d||[],data:R.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(J in L)L.hasOwnProperty(J)&&(W.state[J]=L[J]);if(R&&R.data&&R.data.jstree&&R.data.jstree.icon&&(W.icon=R.data.jstree.icon),W.icon!==y&&null!==W.icon&&""!==W.icon||(W.icon=!0),R&&R.data&&(W.data=R.data,R.data.jstree))for(J in R.data.jstree)R.data.jstree.hasOwnProperty(J)&&(W.state[J]=R.data.jstree[J]);if(R&&"object"==typeof R.state)for(J in R.state)R.state.hasOwnProperty(J)&&(W.state[J]=R.state[J]);if(R&&"object"==typeof R.li_attr)for(J in R.li_attr)R.li_attr.hasOwnProperty(J)&&(W.li_attr[J]=R.li_attr[J]);if(W.li_attr.id||(W.li_attr.id=je),R&&"object"==typeof R.a_attr)for(J in R.a_attr)R.a_attr.hasOwnProperty(J)&&(W.a_attr[J]=R.a_attr[J]);for(R&&R.children&&!0===R.children&&(W.state.loaded=!1,W.children=[],W.children_d=[]),J=0,ze=(de[W.id]=W).children.length;J<ze;J++)U=$e(de[W.children[J]],W.id,Pe),xe=de[U],W.children_d.push(U),xe.children_d.length&&(W.children_d=W.children_d.concat(xe.children_d));return delete R.data,delete R.children,de[W.id].original=R,W.state.selected&&D.push(W.id),W.id}),Fe=function(R,Be,Pe){Pe=Pe?Pe.concat():[],Be&&Pe.unshift(Be);var J,ze,U,xe,W,je=!1;do{je="j"+oe+"_"+ ++he}while(de[je]);for(J in W={id:!1,text:"string"==typeof R?R:"",icon:"object"!=typeof R||R.icon===y||R.icon,parent:Be,parents:Pe,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},L)L.hasOwnProperty(J)&&(W.state[J]=L[J]);if(R&&(R.id||0===R.id)&&(W.id=R.id.toString()),R&&R.text&&(W.text=R.text),R&&R.data&&R.data.jstree&&R.data.jstree.icon&&(W.icon=R.data.jstree.icon),W.icon!==y&&null!==W.icon&&""!==W.icon||(W.icon=!0),R&&R.data&&(W.data=R.data,R.data.jstree))for(J in R.data.jstree)R.data.jstree.hasOwnProperty(J)&&(W.state[J]=R.data.jstree[J]);if(R&&"object"==typeof R.state)for(J in R.state)R.state.hasOwnProperty(J)&&(W.state[J]=R.state[J]);if(R&&"object"==typeof R.li_attr)for(J in R.li_attr)R.li_attr.hasOwnProperty(J)&&(W.li_attr[J]=R.li_attr[J]);if(W.li_attr.id&&!W.id&&0!==W.id&&(W.id=W.li_attr.id.toString()),W.id||0===W.id||(W.id=je),W.li_attr.id||(W.li_attr.id=W.id),R&&"object"==typeof R.a_attr)for(J in R.a_attr)R.a_attr.hasOwnProperty(J)&&(W.a_attr[J]=R.a_attr[J]);if(R&&R.children&&R.children.length){for(J=0,ze=R.children.length;J<ze;J++)U=Fe(R.children[J],W.id,Pe),xe=de[U],W.children.push(U),xe.children_d.length&&(W.children_d=W.children_d.concat(xe.children_d));W.children_d=W.children_d.concat(W.children)}return R&&R.children&&!0===R.children&&(W.state.loaded=!1,W.children=[],W.children_d=[]),delete R.data,delete R.children,W.original=R,(de[W.id]=W).state.selected&&D.push(W.id),W.id};if(x.length&&x[0].id!==y&&x[0].parent!==y){for(te=0,we=x.length;te<we;te++)x[te].children||(x[te].children=[]),x[te].state||(x[te].state={}),de[x[te].id.toString()]=x[te];for(te=0,we=x.length;te<we;te++)de[x[te].parent.toString()]?(de[x[te].parent.toString()].children.push(x[te].id.toString()),Z.children_d.push(x[te].id.toString())):void 0!==d&&(d._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:x[te].id.toString(),parent:x[te].parent.toString()})},d.settings.core.error.call(d,d._data.core.last_error));for(te=0,we=Z.children.length;te<we;te++)be=$e(de[Z.children[te]],w,Z.parents.concat()),M.push(be),de[be].children_d.length&&(M=M.concat(de[be].children_d));for(te=0,we=Z.parents.length;te<we;te++)de[Z.parents[te]].children_d=de[Z.parents[te]].children_d.concat(M);De={cnt:he,mod:de,sel:_e,par:w,dpc:M,add:D}}else{for(te=0,we=x.length;te<we;te++)(be=Fe(x[te],w,Z.parents.concat()))&&(N.push(be),M.push(be),de[be].children_d.length&&(M=M.concat(de[be].children_d)));for(Z.children=N,Z.children_d=M,te=0,we=Z.parents.length;te<we;te++)de[Z.parents[te]].children_d=de[Z.parents[te]].children_d.concat(M);De={cnt:he,mod:de,sel:_e,par:w,dpc:M,add:D}}if("undefined"!=typeof window&&void 0!==window.document)return De;postMessage(De)},p=function(_,y){if(null!==this.element){var x;for(x in this._cnt=_.cnt,w=this._model.data)w.hasOwnProperty(x)&&w[x].state&&w[x].state.loading&&_.mod[x]&&(_.mod[x].state.loading=!0);if(this._model.data=_.mod,y){var N,M=_.add,D=_.sel,L=this._data.core.selected.slice(),w=this._model.data;if(D.length!==L.length||u.vakata.array_unique(D.concat(L)).length!==D.length){for(x=0,N=D.length;x<N;x++)-1===u.inArray(D[x],M)&&-1===u.inArray(D[x],L)&&(w[D[x]].state.selected=!1);for(x=0,N=L.length;x<N;x++)-1===u.inArray(L[x],D)&&(w[L[x]].state.selected=!0)}}_.add.length&&(this._data.core.selected=this._data.core.selected.concat(_.add)),this.trigger("model",{nodes:_.dpc,parent:_.par}),_.par!==u.jstree.root?(this._node_changed(_.par),this.redraw()):this.redraw(!0),_.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),!y&&gt?gt(function(){n.call(d,!0)}):n.call(d,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+m.toString()],{type:"text/javascript"}))),!this._data.core.working||i?(this._data.core.working=!0,(s=new window.Worker(this._wrk)).onmessage=function(_){p.call(this,_.data,!0);try{s.terminate(),s=null}catch(y){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}.bind(this),s.onerror=function(_){p.call(this,m(c),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}.bind(this),c.par?s.postMessage(c):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([e,a,n,!0])}catch(_){p.call(this,m(c),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else p.call(this,m(c),!1)}},_parse_model_from_html:function(e,p,n){n=n?[].concat(n):[],p&&n.unshift(p);var i,s,m,_,c=this._model.data,d={id:!1,text:!1,icon:!0,parent:p,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(m in this._model.default_state)this._model.default_state.hasOwnProperty(m)&&(d.state[m]=this._model.default_state[m]);if(p=u.vakata.attributes(e,!0),u.each(p,function(y,x){return!(x=u.vakata.trim(x)).length||(d.li_attr[y]=x,void("id"===y&&(d.id=x.toString())))}),(p=e.children("a").first()).length&&(p=u.vakata.attributes(p,!0),u.each(p,function(y,x){(x=u.vakata.trim(x)).length&&(d.a_attr[y]=x)})),(p=(e.children("a").first().length?e.children("a").first():e).clone()).children("ins, i, ul").remove(),p=p.html(),p=u("<div></div>").html(p),d.text=this.settings.core.force_text?p.text():p.html(),p=e.data(),d.data=p?u.extend(!0,{},p):null,d.state.opened=e.hasClass("jstree-open"),d.state.selected=e.children("a").hasClass("jstree-clicked"),d.state.disabled=e.children("a").hasClass("jstree-disabled"),d.data&&d.data.jstree)for(m in d.data.jstree)d.data.jstree.hasOwnProperty(m)&&(d.state[m]=d.data.jstree[m]);(p=e.children("a").children(".jstree-themeicon")).length&&(d.icon=!p.hasClass("jstree-themeicon-hidden")&&p.attr("rel")),d.state.icon!==B&&(d.icon=d.state.icon),d.icon!==B&&null!==d.icon&&""!==d.icon||(d.icon=!0),p=e.children("ul").children("li");do{_="j"+this._id+"_"+ ++this._cnt}while(c[_]);return d.id=d.li_attr.id?d.li_attr.id.toString():_,p.length?(p.each(function(y,x){i=this._parse_model_from_html(u(x),d.id,n),s=this._model.data[i],d.children.push(i),s.children_d.length&&(d.children_d=d.children_d.concat(s.children_d))}.bind(this)),d.children_d=d.children_d.concat(d.children)):e.hasClass("jstree-closed")&&(d.state.loaded=!1),d.li_attr.class&&(d.li_attr.class=d.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),d.a_attr.class&&(d.a_attr.class=d.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),(c[d.id]=d).state.selected&&this._data.core.selected.push(d.id),d.id},_parse_model_from_flat_json:function(e,a,n){n=n?n.concat():[],a&&n.unshift(a);var d,m,p,_,i=e.id.toString(),s=this._model.data,c=this._model.default_state,y={id:i,text:e.text||"",icon:e.icon===B||e.icon,parent:a,parents:n,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(d in c)c.hasOwnProperty(d)&&(y.state[d]=c[d]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(y.icon=e.data.jstree.icon),y.icon!==B&&null!==y.icon&&""!==y.icon||(y.icon=!0),e&&e.data&&(y.data=e.data,e.data.jstree))for(d in e.data.jstree)e.data.jstree.hasOwnProperty(d)&&(y.state[d]=e.data.jstree[d]);if(e&&"object"==typeof e.state)for(d in e.state)e.state.hasOwnProperty(d)&&(y.state[d]=e.state[d]);if(e&&"object"==typeof e.li_attr)for(d in e.li_attr)e.li_attr.hasOwnProperty(d)&&(y.li_attr[d]=e.li_attr[d]);if(y.li_attr.id||(y.li_attr.id=i),e&&"object"==typeof e.a_attr)for(d in e.a_attr)e.a_attr.hasOwnProperty(d)&&(y.a_attr[d]=e.a_attr[d]);for(e&&e.children&&!0===e.children&&(y.state.loaded=!1,y.children=[],y.children_d=[]),d=0,m=(s[y.id]=y).children.length;d<m;d++)_=s[p=this._parse_model_from_flat_json(s[y.children[d]],y.id,n)],y.children_d.push(p),_.children_d.length&&(y.children_d=y.children_d.concat(_.children_d));return delete e.data,delete e.children,s[y.id].original=e,y.state.selected&&this._data.core.selected.push(y.id),y.id},_parse_model_from_json:function(e,a,n){n=n?n.concat():[],a&&n.unshift(a);var s,c,d,m,y,i=!1,p=this._model.data,_=this._model.default_state;do{i="j"+this._id+"_"+ ++this._cnt}while(p[i]);for(s in y={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===B||e.icon,parent:a,parents:n,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},_)_.hasOwnProperty(s)&&(y.state[s]=_[s]);if(e&&(e.id||0===e.id)&&(y.id=e.id.toString()),e&&e.text&&(y.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(y.icon=e.data.jstree.icon),y.icon!==B&&null!==y.icon&&""!==y.icon||(y.icon=!0),e&&e.data&&(y.data=e.data,e.data.jstree))for(s in e.data.jstree)e.data.jstree.hasOwnProperty(s)&&(y.state[s]=e.data.jstree[s]);if(e&&"object"==typeof e.state)for(s in e.state)e.state.hasOwnProperty(s)&&(y.state[s]=e.state[s]);if(e&&"object"==typeof e.li_attr)for(s in e.li_attr)e.li_attr.hasOwnProperty(s)&&(y.li_attr[s]=e.li_attr[s]);if(y.li_attr.id&&!y.id&&0!==y.id&&(y.id=y.li_attr.id.toString()),y.id||0===y.id||(y.id=i),y.li_attr.id||(y.li_attr.id=y.id),e&&"object"==typeof e.a_attr)for(s in e.a_attr)e.a_attr.hasOwnProperty(s)&&(y.a_attr[s]=e.a_attr[s]);if(e&&e.children&&e.children.length){for(s=0,c=e.children.length;s<c;s++)m=p[d=this._parse_model_from_json(e.children[s],y.id,n)],y.children.push(d),m.children_d.length&&(y.children_d=y.children_d.concat(m.children_d));y.children_d=y.children.concat(y.children_d)}return e&&e.children&&!0===e.children&&(y.state.loaded=!1,y.children=[],y.children_d=[]),delete e.data,delete e.children,y.original=e,(p[y.id]=y).state.selected&&this._data.core.selected.push(y.id),y.id},_redraw:function(){for(var n,e=(this._model.force_full_redraw?this._model.data[u.jstree.root].children:this._model.changed).concat([]),a=re.createElement("UL"),i=this._data.core.focused,s=0,c=e.length;s<c;s++)(n=this.redraw_node(e[s],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&a.appendChild(n);this._model.force_full_redraw&&(a.className=this.get_container_ul()[0].className,a.setAttribute("role","presentation"),this.element.empty().append(a)),null!==i&&this.settings.core.restore_focus&&((n=this.get_node(i,!0))&&n.length&&n.children(".jstree-anchor")[0]!==re.activeElement?n.children(".jstree-anchor").trigger("focus"):this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:e})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(e){var a=this.get_node(e),n=!1,i=!1,s=!1,c=re;if(!a)return!1;if(a.id===u.jstree.root)return this.redraw(!0);if(!(e=this.get_node(e,!0))||!e.length)return!1;if(e.children(".jstree-children").remove(),e=e[0],a.children.length&&a.state.loaded){for((s=c.createElement("UL")).setAttribute("role","group"),s.className="jstree-children",n=0,i=a.children.length;n<i;n++)s.appendChild(this.redraw_node(a.children[n],!0,!0));e.appendChild(s)}},redraw_node:function(e,a,n,i){var s=this.get_node(e),c=!1,d=!1,m=!1,p=!1,_=!1,y=!1,x="",w=re,N=this._model.data,M=!1,L=null,oe=0,he=0,de=!1,Z=!1;if(!s)return!1;if(s.id===u.jstree.root)return this.redraw(!0);if(a=a||0===s.children.length,e=re.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(s.id[0])?"\\3"+s.id[0]+" "+s.id.substr(1).replace(u.jstree.idregex,"\\$&"):s.id.replace(u.jstree.idregex,"\\$&"))):re.getElementById(s.id))e=u(e),n||((c=e.parent().parent()[0])===this.element[0]&&(c=null),d=e.index()),(a=!(a||!s.children.length||e.children(".jstree-children").length)||a)||(m=e.children(".jstree-children")[0]),M=e.children(".jstree-anchor")[0]===re.activeElement,e.remove();else if(a=!0,!n){if(!(null===(c=s.parent!==u.jstree.root?u("#"+s.parent.replace(u.jstree.idregex,"\\$&"),this.element)[0]:null)||c&&N[s.parent].state.opened))return!1;d=u.inArray(s.id,(null===c?N[u.jstree.root]:N[s.parent]).children)}for(p in e=this._data.core.node.cloneNode(!0),x="jstree-node ",s.li_attr)s.li_attr.hasOwnProperty(p)&&"id"!==p&&("class"!==p?e.setAttribute(p,s.li_attr[p]):x+=s.li_attr[p]);for(s.a_attr.id||(s.a_attr.id=s.id+"_anchor"),e.childNodes[1].setAttribute("aria-selected",!!s.state.selected),e.childNodes[1].setAttribute("aria-level",s.parents.length),this.settings.core.compute_elements_positions&&(e.childNodes[1].setAttribute("aria-setsize",N[s.parent].children.length),e.childNodes[1].setAttribute("aria-posinset",N[s.parent].children.indexOf(s.id)+1)),s.state.disabled&&e.childNodes[1].setAttribute("aria-disabled",!0),p=0,_=s.children.length;p<_;p++)if(!N[s.children[p]].state.hidden){de=!0;break}if(null!==s.parent&&N[s.parent]&&!s.state.hidden&&(p=u.inArray(s.id,N[s.parent].children),Z=s.id,-1!==p))for(p++,_=N[s.parent].children.length;p<_&&(Z=N[N[s.parent].children[p]].state.hidden?Z:N[s.parent].children[p])===s.id;p++);for(_ in s.state.hidden&&(x+=" jstree-hidden"),s.state.loading&&(x+=" jstree-loading"),s.state.loaded&&!de?x+=" jstree-leaf":(x+=s.state.opened&&s.state.loaded?" jstree-open":" jstree-closed",e.childNodes[1].setAttribute("aria-expanded",s.state.opened&&s.state.loaded)),Z===s.id&&(x+=" jstree-last"),e.id=s.id,e.className=x,x=(s.state.selected?" jstree-clicked":"")+(s.state.disabled?" jstree-disabled":""),s.a_attr)s.a_attr.hasOwnProperty(_)&&("href"===_&&"#"===s.a_attr[_]||("class"!==_?e.childNodes[1].setAttribute(_,s.a_attr[_]):x+=" "+s.a_attr[_]));if(x.length&&(e.childNodes[1].className="jstree-anchor "+x),(s.icon&&!0!==s.icon||!1===s.icon)&&(!1===s.icon?e.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===s.icon.indexOf("/")&&-1===s.icon.indexOf(".")?e.childNodes[1].childNodes[0].className+=" "+s.icon+" jstree-themeicon-custom":(e.childNodes[1].childNodes[0].style.backgroundImage='url("'+s.icon+'")',e.childNodes[1].childNodes[0].style.backgroundPosition="center center",e.childNodes[1].childNodes[0].style.backgroundSize="auto",e.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?e.childNodes[1].appendChild(w.createTextNode(s.text)):e.childNodes[1].innerHTML+=s.text,a&&s.children.length&&(s.state.opened||i)&&s.state.loaded){for((y=w.createElement("UL")).setAttribute("role","group"),y.className="jstree-children",p=0,_=s.children.length;p<_;p++)y.appendChild(this.redraw_node(s.children[p],a,!0));e.appendChild(y)}if(m&&e.appendChild(m),!n){for(p=0,_=(c=c||this.element[0]).childNodes.length;p<_;p++)if(c.childNodes[p]&&c.childNodes[p].className&&-1!==c.childNodes[p].className.indexOf("jstree-children")){L=c.childNodes[p];break}L||((L=w.createElement("UL")).setAttribute("role","group"),L.className="jstree-children",c.appendChild(L)),d<(c=L).childNodes.length?c.insertBefore(e,c.childNodes[d]):c.appendChild(e),M&&(oe=this.element[0].scrollTop,he=this.element[0].scrollLeft,e.childNodes[1].focus(),this.element[0].scrollTop=oe,this.element[0].scrollLeft=he)}return s.state.opened&&!s.state.loaded&&(s.state.opened=!1,setTimeout(function(){this.open_node(s.id,!1,0)}.bind(this),0)),e},open_node:function(e,a,n){var i,s,c,d;if(u.vakata.is_array(e)){for(i=0,s=(e=e.slice()).length;i<s;i++)this.open_node(e[i],a,n);return!0}return!(!(e=this.get_node(e))||e.id===u.jstree.root)&&(n=n===B?this.settings.core.animation:n,this.is_closed(e)?this.is_loaded(e)?(c=this.get_node(e,!0),d=this,c.length&&(n&&c.children(".jstree-children").length&&c.children(".jstree-children").stop(!0,!0),e.children.length&&!this._firstChild(c.children(".jstree-children")[0])&&this.draw_children(e),n?(this.trigger("before_open",{node:e}),c.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").children(".jstree-anchor").attr("aria-expanded",!0).end().children(".jstree-children").stop(!0,!0).slideDown(n,function(){this.style.display="",d.element&&d.trigger("after_open",{node:e})})):(this.trigger("before_open",{node:e}),c[0].className=c[0].className.replace("jstree-closed","jstree-open"),c[0].childNodes[1].setAttribute("aria-expanded",!0))),e.state.opened=!0,a&&a.call(this,e,!0),c.length||this.trigger("before_open",{node:e}),this.trigger("open_node",{node:e}),n&&c.length||this.trigger("after_open",{node:e}),!0):this.is_loading(e)?setTimeout(function(){this.open_node(e,a,n)}.bind(this),500):void this.load_node(e,function(m,p){return p?this.open_node(m,a,n):!!a&&a.call(this,m,!1)}):(a&&a.call(this,e,!1),!1))},_open_to:function(e){if(!(e=this.get_node(e))||e.id===u.jstree.root)return!1;for(var a=e.parents,n=0,i=a.length;n<i;n+=1)n!==u.jstree.root&&this.open_node(a[n],!1,0);return u("#"+e.id.replace(u.jstree.idregex,"\\$&"),this.element)},close_node:function(e,a){var n,i,s,c;if(u.vakata.is_array(e)){for(n=0,i=(e=e.slice()).length;n<i;n++)this.close_node(e[n],a);return!0}return!(!(e=this.get_node(e))||e.id===u.jstree.root)&&!this.is_closed(e)&&(a=a===B?this.settings.core.animation:a,c=(s=this).get_node(e,!0),e.state.opened=!1,this.trigger("close_node",{node:e}),void(c.length?a?c.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").children(".jstree-anchor").attr("aria-expanded",!1).end().children(".jstree-children").stop(!0,!0).slideUp(a,function(){this.style.display="",c.children(".jstree-children").remove(),s.element&&s.trigger("after_close",{node:e})}):(c[0].className=c[0].className.replace("jstree-open","jstree-closed"),c.children(".jstree-anchor").attr("aria-expanded",!1),c.children(".jstree-children").remove(),this.trigger("after_close",{node:e})):this.trigger("after_close",{node:e})))},toggle_node:function(e){var a,n;if(u.vakata.is_array(e)){for(a=0,n=(e=e.slice()).length;a<n;a++)this.toggle_node(e[a]);return!0}return this.is_closed(e)?this.open_node(e):this.is_open(e)?this.close_node(e):void 0},open_all:function(e,a,n){if(!(e=this.get_node(e=e||u.jstree.root)))return!1;var s,c,d,i=e.id===u.jstree.root?this.get_container_ul():this.get_node(e,!0);if(!i.length){for(s=0,c=e.children_d.length;s<c;s++)this.is_closed(this._model.data[e.children_d[s]])&&(this._model.data[e.children_d[s]].state.opened=!0);return this.trigger("open_all",{node:e})}n=n||i,(i=(d=this).is_closed(e)?i.find(".jstree-closed").addBack():i.find(".jstree-closed")).each(function(){d.open_node(this,function(m,p){p&&this.is_parent(m)&&this.open_all(m,a,n)},a||0)}),0===n.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(n)})},close_all:function(e,a){if(!(e=this.get_node(e=e||u.jstree.root)))return!1;var s,c,n=e.id===u.jstree.root?this.get_container_ul():this.get_node(e,!0),i=this;for(n.length&&(n=this.is_open(e)?n.find(".jstree-open").addBack():n.find(".jstree-open"),u(n.get().reverse()).each(function(){i.close_node(this,a||0)})),s=0,c=e.children_d.length;s<c;s++)this._model.data[e.children_d[s]].state.opened=!1;this.trigger("close_all",{node:e})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(e){var a,n;if(u.vakata.is_array(e)){for(a=0,n=(e=e.slice()).length;a<n;a++)this.enable_node(e[a]);return!0}if(!(e=this.get_node(e))||e.id===u.jstree.root)return!1;e.state.disabled=!1,this.get_node(e,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:e})},disable_node:function(e){var a,n;if(u.vakata.is_array(e)){for(a=0,n=(e=e.slice()).length;a<n;a++)this.disable_node(e[a]);return!0}if(!(e=this.get_node(e))||e.id===u.jstree.root)return!1;e.state.disabled=!0,this.get_node(e,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:e})},is_hidden:function(e){return!0===(e=this.get_node(e)).state.hidden},hide_node:function(e,a){var n,i;if(u.vakata.is_array(e)){for(n=0,i=(e=e.slice()).length;n<i;n++)this.hide_node(e[n],!0);return a||this.redraw(),!0}if(!(e=this.get_node(e))||e.id===u.jstree.root)return!1;e.state.hidden||(e.state.hidden=!0,this._node_changed(e.parent),a||this.redraw(),this.trigger("hide_node",{node:e}))},show_node:function(e,a){var n,i;if(u.vakata.is_array(e)){for(n=0,i=(e=e.slice()).length;n<i;n++)this.show_node(e[n],!0);return a||this.redraw(),!0}if(!(e=this.get_node(e))||e.id===u.jstree.root)return!1;e.state.hidden&&(e.state.hidden=!1,this._node_changed(e.parent),a||this.redraw(),this.trigger("show_node",{node:e}))},hide_all:function(e){var a,n=this._model.data,i=[];for(a in n)n.hasOwnProperty(a)&&a!==u.jstree.root&&!n[a].state.hidden&&(n[a].state.hidden=!0,i.push(a));return this._model.force_full_redraw=!0,e||this.redraw(),this.trigger("hide_all",{nodes:i}),i},show_all:function(e){var a,n=this._model.data,i=[];for(a in n)n.hasOwnProperty(a)&&a!==u.jstree.root&&n[a].state.hidden&&(n[a].state.hidden=!1,i.push(a));return this._model.force_full_redraw=!0,e||this.redraw(),this.trigger("show_all",{nodes:i}),i},activate_node:function(e,a){if(this.is_disabled(e))return!1;if(a&&"object"==typeof a||(a={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==B?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(a.metaKey||a.ctrlKey||a.shiftKey)&&(!a.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(a.shiftKey){for(var n=this.get_node(e).id,i=this._data.core.last_clicked.id,s=this.get_node(this._data.core.last_clicked.parent).children,c=!1,d=0,m=s.length;d<m;d+=1)s[d]===n&&(c=!c),s[d]===i&&(c=!c),this.is_disabled(s[d])||!c&&s[d]!==n&&s[d]!==i?a.ctrlKey||this.deselect_node(s[d],!0,a):this.is_hidden(s[d])||this.select_node(s[d],!0,!1,a);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:a})}else this.is_selected(e)?this.deselect_node(e,!1,a):(a.ctrlKey&&(this._data.core.last_clicked=this.get_node(e)),this.select_node(e,!1,!1,a));else!this.settings.core.multiple&&(a.metaKey||a.ctrlKey||a.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,a):(!this.settings.core.allow_reselect&&this.is_selected(e)&&1===this._data.core.selected.length||(this.deselect_all(!0),this.select_node(e,!1,!1,a)),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:a})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var a=this.element.find(".jstree-hovered"),n=this.element;a&&a.length&&this.dehover_node(a),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){n.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||!e.children(".jstree-hovered").length)return!1;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(e,a,n,i){var s,c,d;if(u.vakata.is_array(e)){for(c=0,d=(e=e.slice()).length;c<d;c++)this.select_node(e[c],a,n,i);return!0}if(!(e=this.get_node(e))||e.id===u.jstree.root)return!1;s=this.get_node(e,!0),e.state.selected||(e.state.selected=!0,this._data.core.selected.push(e.id),(s=n?s:this._open_to(e))&&s.length&&s.children(".jstree-anchor").addClass("jstree-clicked").attr("aria-selected",!0),this.trigger("select_node",{node:e,selected:this._data.core.selected,event:i}),a||this.trigger("changed",{action:"select_node",node:e,selected:this._data.core.selected,event:i}))},deselect_node:function(e,a,n){var i,s,c;if(u.vakata.is_array(e)){for(i=0,s=(e=e.slice()).length;i<s;i++)this.deselect_node(e[i],a,n);return!0}if(!(e=this.get_node(e))||e.id===u.jstree.root)return!1;c=this.get_node(e,!0),e.state.selected&&(e.state.selected=!1,this._data.core.selected=u.vakata.array_remove_item(this._data.core.selected,e.id),c.length&&c.children(".jstree-anchor").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_node",{node:e,selected:this._data.core.selected,event:n}),a||this.trigger("changed",{action:"deselect_node",node:e,selected:this._data.core.selected,event:n}))},select_all:function(e){var n,i,a=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[u.jstree.root].children_d.concat(),n=0,i=this._data.core.selected.length;n<i;n++)this._model.data[this._data.core.selected[n]]&&(this._model.data[this._data.core.selected[n]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),e||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:a})},deselect_all:function(e){for(var a=this._data.core.selected.concat([]),n=0,i=this._data.core.selected.length;n<i;n++)this._model.data[this._data.core.selected[n]]&&(this._model.data[this._data.core.selected[n]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:a}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:a})},is_selected:function(e){return!(!(e=this.get_node(e))||e.id===u.jstree.root)&&e.state.selected},get_selected:function(e){return e?u.map(this._data.core.selected,function(a){return this.get_node(a)}.bind(this)):this._data.core.selected.slice()},get_top_selected:function(e){for(var i,s,a=this.get_selected(!0),n={},c=0,d=a.length;c<d;c++)n[a[c].id]=a[c];for(c=0,d=a.length;c<d;c++)for(i=0,s=a[c].children_d.length;i<s;i++)n[a[c].children_d[i]]&&delete n[a[c].children_d[i]];for(c in a=[],n)n.hasOwnProperty(c)&&a.push(c);return e?u.map(a,function(m){return this.get_node(m)}.bind(this)):a},get_bottom_selected:function(e){for(var a=this.get_selected(!0),n=[],i=0,s=a.length;i<s;i++)a[i].children.length||n.push(a[i].id);return e?u.map(n,function(c){return this.get_node(c)}.bind(this)):n},get_state:function(){var a,e={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(a in this._model.data)this._model.data.hasOwnProperty(a)&&a!==u.jstree.root&&(this._model.data[a].state.loaded&&this.settings.core.loaded_state&&e.core.loaded.push(a),this._model.data[a].state.opened&&e.core.open.push(a),this._model.data[a].state.selected&&e.core.selected.push(a));return e},set_state:function(e,a){if(e){if(e.core&&e.core.selected&&e.core.initial_selection===B&&(e.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),e.core){var c,d;if(e.core.loaded)return this.settings.core.loaded_state&&u.vakata.is_array(e.core.loaded)&&e.core.loaded.length?this._load_nodes(e.core.loaded,function(m){delete e.core.loaded,this.set_state(e,a)}):(delete e.core.loaded,this.set_state(e,a)),!1;if(e.core.open)return u.vakata.is_array(e.core.open)&&e.core.open.length?this._load_nodes(e.core.open,function(m){this.open_node(m,!1,0),delete e.core.open,this.set_state(e,a)}):(delete e.core.open,this.set_state(e,a)),!1;if(e.core.scroll)return e.core.scroll&&e.core.scroll.left!==B&&this.element.scrollLeft(e.core.scroll.left),e.core.scroll&&e.core.scroll.top!==B&&this.element.scrollTop(e.core.scroll.top),delete e.core.scroll,this.set_state(e,a),!1;if(e.core.selected)return c=this,e.core.initial_selection!==B&&e.core.initial_selection!==this._data.core.selected.concat([]).sort().join(",")||(this.deselect_all(),u.each(e.core.selected,function(m,p){c.select_node(p,!1,!0)})),delete e.core.initial_selection,delete e.core.selected,this.set_state(e,a),!1;for(d in e)e.hasOwnProperty(d)&&"core"!==d&&-1===u.inArray(d,this.settings.plugins)&&delete e[d];if(u.isEmptyObject(e.core))return delete e.core,this.set_state(e,a),!1}return!u.isEmptyObject(e)||(e=null,a&&a.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(e,a){this._data.core.state=!0===a?{}:this.get_state(),a&&u.vakata.is_function(a)&&(this._data.core.state=a.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[u.jstree.root]={id:u.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var n=this.get_container_ul()[0].className;e||(this.element.html("<ul class='"+n+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(u.jstree.root,function(i,s){s&&(this.get_container_ul()[0].className=n,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(u.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(e){if(!(e=this.get_node(e))||e.id===u.jstree.root)return!1;var a=[],n=[],i=this._data.core.selected.concat([]);n.push(e.id),!0===e.state.opened&&a.push(e.id),this.get_node(e,!0).find(".jstree-open").each(function(){n.push(this.id),a.push(this.id)}),this._load_nodes(n,function(s){this.open_node(a,!1,0),this.select_node(i),this.trigger("refresh_node",{node:e,nodes:s})}.bind(this),!1,!0)},set_id:function(e,a){if(!(e=this.get_node(e))||e.id===u.jstree.root)return!1;var n,i,s=this._model.data,c=e.id;for(a=a.toString(),s[e.parent].children[u.inArray(e.id,s[e.parent].children)]=a,n=0,i=e.parents.length;n<i;n++)s[e.parents[n]].children_d[u.inArray(e.id,s[e.parents[n]].children_d)]=a;for(n=0,i=e.children.length;n<i;n++)s[e.children[n]].parent=a;for(n=0,i=e.children_d.length;n<i;n++)s[e.children_d[n]].parents[u.inArray(e.id,s[e.children_d[n]].parents)]=a;return-1!==(n=u.inArray(e.id,this._data.core.selected))&&(this._data.core.selected[n]=a),(n=this.get_node(e.id,!0))&&(n.attr("id",a),this.element.attr("aria-activedescendant")===e.id&&this.element.attr("aria-activedescendant",a)),delete s[e.id],e.id=a,s[e.li_attr.id=a]=e,this.trigger("set_id",{node:e,new:e.id,old:c}),!0},get_text:function(e){return!(!(e=this.get_node(e))||e.id===u.jstree.root)&&e.text},set_text:function(e,a){var n,i;if(u.vakata.is_array(e)){for(n=0,i=(e=e.slice()).length;n<i;n++)this.set_text(e[n],a);return!0}return!(!(e=this.get_node(e))||e.id===u.jstree.root||(e.text=a,this.get_node(e,!0).length&&this.redraw_node(e.id),this.trigger("set_text",{obj:e,text:a}),0))},get_json:function(e,a,n){if(!(e=this.get_node(e||u.jstree.root)))return!1;a&&a.flat&&!n&&(n=[]);var s,c,i={id:e.id,text:e.text,icon:this.get_icon(e),li_attr:u.extend(!0,{},e.li_attr),a_attr:u.extend(!0,{},e.a_attr),state:{},data:(!a||!a.no_data)&&u.extend(!0,u.vakata.is_array(e.data)?[]:{},e.data)};if(a&&a.flat?i.parent=e.parent:i.children=[],a&&a.no_state)delete i.state;else for(s in e.state)e.state.hasOwnProperty(s)&&(i.state[s]=e.state[s]);if(a&&a.no_li_attr&&delete i.li_attr,a&&a.no_a_attr&&delete i.a_attr,a&&a.no_id&&(delete i.id,i.li_attr&&i.li_attr.id&&delete i.li_attr.id,i.a_attr&&i.a_attr.id&&delete i.a_attr.id),a&&a.flat&&e.id!==u.jstree.root&&n.push(i),!a||!a.no_children)for(s=0,c=e.children.length;s<c;s++)a&&a.flat?this.get_json(e.children[s],a,n):i.children.push(this.get_json(e.children[s],a));return a&&a.flat?n:e.id===u.jstree.root?i.children:i},create_node:function(e,a,n,i,s){if(null===e&&(e=u.jstree.root),!(e=this.get_node(e)))return!1;if(!(n=n===B?"last":n).toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(e))return this.load_node(e,function(){this.create_node(e,a,n,i,!0)});var c,d,m,p;switch((a="string"==typeof(a=a||{text:this.get_string("New node")})?{text:a}:u.extend(!0,{},a)).text===B&&(a.text=this.get_string("New node")),n=e.id===u.jstree.root&&"after"===(n="before"===n?"first":n)?"last":n){case"before":c=this.get_node(e.parent),n=u.inArray(e.id,c.children),e=c;break;case"after":c=this.get_node(e.parent),n=u.inArray(e.id,c.children)+1,e=c;break;case"inside":case"first":n=0;break;case"last":n=e.children.length;break;default:n=n||0}if(n>e.children.length&&(n=e.children.length),a.id===B&&(a.id=!0),!this.check("create_node",a,e,n))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===a.id&&delete a.id,!(a=this._parse_model_from_json(a,e.id,e.parents.concat())))return!1;for(c=this.get_node(a),(d=[]).push(a),d=d.concat(c.children_d),this.trigger("model",{nodes:d,parent:e.id}),e.children_d=e.children_d.concat(d),m=0,p=e.parents.length;m<p;m++)this._model.data[e.parents[m]].children_d=this._model.data[e.parents[m]].children_d.concat(d);for(a=c,c=[],m=0,p=e.children.length;m<p;m++)c[n<=m?m+1:m]=e.children[m];return c[n]=a.id,e.children=c,this.redraw_node(e,!0),this.trigger("create_node",{node:this.get_node(a),parent:e.id,position:n}),i&&i.call(this,this.get_node(a)),a.id},rename_node:function(e,a){var n,i,s;if(u.vakata.is_array(e)){for(n=0,i=(e=e.slice()).length;n<i;n++)this.rename_node(e[n],a);return!0}return!(!(e=this.get_node(e))||e.id===u.jstree.root||(s=e.text,this.check("rename_node",e,this.get_parent(e),a)?(this.set_text(e,a),this.trigger("rename_node",{node:e,text:a,old:s}),0):(this.settings.core.error.call(this,this._data.core.last_error),1)))},delete_node:function(e){var a,n,i,s,c,d,m,p,_,y,x;if(u.vakata.is_array(e)){for(a=0,n=(e=e.slice()).length;a<n;a++)this.delete_node(e[a]);return!0}if(!(e=this.get_node(e))||e.id===u.jstree.root)return!1;if(i=this.get_node(e.parent),x=u.inArray(e.id,i.children),_=!1,!this.check("delete_node",e,i,x))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==x&&(i.children=u.vakata.array_remove(i.children,x)),(s=e.children_d.concat([])).push(e.id),c=0,d=e.parents.length;c<d;c++)this._model.data[e.parents[c]].children_d=u.vakata.array_filter(this._model.data[e.parents[c]].children_d,function(w){return-1===u.inArray(w,s)});for(m=0,p=s.length;m<p;m++)if(this._model.data[s[m]].state.selected){_=!0;break}for(_&&(this._data.core.selected=u.vakata.array_filter(this._data.core.selected,function(w){return-1===u.inArray(w,s)})),this.trigger("delete_node",{node:e,parent:i.id}),_&&this.trigger("changed",{action:"delete_node",node:e,selected:this._data.core.selected,parent:i.id}),m=0,p=s.length;m<p;m++)delete this._model.data[s[m]];return-1!==u.inArray(this._data.core.focused,s)&&(this._data.core.focused=null,y=this.element[0].scrollTop,x=this.element[0].scrollLeft,i.id===u.jstree.root?this._model.data[u.jstree.root].children[0]&&this.get_node(this._model.data[u.jstree.root].children[0],!0).children(".jstree-anchor").trigger("focus"):this.get_node(i,!0).children(".jstree-anchor").trigger("focus"),this.element[0].scrollTop=y,this.element[0].scrollLeft=x),this.redraw_node(i,!0),!0},check:function(e,a,n,i,s){a=a&&a.id?a:this.get_node(a),n=n&&n.id?n:this.get_node(n);var c=e.match(/^(move_node|copy_node|create_node)$/i)?n:a,d=this.settings.core.check_callback;if("move_node"===e||"copy_node"===e){if(!(s&&s.is_multi||"move_node"!==e||u.inArray(a.id,n.children)!==i))return!(this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:e,pos:i,obj:!(!a||!a.id)&&a.id,par:!(!n||!n.id)&&n.id})});if(!(s&&s.is_multi||a.id!==n.id&&("move_node"!==e||u.inArray(a.id,n.children)!==i)&&-1===u.inArray(n.id,a.children_d)))return!(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:e,pos:i,obj:!(!a||!a.id)&&a.id,par:!(!n||!n.id)&&n.id})})}return(c=c&&c.data?c.data:c)&&c.functions&&(!1===c.functions[e]||!0===c.functions[e])?(!1===c.functions[e]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+e,data:JSON.stringify({chk:e,pos:i,obj:!(!a||!a.id)&&a.id,par:!(!n||!n.id)&&n.id})}),c.functions[e]):!(!1===d||u.vakata.is_function(d)&&!1===d.call(this,e,a,n,i,s)||d&&!1===d[e])||!(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+e,data:JSON.stringify({chk:e,pos:i,obj:!(!a||!a.id)&&a.id,par:!(!n||!n.id)&&n.id})})},last_error:function(){return this._data.core.last_error},move_node:function(e,a,n,i,s,c,d){var m,p,_,y,x,w,N,M,D,L,oe,he,de,Z;if(a=this.get_node(a),n=n===B?0:n,!a)return!1;if(!n.toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(a))return this.load_node(a,function(){this.move_node(e,a,n,i,!0,!1,d)});if(u.vakata.is_array(e)){if(1!==e.length){for(m=0,p=e.length;m<p;m++)(D=this.move_node(e[m],a,n,i,s,!1,d))&&(a=D,n="after");return this.redraw(),!0}e=e[0]}if(!(e=e&&e.id!==B?e:this.get_node(e))||e.id===u.jstree.root)return!1;if(_=(e.parent||u.jstree.root).toString(),x=n.toString().match(/^(before|after)$/)&&a.id!==u.jstree.root?this.get_node(a.parent):a,N=!(w=d||(this._model.data[e.id]?this:u.jstree.reference(e.id)))||!w._id||this._id!==w._id,y=w&&w._id&&_&&w._model.data[_]&&w._model.data[_].children?u.inArray(e.id,w._model.data[_].children):-1,w&&w._id&&(e=w._model.data[e.id]),N)return!!(D=this.copy_node(e,a,n,i,s,!1,d))&&(w&&w.delete_node(e),D);switch(n=a.id===u.jstree.root&&"after"===(n="before"===n?"first":n)?"last":n){case"before":n=u.inArray(a.id,x.children);break;case"after":n=u.inArray(a.id,x.children)+1;break;case"inside":case"first":n=0;break;case"last":n=x.children.length;break;default:n=n||0}if(n>x.children.length&&(n=x.children.length),!this.check("move_node",e,x,n,{core:!0,origin:d,is_multi:w&&w._id&&w._id!==this._id,is_foreign:!w||!w._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(e.parent===x.id){for(M=x.children.concat(),-1!==(D=u.inArray(e.id,M))&&(M=u.vakata.array_remove(M,D),D<n&&n--),D=[],L=0,oe=M.length;L<oe;L++)D[n<=L?L+1:L]=M[L];D[n]=e.id,x.children=D,this._node_changed(x.id),this.redraw(x.id===u.jstree.root)}else{for((D=e.children_d.concat()).push(e.id),L=0,oe=e.parents.length;L<oe;L++){for(M=[],he=0,de=(Z=w._model.data[e.parents[L]].children_d).length;he<de;he++)-1===u.inArray(Z[he],D)&&M.push(Z[he]);w._model.data[e.parents[L]].children_d=M}for(w._model.data[_].children=u.vakata.array_remove_item(w._model.data[_].children,e.id),L=0,oe=x.parents.length;L<oe;L++)this._model.data[x.parents[L]].children_d=this._model.data[x.parents[L]].children_d.concat(D);for(M=[],L=0,oe=x.children.length;L<oe;L++)M[n<=L?L+1:L]=x.children[L];for(M[n]=e.id,x.children=M,x.children_d.push(e.id),x.children_d=x.children_d.concat(e.children_d),e.parent=x.id,(D=x.parents.concat()).unshift(x.id),Z=e.parents.length,D=(e.parents=D).concat(),L=0,oe=e.children_d.length;L<oe;L++)this._model.data[e.children_d[L]].parents=this._model.data[e.children_d[L]].parents.slice(0,-1*Z),Array.prototype.push.apply(this._model.data[e.children_d[L]].parents,D);_!==u.jstree.root&&x.id!==u.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(_),this._node_changed(x.id)),c||this.redraw()}return i&&i.call(this,e,x,n),this.trigger("move_node",{node:e,parent:x.id,position:n,old_parent:_,old_position:y,is_multi:w&&w._id&&w._id!==this._id,is_foreign:!w||!w._id,old_instance:w,new_instance:this}),e.id},copy_node:function(e,a,n,i,s,c,d){var m,p,_,y,x,w,N,M,D,L;if(a=this.get_node(a),n=n===B?0:n,!a)return!1;if(!n.toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(a))return this.load_node(a,function(){this.copy_node(e,a,n,i,!0,!1,d)});if(u.vakata.is_array(e)){if(1!==e.length){for(m=0,p=e.length;m<p;m++)(y=this.copy_node(e[m],a,n,i,s,!0,d))&&(a=y,n="after");return this.redraw(),!0}e=e[0]}if(!(e=e&&e.id!==B?e:this.get_node(e))||e.id===u.jstree.root)return!1;switch(M=(e.parent||u.jstree.root).toString(),D=n.toString().match(/^(before|after)$/)&&a.id!==u.jstree.root?this.get_node(a.parent):a,(L=d||(this._model.data[e.id]?this:u.jstree.reference(e.id)))&&L._id&&(e=L._model.data[e.id]),n=a.id===u.jstree.root&&"after"===(n="before"===n?"first":n)?"last":n){case"before":n=u.inArray(a.id,D.children);break;case"after":n=u.inArray(a.id,D.children)+1;break;case"inside":case"first":n=0;break;case"last":n=D.children.length;break;default:n=n||0}if(n>D.children.length&&(n=D.children.length),!this.check("copy_node",e,D,n,{core:!0,origin:d,is_multi:L&&L._id&&L._id!==this._id,is_foreign:!L||!L._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!((N=L?L.get_json(e,{no_id:!0,no_data:!0,no_state:!0}):e)&&(!0===N.id&&delete N.id,N=this._parse_model_from_json(N,D.id,D.parents.concat()))))return!1;for(y=this.get_node(N),e&&e.state&&!1===e.state.loaded&&(y.state.loaded=!1),(_=[]).push(N),_=_.concat(y.children_d),this.trigger("model",{nodes:_,parent:D.id}),x=0,w=D.parents.length;x<w;x++)this._model.data[D.parents[x]].children_d=this._model.data[D.parents[x]].children_d.concat(_);for(_=[],x=0,w=D.children.length;x<w;x++)_[n<=x?x+1:x]=D.children[x];return _[n]=y.id,D.children=_,D.children_d.push(y.id),D.children_d=D.children_d.concat(y.children_d),D.id===u.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(D.id),c||this.redraw(D.id===u.jstree.root),i&&i.call(this,y,D,n),this.trigger("copy_node",{node:y,original:e,parent:D.id,position:n,old_parent:M,old_position:L&&L._id&&M&&L._model.data[M]&&L._model.data[M].children?u.inArray(e.id,L._model.data[M].children):-1,is_multi:L&&L._id&&L._id!==this._id,is_foreign:!L||!L._id,old_instance:L,new_instance:this}),y.id},cut:function(e){if(e=e||this._data.core.selected.concat(),!(e=u.vakata.is_array(e)?e:[e]).length)return!1;for(var n,a=[],i=0,s=e.length;i<s;i++)(n=this.get_node(e[i]))&&(n.id||0===n.id)&&n.id!==u.jstree.root&&a.push(n);if(!a.length)return!1;Je=a,ye="move_node",(at=this).trigger("cut",{node:e})},copy:function(e){if(e=e||this._data.core.selected.concat(),!(e=u.vakata.is_array(e)?e:[e]).length)return!1;for(var n,a=[],i=0,s=e.length;i<s;i++)(n=this.get_node(e[i]))&&n.id!==B&&n.id!==u.jstree.root&&a.push(n);if(!a.length)return!1;Je=a,ye="copy_node",(at=this).trigger("copy",{node:e})},get_buffer:function(){return{mode:ye,node:Je,inst:at}},can_paste:function(){return!1!==ye&&!1!==Je},paste:function(e,a){if(!((e=this.get_node(e))&&ye&&ye.match(/^(copy_node|move_node)$/)&&Je))return!1;this[ye](Je,e,a,!1,!1,!1,at)&&this.trigger("paste",{parent:e.id,node:Je,mode:ye}),at=ye=Je=!1},clear_buffer:function(){at=ye=Je=!1,this.trigger("clear_buffer")},edit:function(e,a,n){var i,s,c,d,m,p,_,y,x=!1;return!!(e=this.get_node(e))&&(this.check("edit",e,this.get_parent(e))?(y=e,a="string"==typeof a?a:e.text,this.set_text(e,""),e=this._open_to(e),y.text=a,_=this._data.core.rtl,i=this.element.width(),this._data.core.focused=y.id,s=e.children(".jstree-anchor").trigger("focus"),c=u("<span></span>"),d=a,m=u("<div></div>",{css:{position:"absolute",top:"-200px",left:_?"0px":"-1000px",visibility:"hidden"}}).appendTo(re.body),p=u("<input />",{value:d,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},on:{blur:function(D){D.stopImmediatePropagation(),D.preventDefault();var M=c.children(".jstree-rename-input").val();D=this.settings.core.force_text,""===M&&(M=d),m.remove(),c.replaceWith(s),c.remove(),d=D?d:u("<div></div>").append(u.parseHTML(d)).html(),e=this.get_node(e),this.set_text(e,d),(D=!!this.rename_node(e,D?u("<div></div>").text(M).text():u("<div></div>").append(u.parseHTML(M)).html()))||this.set_text(e,d),this._data.core.focused=y.id,setTimeout(function(){var L=this.get_node(y.id,!0);L.length&&(this._data.core.focused=y.id,L.children(".jstree-anchor").trigger("focus"))}.bind(this),0),n&&n.call(this,y,D,x,M),p=null}.bind(this),keydown:function(w){var N=w.which;27===N&&(x=!0,this.value=d),27!==N&&13!==N&&37!==N&&38!==N&&39!==N&&40!==N&&32!==N||w.stopImmediatePropagation(),27!==N&&13!==N||(w.preventDefault(),this.blur())},click:function(w){w.stopImmediatePropagation()},mousedown:function(w){w.stopImmediatePropagation()},keyup:function(w){p.width(Math.min(m.text("pW"+this.value).width(),i))},keypress:function(w){if(13===w.which)return!1}}}),_={fontFamily:s.css("fontFamily")||"",fontSize:s.css("fontSize")||"",fontWeight:s.css("fontWeight")||"",fontStyle:s.css("fontStyle")||"",fontStretch:s.css("fontStretch")||"",fontVariant:s.css("fontVariant")||"",letterSpacing:s.css("letterSpacing")||"",wordSpacing:s.css("wordSpacing")||""},c.attr("class",s.attr("class")).append(s.contents().clone()).append(p),s.replaceWith(c),m.css(_),p.css(_).width(Math.min(m.text("pW"+p[0].value).width(),i))[0].select(),void u(re).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(w){p&&w.target!==p&&u(p).trigger("blur")})):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(e,a){if(!e)return!1;(a=!0===a?(this.settings.core.themes.dir||u.jstree.path+"/themes")+"/"+e+"/style.css":a)&&-1===u.inArray(a,pt)&&(u("head").append('<link rel="stylesheet" href="'+a+'" type="text/css" />'),pt.push(a)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=e,this.element.addClass("jstree-"+e),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+e+"-responsive"),this.trigger("set_theme",{theme:e})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),(this._data.core.themes.variant=e)&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(e,a){var n,i,s,c;if(u.vakata.is_array(e)){for(n=0,i=(e=e.slice()).length;n<i;n++)this.set_icon(e[n],a);return!0}return!(!(e=this.get_node(e))||e.id===u.jstree.root||(c=e.icon,e.icon=!0===a||null===a||a===B||""===a||a,s=this.get_node(e,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===a?(s.removeClass("jstree-themeicon-custom "+c).css("background","").removeAttr("rel"),this.hide_icon(e)):(!0===a||null===a||a===B||""===a?s.removeClass("jstree-themeicon-custom "+c).css("background","").removeAttr("rel"):-1===a.indexOf("/")&&-1===a.indexOf(".")?(s.removeClass(c).css("background",""),s.addClass(a+" jstree-themeicon-custom").attr("rel",a)):(s.removeClass(c).css("background",""),s.addClass("jstree-themeicon-custom").css("background","url('"+a+"') center center no-repeat").attr("rel",a)),!1===c&&this.show_icon(e)),0))},get_icon:function(e){return!(!(e=this.get_node(e))||e.id===u.jstree.root)&&e.icon},hide_icon:function(e){var a,n;if(u.vakata.is_array(e)){for(a=0,n=(e=e.slice()).length;a<n;a++)this.hide_icon(e[a]);return!0}return!(!(e=this.get_node(e))||e===u.jstree.root||(e.icon=!1,this.get_node(e,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),0))},show_icon:function(e){var a,n,i;if(u.vakata.is_array(e)){for(a=0,n=(e=e.slice()).length;a<n;a++)this.show_icon(e[a]);return!0}return!(!(e=this.get_node(e))||e===u.jstree.root||(i=this.get_node(e,!0),e.icon=!i.length||i.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),e.icon||(e.icon=!0),i.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),0))}},u.vakata={},u.vakata.attributes=function(e,a){e=u(e)[0];var n=a?{}:[];return e&&e.attributes&&u.each(e.attributes,function(i,s){-1===u.inArray(s.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==s.value&&""!==u.vakata.trim(s.value)&&(a?n[s.name]=s.value:n.push(s.name))}),n},u.vakata.array_unique=function(e){for(var a=[],i={},s=0,c=e.length;s<c;s++)i[e[s]]===B&&(a.push(e[s]),i[e[s]]=!0);return a},u.vakata.array_remove=function(e,a){return e.splice(a,1),e},u.vakata.array_remove_item=function(e,n){return-1!==(n=u.inArray(n,e))?u.vakata.array_remove(e,n):e},u.vakata.array_filter=function(e,a,n,i,s){if(e.filter)return e.filter(a,n);for(s in i=[],e)~~s+""==s+""&&0<=s&&a.call(n,e[s],+s,e)&&i.push(e[s]);return i},u.vakata.trim=function(e){return String.prototype.trim?String.prototype.trim.call(e.toString()):e.toString().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},u.vakata.is_function=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},u.vakata.is_array=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Function.prototype.bind||(Function.prototype.bind=function(){var e=this,a=arguments[0],n=Array.prototype.slice.call(arguments,1);if("function"!=typeof e)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){var i=n.concat(Array.prototype.slice.call(arguments));return e.apply(a,i)}}),u.jstree.plugins.changed=function(e,a){var n=[];this.trigger=function(i,s){if(s=s||{},"changed"===i.replace(".jstree","")){s.changed={selected:[],deselected:[]};for(var m={},c=0,d=n.length;c<d;c++)m[n[c]]=1;for(c=0,d=s.selected.length;c<d;c++)m[s.selected[c]]?m[s.selected[c]]=2:s.changed.selected.push(s.selected[c]);for(c=0,d=n.length;c<d;c++)1===m[n[c]]&&s.changed.deselected.push(n[c]);n=s.selected.slice()}a.trigger.call(this,i,s)},this.refresh=function(i,s){return n=[],a.refresh.apply(this,arguments)}};var ee,ie,I,Re,G,Q,$,Qe,kt=re.createElement("I");kt.className="jstree-icon jstree-checkbox",kt.setAttribute("role","presentation"),u.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},u.jstree.plugins.checkbox=function(e,a){this.bind=function(){a.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")}.bind(this)).on("loading.jstree",function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()}.bind(this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)}.bind(this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",function(n,i){for(var s=this._model.data,d=i.nodes,m=0,p=d.length;m<p;m++)s[d[m]].state.checked=s[d[m]].state.checked||s[d[m]].original&&s[d[m]].original.state&&s[d[m]].original.state.checked,s[d[m]].state.checked&&this._data.checkbox.selected.push(d[m])}.bind(this)),-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",function(n,M){var p,_,y,x,w,N,s=this._model.data,c=s[M.parent],d=M.nodes,m=[],D=this.settings.checkbox.tie_selection;if(-1!==(M=this.settings.checkbox.cascade).indexOf("down"))if(c.state[D?"selected":"checked"]){for(_=0,y=d.length;_<y;_++)s[d[_]].state[D?"selected":"checked"]=!0;this._data[D?"core":"checkbox"].selected=this._data[D?"core":"checkbox"].selected.concat(d)}else for(_=0,y=d.length;_<y;_++)if(s[d[_]].state[D?"selected":"checked"]){for(x=0,w=s[d[_]].children_d.length;x<w;x++)s[s[d[_]].children_d[x]].state[D?"selected":"checked"]=!0;this._data[D?"core":"checkbox"].selected=this._data[D?"core":"checkbox"].selected.concat(s[d[_]].children_d)}if(-1!==M.indexOf("up")){for(_=0,y=c.children_d.length;_<y;_++)s[c.children_d[_]].children.length||m.push(s[c.children_d[_]].parent);for(x=0,w=(m=u.vakata.array_unique(m)).length;x<w;x++)for(c=s[m[x]];c&&c.id!==u.jstree.root;){for(_=p=0,y=c.children.length;_<y;_++)p+=s[c.children[_]].state[D?"selected":"checked"];if(p!==y)break;c.state[D?"selected":"checked"]=!0,this._data[D?"core":"checkbox"].selected.push(c.id),(N=this.get_node(c,!0))&&N.length&&N.children(".jstree-anchor").attr("aria-selected",!0).addClass(D?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}}this._data[D?"core":"checkbox"].selected=u.vakata.array_unique(this._data[D?"core":"checkbox"].selected)}.bind(this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",function(n,w){var y,x,c=w.node,d=this._model.data,m=this.get_node(c.parent),N=(w=this.settings.checkbox.cascade,this.settings.checkbox.tie_selection),M={},D=this._data[N?"core":"checkbox"].selected;for(p=0,_=D.length;p<_;p++)M[D[p]]=!0;if(-1!==w.indexOf("down"))for(var L=this._cascade_new_checked_state(c.id,!0),oe=c.children_d.concat(c.id),p=0,_=oe.length;p<_;p++)-1<L.indexOf(oe[p])?M[oe[p]]=!0:delete M[oe[p]];if(-1!==w.indexOf("up"))for(;m&&m.id!==u.jstree.root;){for(p=y=0,_=m.children.length;p<_;p++)y+=d[m.children[p]].state[N?"selected":"checked"];if(y!==_)break;m.state[N?"selected":"checked"]=!0,M[m.id]=!0,(x=this.get_node(m,!0))&&x.length&&x.children(".jstree-anchor").attr("aria-selected",!0).addClass(N?"jstree-clicked":"jstree-checked"),m=this.get_node(m.parent)}for(p in D=[],M)M.hasOwnProperty(p)&&D.push(p);this._data[N?"core":"checkbox"].selected=D}.bind(this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",function(n,i){for(var d,s=this.get_node(u.jstree.root),c=this._model.data,m=0,p=s.children_d.length;m<p;m++)(d=c[s.children_d[m]])&&d.original&&d.original.state&&d.original.state.undetermined&&(d.original.state.undetermined=!1)}.bind(this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",function(n,L){var m,p,_,D,c=L.node,y=(this.get_node(c,!0),this.settings.checkbox.cascade),x=this.settings.checkbox.tie_selection,M=(L=this._data[x?"core":"checkbox"].selected,c.children_d.concat(c.id));if(-1!==y.indexOf("down")&&(D=this._cascade_new_checked_state(c.id,!1),L=u.vakata.array_filter(L,function(oe){return-1===M.indexOf(oe)||-1<D.indexOf(oe)})),-1!==y.indexOf("up")&&-1===L.indexOf(c.id)){for(m=0,p=c.parents.length;m<p;m++)(_=this._model.data[c.parents[m]]).state[x?"selected":"checked"]=!1,_&&_.original&&_.original.state&&_.original.state.undetermined&&(_.original.state.undetermined=!1),(_=this.get_node(c.parents[m],!0))&&_.length&&_.children(".jstree-anchor").attr("aria-selected",!1).removeClass(x?"jstree-clicked":"jstree-checked");L=u.vakata.array_filter(L,function(oe){return-1===c.parents.indexOf(oe)})}this._data[x?"core":"checkbox"].selected=L}.bind(this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",function(n,i){for(var d,m,p,_,s=this.get_node(i.parent),c=this._model.data,y=this.settings.checkbox.tie_selection;s&&s.id!==u.jstree.root&&!s.state[y?"selected":"checked"];){for(d=p=0,m=s.children.length;d<m;d++)p+=c[s.children[d]].state[y?"selected":"checked"];if(!(0<m&&p===m))break;s.state[y?"selected":"checked"]=!0,this._data[y?"core":"checkbox"].selected.push(s.id),(_=this.get_node(s,!0))&&_.length&&_.children(".jstree-anchor").attr("aria-selected",!0).addClass(y?"jstree-clicked":"jstree-checked"),s=this.get_node(s.parent)}}.bind(this)).on("move_node.jstree",function(n,d){var p,_,y,x,w,s=d.is_multi,c=d.old_parent,m=(d=this.get_node(d.parent),this._model.data),N=this.settings.checkbox.tie_selection;if(!s)for(p=this.get_node(c);p&&p.id!==u.jstree.root&&!p.state[N?"selected":"checked"];){for(y=_=0,x=p.children.length;y<x;y++)_+=m[p.children[y]].state[N?"selected":"checked"];if(!(0<x&&_===x))break;p.state[N?"selected":"checked"]=!0,this._data[N?"core":"checkbox"].selected.push(p.id),(w=this.get_node(p,!0))&&w.length&&w.children(".jstree-anchor").attr("aria-selected",!0).addClass(N?"jstree-clicked":"jstree-checked"),p=this.get_node(p.parent)}for(p=d;p&&p.id!==u.jstree.root;){for(y=_=0,x=p.children.length;y<x;y++)_+=m[p.children[y]].state[N?"selected":"checked"];if(_===x)p.state[N?"selected":"checked"]||(p.state[N?"selected":"checked"]=!0,this._data[N?"core":"checkbox"].selected.push(p.id),(w=this.get_node(p,!0))&&w.length&&w.children(".jstree-anchor").attr("aria-selected",!0).addClass(N?"jstree-clicked":"jstree-checked"));else{if(!p.state[N?"selected":"checked"])break;p.state[N?"selected":"checked"]=!1,this._data[N?"core":"checkbox"].selected=u.vakata.array_remove_item(this._data[N?"core":"checkbox"].selected,p.id),(w=this.get_node(p,!0))&&w.length&&w.children(".jstree-anchor").attr("aria-selected",!1).removeClass(N?"jstree-clicked":"jstree-checked")}p=this.get_node(p.parent)}}.bind(this))},this.get_undetermined=function(n){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];for(var i,s,c={},d=this._model.data,m=this.settings.checkbox.tie_selection,p=this._data[m?"core":"checkbox"].selected,_=[],y=this,x=[],w=0,N=p.length;w<N;w++)if(d[p[w]]&&d[p[w]].parents)for(i=0,s=d[p[w]].parents.length;i<s&&c[d[p[w]].parents[i]]===B;i++)d[p[w]].parents[i]!==u.jstree.root&&(c[d[p[w]].parents[i]]=!0,_.push(d[p[w]].parents[i]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var D,M=y.get_node(this);if(M)if(M.state.loaded){for(w=0,N=M.children_d.length;w<N;w++)if(!(D=d[M.children_d[w]]).state.loaded&&D.original&&D.original.state&&D.original.state.undetermined&&!0===D.original.state.undetermined)for(c[D.id]===B&&D.id!==u.jstree.root&&(c[D.id]=!0,_.push(D.id)),i=0,s=D.parents.length;i<s;i++)c[D.parents[i]]===B&&D.parents[i]!==u.jstree.root&&(c[D.parents[i]]=!0,_.push(D.parents[i]))}else if(M.original&&M.original.state&&M.original.state.undetermined&&!0===M.original.state.undetermined)for(c[M.id]===B&&M.id!==u.jstree.root&&(c[M.id]=!0,_.push(M.id)),i=0,s=M.parents.length;i<s;i++)c[M.parents[i]]===B&&M.parents[i]!==u.jstree.root&&(c[M.parents[i]]=!0,_.push(M.parents[i]))}),w=0,N=_.length;w<N;w++)d[_[w]].state[m?"selected":"checked"]||x.push(n?d[_[w]]:_[w]);return x},this._undetermined=function(){if(null!==this.element){var i,s,c,n=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),i=0,s=n.length;i<s;i++)(c=this.get_node(n[i],!0))&&c.length&&c.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(n,i,s,c){if(n=a.redraw_node.apply(this,arguments)){for(var d=null,m=null,p=0,_=n.childNodes.length;p<_;p++)if(n.childNodes[p]&&n.childNodes[p].className&&-1!==n.childNodes[p].className.indexOf("jstree-anchor")){d=n.childNodes[p];break}d&&(!this.settings.checkbox.tie_selection&&this._model.data[n.id].state.checked&&(d.className+=" jstree-checked"),m=kt.cloneNode(!1),this._model.data[n.id].state.checkbox_disabled&&(m.className+=" jstree-checkbox-disabled"),d.insertBefore(m,d.childNodes[0]))}return s||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)),n},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(n){n=this.get_node(n);var s,c,i=this.settings.checkbox.cascade,d=this.settings.checkbox.tie_selection,m=this._data[d?"core":"checkbox"].selected,p=this._model.data;if(!n||!0===n.state[d?"selected":"checked"]||-1===i.indexOf("undetermined")||-1===i.indexOf("down")&&-1===i.indexOf("up"))return!1;if(!n.state.loaded&&!0===n.original.state.undetermined)return!0;for(s=0,c=n.children_d.length;s<c;s++)if(-1!==u.inArray(n.children_d[s],m)||!p[n.children_d[s]].state.loaded&&p[n.children_d[s]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(n){var i,s,c;if(u.vakata.is_array(n)){for(i=0,s=(n=n.slice()).length;i<s;i++)this.disable_checkbox(n[i]);return!0}if(!(n=this.get_node(n))||n.id===u.jstree.root)return!1;c=this.get_node(n,!0),n.state.checkbox_disabled||(n.state.checkbox_disabled=!0,c&&c.length&&c.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:n}))},this.enable_checkbox=function(n){var i,s,c;if(u.vakata.is_array(n)){for(i=0,s=(n=n.slice()).length;i<s;i++)this.enable_checkbox(n[i]);return!0}if(!(n=this.get_node(n))||n.id===u.jstree.root)return!1;c=this.get_node(n,!0),n.state.checkbox_disabled&&(n.state.checkbox_disabled=!1,c&&c.length&&c.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:n}))},this.activate_node=function(n,i){return!u(i.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||u(i.target).hasClass("jstree-checkbox"))&&(i.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!u(i.target).hasClass("jstree-checkbox")?a.activate_node.call(this,n,i):!this.is_disabled(n)&&(this.is_checked(n)?this.uncheck_node(n,i):this.check_node(n,i),void this.trigger("activate_node",{node:this.get_node(n)})))},this.delete_node=function(n){if(this.settings.checkbox.tie_selection||u.vakata.is_array(n))return a.delete_node.call(this,n);var i,s,c,d=!1;if(!(n=this.get_node(n))||n.id===u.jstree.root)return!1;for((i=n.children_d.concat([])).push(n.id),s=0,c=i.length;s<c;s++)if(this._model.data[i[s]].state.checked){d=!0;break}return d&&(this._data.checkbox.selected=u.vakata.array_filter(this._data.checkbox.selected,function(m){return-1===u.inArray(m,i)})),a.delete_node.call(this,n)},this._cascade_new_checked_state=function(n,i){var _,y,c=this.settings.checkbox.tie_selection,d=this._model.data[n],m=[],p=[];if(!this.settings.checkbox.cascade_to_disabled&&d.state.disabled||!this.settings.checkbox.cascade_to_hidden&&d.state.hidden)x=this.get_checked_descendants(n),d.state[c?"selected":"checked"]&&x.push(d.id),m=m.concat(x);else{if(d.children)for(_=0,y=d.children.length;_<y;_++){var w=d.children[_],x=this._cascade_new_checked_state(w,i);m=m.concat(x),-1<x.indexOf(w)&&p.push(w)}var N=this.get_node(d,!0);n=0<p.length&&p.length<d.children.length,d.original&&d.original.state&&d.original.state.undetermined&&(d.original.state.undetermined=n),!n&&i&&p.length===d.children.length?(d.state[c?"selected":"checked"]=i,m.push(d.id),N.children(".jstree-anchor").attr("aria-selected",!0).addClass(c?"jstree-clicked":"jstree-checked")):(d.state[c?"selected":"checked"]=!1,N.children(".jstree-anchor").attr("aria-selected",!1).removeClass(c?"jstree-clicked":"jstree-checked"))}return m},this.get_checked_descendants=function(c){var i=this,s=i.settings.checkbox.tie_selection;return u.vakata.array_filter((c=i._model.data[c]).children_d,function(d){return i._model.data[d].state[s?"selected":"checked"]})},this.check_node=function(n,i){if(this.settings.checkbox.tie_selection)return this.select_node(n,!1,!0,i);var s,c,d;if(u.vakata.is_array(n)){for(c=0,d=(n=n.slice()).length;c<d;c++)this.check_node(n[c],i);return!0}if(!(n=this.get_node(n))||n.id===u.jstree.root)return!1;s=this.get_node(n,!0),n.state.checked||(n.state.checked=!0,this._data.checkbox.selected.push(n.id),s&&s.length&&s.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:n,selected:this._data.checkbox.selected,event:i}))},this.uncheck_node=function(n,i){if(this.settings.checkbox.tie_selection)return this.deselect_node(n,!1,i);var s,c,d;if(u.vakata.is_array(n)){for(s=0,c=(n=n.slice()).length;s<c;s++)this.uncheck_node(n[s],i);return!0}if(!(n=this.get_node(n))||n.id===u.jstree.root)return!1;d=this.get_node(n,!0),n.state.checked&&(n.state.checked=!1,this._data.checkbox.selected=u.vakata.array_remove_item(this._data.checkbox.selected,n.id),d.length&&d.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:n,selected:this._data.checkbox.selected,event:i}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var i,s;for(this._data.checkbox.selected.concat([]),this._data.checkbox.selected=this._model.data[u.jstree.root].children_d.concat(),i=0,s=this._data.checkbox.selected.length;i<s;i++)this._model.data[this._data.checkbox.selected[i]]&&(this._model.data[this._data.checkbox.selected[i]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();for(var n=this._data.checkbox.selected.concat([]),i=0,s=this._data.checkbox.selected.length;i<s;i++)this._model.data[this._data.checkbox.selected[i]]&&(this._model.data[this._data.checkbox.selected[i]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:n})},this.is_checked=function(n){return this.settings.checkbox.tie_selection?this.is_selected(n):!(!(n=this.get_node(n))||n.id===u.jstree.root)&&n.state.checked},this.get_checked=function(n){return this.settings.checkbox.tie_selection?this.get_selected(n):n?u.map(this._data.checkbox.selected,function(i){return this.get_node(i)}.bind(this)):this._data.checkbox.selected.slice()},this.get_top_checked=function(n){if(this.settings.checkbox.tie_selection)return this.get_top_selected(n);for(var c,d,i=this.get_checked(!0),s={},m=0,p=i.length;m<p;m++)s[i[m].id]=i[m];for(m=0,p=i.length;m<p;m++)for(c=0,d=i[m].children_d.length;c<d;c++)s[i[m].children_d[c]]&&delete s[i[m].children_d[c]];for(m in i=[],s)s.hasOwnProperty(m)&&i.push(m);return n?u.map(i,function(_){return this.get_node(_)}.bind(this)):i},this.get_bottom_checked=function(n){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(n);for(var i=this.get_checked(!0),s=[],c=0,d=i.length;c<d;c++)i[c].children.length||s.push(i[c].id);return n?u.map(s,function(m){return this.get_node(m)}.bind(this)):s},this.load_node=function(n,i){var s,c,_;if(!u.vakata.is_array(n)&&!this.settings.checkbox.tie_selection&&(_=this.get_node(n))&&_.state.loaded)for(s=0,c=_.children_d.length;s<c;s++)this._model.data[_.children_d[s]].state.checked&&(this._data.checkbox.selected=u.vakata.array_remove_item(this._data.checkbox.selected,_.children_d[s]));return a.load_node.apply(this,arguments)},this.get_state=function(){var n=a.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(n.checkbox=this._data.checkbox.selected.slice()),n},this.set_state=function(n,i){var c,s=a.set_state.apply(this,arguments);return s&&n.checkbox?(this.settings.checkbox.tie_selection||(this.uncheck_all(),c=this,u.each(n.checkbox,function(d,m){c.check_node(m)})),delete n.checkbox,this.set_state(n,i),!1):s},this.refresh=function(n,i){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),a.refresh.apply(this,arguments)}},u.jstree.defaults.conditionalselect=function(){return!0},u.jstree.plugins.conditionalselect=function(e,a){this.activate_node=function(n,i){if(this.settings.conditionalselect.call(this,this.get_node(n),i))return a.activate_node.call(this,n,i)}},u.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(e,a){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(s){var i=u.jstree.reference(s.reference);s=i.get_node(s.reference),i.create_node(s,{},"last",function(c){try{i.edit(c)}catch(d){setTimeout(function(){i.edit(c)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(s){var i=u.jstree.reference(s.reference);s=i.get_node(s.reference),i.edit(s)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(s){var i=u.jstree.reference(s.reference);s=i.get_node(s.reference),i.is_selected(s)?i.delete_node(i.get_selected()):i.delete_node(s)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(s){var i=u.jstree.reference(s.reference);s=i.get_node(s.reference),i.is_selected(s)?i.cut(i.get_top_selected()):i.cut(s)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(s){var i=u.jstree.reference(s.reference);s=i.get_node(s.reference),i.is_selected(s)?i.copy(i.get_top_selected()):i.copy(s)}},paste:{separator_before:!1,icon:!1,_disabled:function(n){return!u.jstree.reference(n.reference).can_paste()},separator_after:!1,label:"Paste",action:function(s){var i=u.jstree.reference(s.reference);s=i.get_node(s.reference),i.paste(s)}}}}}}},u.jstree.plugins.contextmenu=function(e,a){this.bind=function(){a.bind.call(this);var s,c,n=0,i=null;this.element.on("init.jstree loading.jstree ready.jstree",function(){this.get_container_ul().addClass("jstree-contextmenu")}.bind(this)).on("contextmenu.jstree",".jstree-anchor",function(d,m){"input"!==d.target.tagName.toLowerCase()&&(d.preventDefault(),n=d.ctrlKey?+new Date:0,(m||i)&&(n=+new Date+1e4),i&&clearTimeout(i),this.is_loading(d.currentTarget)||this.show_contextmenu(d.currentTarget,d.pageX,d.pageY,d))}.bind(this)).on("click.jstree",".jstree-anchor",function(d){this._data.contextmenu.visible&&(!n||250<+new Date-n)&&u.vakata.context.hide(),n=0}.bind(this)).on("touchstart.jstree",".jstree-anchor",function(d){d.originalEvent&&d.originalEvent.changedTouches&&d.originalEvent.changedTouches[0]&&(s=d.originalEvent.changedTouches[0].clientX,c=d.originalEvent.changedTouches[0].clientY,i=setTimeout(function(){u(d.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(d){i&&d.originalEvent&&d.originalEvent.changedTouches&&d.originalEvent.changedTouches[0]&&(10<Math.abs(s-d.originalEvent.changedTouches[0].clientX)||10<Math.abs(c-d.originalEvent.changedTouches[0].clientY))&&(clearTimeout(i),u.vakata.context.hide())}).on("touchend.vakata.jstree",function(d){i&&clearTimeout(i)}),u(re).on("context_hide.vakata.jstree",function(d,m){this._data.contextmenu.visible=!1,u(m.reference).removeClass("jstree-context")}.bind(this))},this.teardown=function(){this._data.contextmenu.visible&&u.vakata.context.hide(),u(re).off("context_hide.vakata.jstree"),a.teardown.call(this)},this.show_contextmenu=function(n,i,s,c){if(!(n=this.get_node(n))||n.id===u.jstree.root)return!1;var d=this.settings.contextmenu,p=this.get_node(n,!0).children(".jstree-anchor"),_=!1,y=!1;!d.show_at_node&&i!==B&&s!==B||(_=p.offset(),i=_.left,s=_.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(n)&&this.activate_node(n,c),u.vakata.is_function(y=d.items)&&(y=y.call(this,n,function(x){this._show_contextmenu(n,i,s,x)}.bind(this))),u.isPlainObject(y)&&this._show_contextmenu(n,i,s,y)},this._show_contextmenu=function(n,i,s,c){var m=this.get_node(n,!0).children(".jstree-anchor");u(re).one("context_show.vakata.jstree",function(p,_){var y="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";u(_.element).addClass(y),m.addClass("jstree-context")}.bind(this)),this._data.contextmenu.visible=!0,u.vakata.context.show(m,{x:i,y:s},c),this.trigger("show_contextmenu",{node:n,x:i,y:s})}},I={element:ie=!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1},(ee=u).vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(e){ee(re).triggerHandler("context_"+e+".vakata",{reference:I.reference,element:I.element,position:{x:I.position_x,y:I.position_y}})},_execute:function(e){return!(!(e=I.items[e])||e._disabled&&(!ee.vakata.is_function(e._disabled)||e._disabled({item:e,reference:I.reference,element:I.element}))||!e.action)&&e.action.call(null,{item:e,reference:I.reference,element:I.element,position:{x:I.position_x,y:I.position_y}})},_parse:function(e,a){if(!e)return!1;a||(I.html="",I.items=[]);var s,n="",i=!1;return a&&(n+="<ul>"),ee.each(e,function(c,d){return!d||(I.items.push(d),!i&&d.separator_before&&(n+="<li class='vakata-context-separator'><a href='#' "+(ee.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>"),i=!1,n+="<li class='"+(d._class||"")+(!0===d._disabled||ee.vakata.is_function(d._disabled)&&d._disabled({item:d,reference:I.reference,element:I.element})?" vakata-contextmenu-disabled ":"")+"' "+(d.shortcut?" data-shortcut='"+d.shortcut+"' ":"")+">",n+="<a href='#' rel='"+(I.items.length-1)+"' "+(d.title?"title='"+d.title+"'":"")+">",ee.vakata.context.settings.icons&&(n+="<i ",d.icon&&(-1!==d.icon.indexOf("/")||-1!==d.icon.indexOf(".")?n+=" style='background:url(\""+d.icon+"\") center center no-repeat' ":n+=" class='"+d.icon+"' "),n+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),n+=(ee.vakata.is_function(d.label)?d.label({item:c,reference:I.reference,element:I.element}):d.label)+(d.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+d.shortcut+'">'+(d.shortcut_label||"")+"</span>":"")+"</a>",d.submenu&&(s=ee.vakata.context._parse(d.submenu,!0))&&(n+=s),n+="</li>",void(d.separator_after&&(n+="<li class='vakata-context-separator'><a href='#' "+(ee.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>",i=!0)))}),n=n.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),a&&(n+="</ul>"),a||(I.html=n,ee.vakata.context._trigger("parse")),10<n.length&&n},_show_submenu:function(e){var a,n,i,s,c,d,m,p;(e=ee(e)).length&&e.children("ul").length&&(a=e.children("ul"),i=(n=e.offset().left)+e.outerWidth(),s=e.offset().top,c=a.width(),d=a.height(),m=ee(window).width()+ee(window).scrollLeft(),p=ee(window).height()+ee(window).scrollTop(),ie?e[i-(c+10+e.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):e[m<i+c&&m-i<n?"addClass":"removeClass"]("vakata-context-right"),p<s+d+10&&a.css("bottom","-1px"),e.hasClass("vakata-context-right")?n<c&&a.css("margin-right",n-c):m-i<c&&a.css("margin-left",m-i-c),a.show())},show:function(e,a,y){var i,s,c,d,m,p,_;switch(I.element&&I.element.length&&I.element.width(""),!0){case!a&&!e:return!1;case!!a&&!!e:I.reference=e,I.position_x=a.x,I.position_y=a.y;break;case!a&&!!e:i=(I.reference=e).offset(),I.position_x=i.left+e.outerHeight(),I.position_y=i.top;break;case!!a&&!e:I.position_x=a.x,I.position_y=a.y}e&&!y&&ee(e).data("vakata_contextmenu")&&(y=ee(e).data("vakata_contextmenu")),ee.vakata.context._parse(y)&&I.element.html(I.html),I.items.length&&(I.element.appendTo(re.body),c=I.position_x,d=I.position_y,m=(s=I.element).width(),p=s.height(),_=ee(window).width()+ee(window).scrollLeft(),y=ee(window).height()+ee(window).scrollTop(),ie&&(c-=s.outerWidth()-ee(e).outerWidth())<ee(window).scrollLeft()+20&&(c=ee(window).scrollLeft()+20),I.element.css({left:c=_<c+m+20?_-(m+20):c,top:d=y<d+p+20?y-(p+20):d}).show().find("a").first().trigger("focus").parent().addClass("vakata-context-hover"),I.is_visible=!0,ee.vakata.context._trigger("show"))},hide:function(){I.is_visible&&(I.element.hide().find("ul").hide().end().find(":focus").trigger("blur").end().detach(),I.is_visible=!1,ee.vakata.context._trigger("hide"))}},ee(function(){ie="rtl"===ee(re.body).css("direction");var e=!1;I.element=ee("<ul class='vakata-context'></ul>"),I.element.on("mouseenter","li",function(a){a.stopImmediatePropagation(),ee.contains(this,a.relatedTarget)||(e&&clearTimeout(e),I.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),ee(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),ee.vakata.context._show_submenu(this))}).on("mouseleave","li",function(a){ee.contains(this,a.relatedTarget)||ee(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(a){ee(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),ee.vakata.context.settings.hide_onmouseleave&&(e=setTimeout(function(){ee.vakata.context.hide()},ee.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(a){a.preventDefault(),ee(this).trigger("blur").parent().hasClass("vakata-context-disabled")||!1===ee.vakata.context._execute(ee(this).attr("rel"))||ee.vakata.context.hide()}).on("keydown","a",function(a){var n=null;switch(a.which){case 13:case 32:a.type="click",a.preventDefault(),ee(a.currentTarget).trigger(a);break;case 37:I.is_visible&&(I.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").trigger("focus"),a.stopImmediatePropagation(),a.preventDefault());break;case 38:I.is_visible&&((n=(n=I.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length?n:I.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()).addClass("vakata-context-hover").children("a").trigger("focus"),a.stopImmediatePropagation(),a.preventDefault());break;case 39:I.is_visible&&(I.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").trigger("focus"),a.stopImmediatePropagation(),a.preventDefault());break;case 40:I.is_visible&&((n=(n=I.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length?n:I.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()).addClass("vakata-context-hover").children("a").trigger("focus"),a.stopImmediatePropagation(),a.preventDefault());break;case 27:ee.vakata.context.hide(),a.preventDefault()}}).on("keydown",function(n){n.preventDefault(),(n=I.element.find(".vakata-contextmenu-shortcut-"+n.which).parent()).parent().not(".vakata-context-disabled")&&n.trigger("click")}),ee(re).on("mousedown.vakata.jstree",function(a){I.is_visible&&I.element[0]!==a.target&&!ee.contains(I.element[0],a.target)&&ee.vakata.context.hide()}).on("context_show.vakata.jstree",function(a,n){I.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),ie&&I.element.addClass("vakata-context-rtl").css("direction","rtl"),I.element.find("ul").hide().end()})}),u.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1,blank_space_drop:!1},u.jstree.plugins.dnd=function(e,a){this.init=function(n,i){a.init.call(this,n,i),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in re.createElement("span")},this.bind=function(){a.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",function(n){if(this.settings.dnd.large_drag_target&&u(n.target).closest(".jstree-node")[0]!==n.currentTarget||"touchstart"===n.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!u(n.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var i=this.get_node(n.target),s=this.is_selected(i)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,c=1<s?s+" "+this.get_string("nodes"):this.get_text(n.currentTarget);if(this.settings.core.force_text&&(c=u.vakata.html.escape(c)),i&&(i.id||0===i.id)&&i.id!==u.jstree.root&&(1===n.which||"touchstart"===n.type||"dragstart"===n.type)&&(!0===this.settings.dnd.is_draggable||u.vakata.is_function(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,1<s?this.get_top_selected(!0):[i],n))){if(Re={jstree:!0,origin:this,obj:this.get_node(i,!0),nodes:1<s?this.get_top_selected():[i.id]},G=n.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),u.vakata.dnd.start(n,Re,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+c+'<ins class="jstree-copy">+</ins></div>');u.vakata.dnd._trigger("start",n,{helper:u(),element:G,data:Re})}}.bind(this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(n){return n.preventDefault(),u.vakata.dnd._trigger("move",n,{helper:u(),element:G,data:Re}),!1}).on("drop.jstree",function(n){return n.preventDefault(),u.vakata.dnd._trigger("stop",n,{helper:u(),element:G,data:Re}),!1}.bind(this))},this.redraw_node=function(n,i,s,c){if((n=a.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)n.setAttribute("draggable",!0);else{for(var d=null,m=0,p=n.childNodes.length;m<p;m++)if(n.childNodes[m]&&n.childNodes[m].className&&-1!==n.childNodes[m].className.indexOf("jstree-anchor")){d=n.childNodes[m];break}d&&d.setAttribute("draggable",!0)}return n}},u(function(){var e=!1,a=!1,n=!1,i=!1,s=u('<div id="jstree-marker">&#160;</div>').hide();u(re).on("dragover.vakata.jstree",function(c){G&&u.vakata.dnd._trigger("move",c,{helper:u(),element:G,data:Re})}).on("drop.vakata.jstree",function(c){G&&(u.vakata.dnd._trigger("stop",c,{helper:u(),element:G,data:Re}),Re=G=null)}).on("dnd_start.vakata.jstree",function(c,d){n=e=!1,d&&d.data&&d.data.jstree&&s.appendTo(re.body)}).on("dnd_move.vakata.jstree",function(c,d){var m=d.event.target!==n.target;if(i&&(d.event&&"dragover"===d.event.type&&!m||clearTimeout(i)),d&&d.data&&d.data.jstree&&(!d.event.target.id||"jstree-marker"!==d.event.target.id)){n=d.event;var N,M,D,L,oe,he,de,Z,_e,be,te,we,De,$e,Fe,R,Be,p=u.jstree.reference(d.event.target),_=!1,y=!1,x=!1;if(p&&p._data&&p._data.dnd)if(s.attr("class","jstree-"+p.get_theme()+(p.settings.core.themes.responsive?" jstree-dnd-responsive":"")),Fe=d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey)),d.helper.children().attr("class","jstree-"+p.get_theme()+" jstree-"+p.get_theme()+"-"+p.get_theme_variant()+" "+(p.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[Fe?"show":"hide"](),d.event.target!==p.element[0]&&d.event.target!==p.get_container_ul()[0]||0!==p.get_container_ul().children().length&&!p.settings.dnd.blank_space_drop){if((_=p.settings.dnd.large_drop_target?u(d.event.target).closest(".jstree-node").children(".jstree-anchor"):u(d.event.target).closest(".jstree-anchor"))&&_.length&&_.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(y=_.offset(),x=(d.event.pageY!==B?d.event:d.event.originalEvent).pageY-y.top,D=_.outerHeight(),u.each(he=x<D/3?["b","i","a"]:D-D/3<x?["a","i","b"]:D/2<x?["i","a","b"]:["i","b","a"],function(Pe,je){switch(je){case"b":N=y.left-6,M=y.top,L=p.get_parent(_),oe=_.parent().index(),Be="jstree-below";break;case"i":De=p.settings.dnd.inside_pos,$e=p.get_node(_.parent()),N=y.left-2,M=y.top+D/2+1,L=$e.id,oe="first"===De?0:"last"===De?$e.children.length:Math.min(De,$e.children.length),Be="jstree-inside";break;case"a":N=y.left-6,M=y.top+D,L=p.get_parent(_),oe=_.parent().index()+1,Be="jstree-above"}for(de=!0,Z=0,_e=d.data.nodes.length;Z<_e;Z++)if(te=oe,"move_node"==(be=d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node")&&"a"===je&&d.data.origin&&d.data.origin===p&&L===p.get_parent(d.data.nodes[Z])&&(we=p.get_node(L),te>u.inArray(d.data.nodes[Z],we.children)&&--te),!(de=de&&(p&&p.settings&&p.settings.dnd&&!1===p.settings.dnd.check_while_dragging||p.check(be,d.data.origin&&d.data.origin!==p?d.data.origin.get_node(d.data.nodes[Z]):d.data.nodes[Z],L,te,{dnd:!0,ref:p.get_node(_.parent()),pos:je,origin:d.data.origin,is_multi:d.data.origin&&d.data.origin!==p,is_foreign:!d.data.origin})))){p&&p.last_error&&(a=p.last_error());break}var J,ze;if("i"===je&&_.parent().is(".jstree-closed")&&p.settings.dnd.open_timeout&&(d.event&&"dragover"===d.event.type&&!m||(i&&clearTimeout(i),i=setTimeout((ze=_,function(){J.open_node(ze)}),(J=p).settings.dnd.open_timeout))),de)return(R=p.get_node(L,!0)).hasClass(".jstree-dnd-parent")||(u(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),R.addClass("jstree-dnd-parent")),e={ins:p,par:L,pos:"i"!==je||"last"!==De||0!==oe||p.is_loaded($e)?oe:"last"},s.css({left:N+"px",top:M+"px"}).show(),s.removeClass("jstree-above jstree-inside jstree-below").addClass(Be),d.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect=Fe?"copy":"move"),a={},!(he=!0)}),!0===he))return}else{for(de=!0,Z=0,_e=d.data.nodes.length;Z<_e&&(de=de&&p.check(d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node",d.data.origin&&d.data.origin!==p?d.data.origin.get_node(d.data.nodes[Z]):d.data.nodes[Z],u.jstree.root,"last",{dnd:!0,ref:p.get_node(u.jstree.root),pos:"i",origin:d.data.origin,is_multi:d.data.origin&&d.data.origin!==p,is_foreign:!d.data.origin}));Z++);if(de)return e={ins:p,par:u.jstree.root,pos:"last"},s.hide(),d.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(d.event.originalEvent&&d.event.originalEvent.dataTransfer&&(d.event.originalEvent.dataTransfer.dropEffect=Fe?"copy":"move"))}u(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),e=!1,d.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),s.hide()}}).on("dnd_scroll.vakata.jstree",function(c,d){d&&d.data&&d.data.jstree&&(s.hide(),n=e=!1,d.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(c,d){if(u(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),i&&clearTimeout(i),d&&d.data&&d.data.jstree){s.hide().detach();var m,p,_=[];if(e){for(m=0,p=d.data.nodes.length;m<p;m++)_[m]=d.data.origin?d.data.origin.get_node(d.data.nodes[m]):d.data.nodes[m];e.ins[d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(d.event.metaKey||d.event.ctrlKey))?"copy_node":"move_node"](_,e.par,e.pos,!1,!1,!1,d.data.origin)}else(m=u(d.event.target).closest(".jstree")).length&&a&&a.error&&"check"===a.error&&(m=m.jstree(!0))&&m.settings.core.error.call(this,a);e=n=!1}}).on("keyup.jstree keydown.jstree",function(c,d){(d=u.vakata.dnd._get())&&d.data&&d.data.jstree&&("keyup"===c.type&&27===c.which?(i&&clearTimeout(i),i=n=a=e=!1,s.hide().detach(),u.vakata.dnd._clean()):(d.helper.find(".jstree-copy").first()[d.data.origin&&(d.data.origin.settings.dnd.always_copy||d.data.origin.settings.dnd.copy&&(c.metaKey||c.ctrlKey))?"show":"hide"](),n&&(n.metaKey=c.metaKey,n.ctrlKey=c.ctrlKey,u.vakata.dnd._trigger("move",n))))})}),$={element:!((Q=u).vakata.html={div:Q("<div></div>"),escape:function(e){return Q.vakata.html.div.text(e).html()},strip:function(e){return Q.vakata.html.div.empty().append(Q.parseHTML(e)).text()}}),target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},Q.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(e,a,n){(n=n===B?Q.vakata.dnd._get():n).event=a,Q(re).triggerHandler("dnd_"+e+".vakata",n)},_get:function(){return{data:$.data,element:$.element,helper:$.helper}},_clean:function(){$.helper&&$.helper.remove(),$.scroll_i&&(clearInterval($.scroll_i),$.scroll_i=!1),$={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},G=null,Q(re).off("mousemove.vakata.jstree touchmove.vakata.jstree",Q.vakata.dnd.drag),Q(re).off("mouseup.vakata.jstree touchend.vakata.jstree",Q.vakata.dnd.stop)},_scroll:function(n){if(!$.scroll_e||!$.scroll_l&&!$.scroll_t)return $.scroll_i&&(clearInterval($.scroll_i),$.scroll_i=!1),!1;if(!$.scroll_i)return $.scroll_i=setInterval(Q.vakata.dnd._scroll,100),!1;if(!0===n)return!1;var a=$.scroll_e.scrollTop();n=$.scroll_e.scrollLeft(),$.scroll_e.scrollTop(a+$.scroll_t*Q.vakata.dnd.settings.scroll_speed),$.scroll_e.scrollLeft(n+$.scroll_l*Q.vakata.dnd.settings.scroll_speed),a===$.scroll_e.scrollTop()&&n===$.scroll_e.scrollLeft()||Q.vakata.dnd._trigger("scroll",$.scroll_e)},start:function(e,a,n){"touchstart"===e.type&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e.target=re.elementFromPoint(e.originalEvent.changedTouches[0].pageX-window.pageXOffset,e.originalEvent.changedTouches[0].pageY-window.pageYOffset)),$.is_drag&&Q.vakata.dnd.stop({});try{e.currentTarget.unselectable="on",e.currentTarget.onselectstart=function(){return!1},e.currentTarget.style&&(e.currentTarget.style.touchAction="none",e.currentTarget.style.msTouchAction="none",e.currentTarget.style.MozUserSelect="none")}catch(i){}return $.init_x=e.pageX,$.init_y=e.pageY,$.data=a,$.is_down=!0,$.element=e.currentTarget,$.target=e.target,$.is_touch="touchstart"===e.type,!1!==n&&($.helper=Q("<div id='vakata-dnd'></div>").html(n).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),Q(re).on("mousemove.vakata.jstree touchmove.vakata.jstree",Q.vakata.dnd.drag),Q(re).on("mouseup.vakata.jstree touchend.vakata.jstree",Q.vakata.dnd.stop),!1},drag:function(e){if("touchmove"===e.type&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e.target=re.elementFromPoint(e.originalEvent.changedTouches[0].pageX-window.pageXOffset,e.originalEvent.changedTouches[0].pageY-window.pageYOffset)),$.is_down){if(!$.is_drag){if(!(Math.abs(e.pageX-$.init_x)>($.is_touch?Q.vakata.dnd.settings.threshold_touch:Q.vakata.dnd.settings.threshold)||Math.abs(e.pageY-$.init_y)>($.is_touch?Q.vakata.dnd.settings.threshold_touch:Q.vakata.dnd.settings.threshold)))return;$.helper&&($.helper.appendTo(re.body),$.helper_w=$.helper.outerWidth()),$.is_drag=!0,Q($.target).one("click.vakata",!1),Q.vakata.dnd._trigger("start",e)}var a=!1,n=!1,i=!1,s=!1,c=!1,d=!1,m=!1,p=!1,_=!1,y=!1;return $.scroll_t=0,$.scroll_l=0,$.scroll_e=!1,Q(Q(e.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return this.ownerDocument&&/^auto|scroll$/.test(Q(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var x=Q(this),w=x.offset();if(this.scrollHeight>this.offsetHeight&&(w.top+x.height()-e.pageY<Q.vakata.dnd.settings.scroll_proximity&&($.scroll_t=1),e.pageY-w.top<Q.vakata.dnd.settings.scroll_proximity&&($.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(w.left+x.width()-e.pageX<Q.vakata.dnd.settings.scroll_proximity&&($.scroll_l=1),e.pageX-w.left<Q.vakata.dnd.settings.scroll_proximity&&($.scroll_l=-1)),$.scroll_t||$.scroll_l)return $.scroll_e=Q(this),!1}),$.scroll_e||(a=Q(re),n=Q(window),i=a.height(),s=n.height(),c=a.width(),d=n.width(),m=a.scrollTop(),p=a.scrollLeft(),s<i&&e.pageY-m<Q.vakata.dnd.settings.scroll_proximity&&($.scroll_t=-1),s<i&&s-(e.pageY-m)<Q.vakata.dnd.settings.scroll_proximity&&($.scroll_t=1),d<c&&e.pageX-p<Q.vakata.dnd.settings.scroll_proximity&&($.scroll_l=-1),d<c&&d-(e.pageX-p)<Q.vakata.dnd.settings.scroll_proximity&&($.scroll_l=1),($.scroll_t||$.scroll_l)&&($.scroll_e=a)),$.scroll_e&&Q.vakata.dnd._scroll(!0),$.helper&&(_=parseInt(e.pageY+Q.vakata.dnd.settings.helper_top,10),y=parseInt(e.pageX+Q.vakata.dnd.settings.helper_left,10),c&&y+$.helper_w>c&&(y=c-($.helper_w+2)),$.helper.css({left:y+"px",top:(_=i&&i<_+25?i-50:_)+"px"})),Q.vakata.dnd._trigger("move",e),!1}},stop:function(e){var a;return"touchend"===e.type&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e.target=re.elementFromPoint(e.originalEvent.changedTouches[0].pageX-window.pageXOffset,e.originalEvent.changedTouches[0].pageY-window.pageYOffset)),$.is_drag?(e.target!==$.target&&Q($.target).off("click.vakata"),Q.vakata.dnd._trigger("stop",e)):"touchend"===e.type&&e.target===$.target&&(a=setTimeout(function(){Q(e.target).trigger("click")},100),Q(e.target).one("click",function(){a&&clearTimeout(a)})),Q.vakata.dnd._clean(),!1}},u.jstree.defaults.massload=null,u.jstree.plugins.massload=function(e,a){this.init=function(n,i){this._data.massload={},a.init.call(this,n,i)},this._load_nodes=function(n,i,s,c){var _,y,x,d=this.settings.massload,m=[],p=this._model.data;if(!s){for(_=0,y=n.length;_<y;_++)p[n[_]]&&(p[n[_]].state.loaded||p[n[_]].state.failed)&&!c||(m.push(n[_]),(x=this.get_node(n[_],!0))&&x.length&&x.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},m.length){if(u.vakata.is_function(d))return d.call(this,m,function(w){var N,M;if(w)for(N in w)w.hasOwnProperty(N)&&(this._data.massload[N]=w[N]);for(N=0,M=n.length;N<M;N++)(x=this.get_node(n[N],!0))&&x.length&&x.removeClass("jstree-loading").attr("aria-busy",!1);a._load_nodes.call(this,n,i,s,c)}.bind(this));if("object"==typeof d&&d&&d.url)return d=u.extend(!0,{},d),u.vakata.is_function(d.url)&&(d.url=d.url.call(this,m)),u.vakata.is_function(d.data)&&(d.data=d.data.call(this,m)),u.ajax(d).done(function(w,N,M){var D,L;if(w)for(D in w)w.hasOwnProperty(D)&&(this._data.massload[D]=w[D]);for(D=0,L=n.length;D<L;D++)(x=this.get_node(n[D],!0))&&x.length&&x.removeClass("jstree-loading").attr("aria-busy",!1);a._load_nodes.call(this,n,i,s,c)}.bind(this)).fail(function(w){a._load_nodes.call(this,n,i,s,c)}.bind(this))}}return a._load_nodes.call(this,n,i,s,c)},this._load_node=function(n,i){var c,s=null;return(c=this._data.massload[n.id])?(s=this["string"==typeof c?"_append_html_data":"_append_json_data"](n,"string"==typeof c?u(u.parseHTML(c)).filter(function(){return 3!==this.nodeType}):c,function(d){i.call(this,d)}),(c=this.get_node(n.id,!0))&&c.length&&c.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[n.id],s):a._load_node.call(this,n,i)}},u.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},u.jstree.plugins.search=function(e,a){this.bind=function(){a.bind.call(this),this._data.search.str="",this._data.search.dom=u(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",function(n,i){if(this._data.search.som&&i.res.length){for(var d,m,s=this._model.data,c=[],p=0,_=i.res.length;p<_;p++)if(s[i.res[p]]&&!s[i.res[p]].state.hidden&&(c.push(i.res[p]),c=c.concat(s[i.res[p]].parents),this._data.search.smc))for(d=0,m=s[i.res[p]].children_d.length;d<m;d++)s[s[i.res[p]].children_d[d]]&&!s[s[i.res[p]].children_d[d]].state.hidden&&c.push(s[i.res[p]].children_d[d]);c=u.vakata.array_remove_item(u.vakata.array_unique(c),u.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(c,!0),this.redraw(!0)}}.bind(this)).on("clear_search.jstree",function(n,i){this._data.search.som&&i.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))}.bind(this))},this.search=function(n,i,s,c,d,m){if(!1===n||""===u.vakata.trim(n.toString()))return this.clear_search();c=(c=this.get_node(c))&&(c.id||0===c.id)?c.id:null,n=n.toString();var M,D,p=this.settings.search,_=p.ajax||!1,y=this._model.data,x=null,w=[],N=[];if(this._data.search.res.length&&!d&&this.clear_search(),s===B&&(s=p.show_only_matches),m===B&&(m=p.show_only_matches_children),!i&&!1!==_)return u.vakata.is_function(_)?_.call(this,n,function(L){L&&L.d&&(L=L.d),this._load_nodes(u.vakata.is_array(L)?u.vakata.array_unique(L):[],function(){this.search(n,!0,s,c,d,m)})}.bind(this),c):((_=u.extend({},_)).data||(_.data={}),_.data.str=n,c&&(_.data.inside=c),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=u.ajax(_).fail(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(_)},this.settings.core.error.call(this,this._data.core.last_error)}.bind(this)).done(function(L){L&&L.d&&(L=L.d),this._load_nodes(u.vakata.is_array(L)?u.vakata.array_unique(L):[],function(){this.search(n,!0,s,c,d,m)})}.bind(this)),this._data.search.lastRequest);if(d||(this._data.search.str=n,this._data.search.dom=u(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=s,this._data.search.smc=m),x=new u.vakata.search(n,!0,{caseSensitive:p.case_sensitive,fuzzy:p.fuzzy}),u.each(y[c||u.jstree.root].children_d,function(L,oe){var he=y[oe];he.text&&!he.state.hidden&&(!p.search_leaves_only||he.state.loaded&&0===he.children.length)&&(p.search_callback&&p.search_callback.call(this,n,he)||!p.search_callback&&x.search(he.text).isMatch)&&(w.push(oe),N=N.concat(he.parents))}),w.length){for(M=0,D=(N=u.vakata.array_unique(N)).length;M<D;M++)N[M]!==u.jstree.root&&y[N[M]]&&!0===this.open_node(N[M],null,0)&&this._data.search.opn.push(N[M]);d?(this._data.search.dom=this._data.search.dom.add(u(this.element[0].querySelectorAll("#"+u.map(w,function(L){return-1!=="0123456789".indexOf(L[0])?"\\3"+L[0]+" "+L.substr(1).replace(u.jstree.idregex,"\\$&"):L.replace(u.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=u.vakata.array_unique(this._data.search.res.concat(w))):(this._data.search.dom=u(this.element[0].querySelectorAll("#"+u.map(w,function(L){return-1!=="0123456789".indexOf(L[0])?"\\3"+L[0]+" "+L.substr(1).replace(u.jstree.idregex,"\\$&"):L.replace(u.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=w),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:n,res:this._data.search.res,show_only_matches:s})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=u(this.element[0].querySelectorAll("#"+u.map(this._data.search.res,function(n){return-1!=="0123456789".indexOf(n[0])?"\\3"+n[0]+" "+n.substr(1).replace(u.jstree.idregex,"\\$&"):n.replace(u.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=u()},this.redraw_node=function(n,i,s,c){if((n=a.redraw_node.apply(this,arguments))&&-1!==u.inArray(n.id,this._data.search.res)){for(var d=null,m=0,p=n.childNodes.length;m<p;m++)if(n.childNodes[m]&&n.childNodes[m].className&&-1!==n.childNodes[m].className.indexOf("jstree-anchor")){d=n.childNodes[m];break}d&&(d.className+=" jstree-search")}return n}},(Qe=u).vakata.search=function(e,a,n){!1!==(n=Qe.extend({},Qe.vakata.search.defaults,n=n||{})).fuzzy&&(n.fuzzy=!0),e=n.caseSensitive?e:e.toLowerCase();var m,p,_,y,i=n.location,s=n.distance,c=n.threshold,d=e.length;return 32<d&&(n.fuzzy=!1),n.fuzzy&&(m=1<<d-1,p=function(){var x={},w=0;for(w=0;w<d;w++)x[e.charAt(w)]=0;for(w=0;w<d;w++)x[e.charAt(w)]|=1<<d-w-1;return x}(),_=function(N,M){return N/=d,M=Math.abs(i-M),s?N+M/s:M?1:N}),y=function(x){if(x=n.caseSensitive?x.toString():x.toString().toLowerCase(),e===x||-1!==x.indexOf(e))return{isMatch:!0,score:0};if(!n.fuzzy)return{isMatch:!1,score:1};var w,N,oe,he,Z,_e,be,te,we,M=x.length,D=c,L=x.indexOf(e,i),de=d+M,De=1,$e=[];for(-1!==L&&(D=Math.min(_(0,L),D),-1!==(L=x.lastIndexOf(e,i+d))&&(D=Math.min(_(0,L),D))),L=-1,w=0;w<d;w++){for(oe=0,he=de;oe<he;)_(w,i+he)<=D?oe=he:de=he,he=Math.floor((de-oe)/2+oe);for(de=he,_e=Math.max(1,i-he+1),be=Math.min(i+he,M)+d,(te=new Array(be+2))[be+1]=(1<<w)-1,N=be;_e<=N;N--)if(we=p[x.charAt(N-1)],te[N]=0===w?(te[N+1]<<1|1)&we:(te[N+1]<<1|1)&we|(Z[N+1]|Z[N])<<1|1|Z[N+1],te[N]&m&&(De=_(w,N-1))<=D){if(D=De,$e.push(L=N-1),!(i<L))break;_e=Math.max(1,2*i-L)}if(_(w+1,i)>D)break;Z=te}return{isMatch:0<=L,score:De}},!0===a?{search:y}:y(a)},Qe.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1},u.jstree.defaults.sort=function(e,a){return this.get_text(e)>this.get_text(a)?1:-1};var wt=!(u.jstree.plugins.sort=function(e,a){this.bind=function(){a.bind.call(this),this.element.on("model.jstree",function(n,i){this.sort(i.parent,!0)}.bind(this)).on("rename_node.jstree create_node.jstree",function(n,i){this.sort(i.parent||i.node.parent,!1),this.redraw_node(i.parent||i.node.parent,!0)}.bind(this)).on("move_node.jstree copy_node.jstree",function(n,i){this.sort(i.parent,!1),this.redraw_node(i.parent,!0)}.bind(this))},this.sort=function(n,i){var s,c;if((n=this.get_node(n))&&n.children&&n.children.length&&(n.children.sort(this.settings.sort.bind(this)),i))for(s=0,c=n.children_d.length;s<c;s++)this.sort(n.children_d[s],!1)}});u.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},u.jstree.plugins.state=function(e,a){this.bind=function(){a.bind.call(this);var n=function(){this.element.on(this.settings.state.events,function(){wt&&clearTimeout(wt),wt=setTimeout(function(){this.save_state()}.bind(this),100)}.bind(this)),this.trigger("state_ready")}.bind(this);this.element.on("ready.jstree",function(i,s){this.element.one("restore_state.jstree",n),this.restore_state()||n()}.bind(this))},this.save_state=function(){var n=this.get_state();this.settings.state.preserve_loaded||delete n.core.loaded,n={state:n,ttl:this.settings.state.ttl,sec:+new Date},u.vakata.storage.set(this.settings.state.key,JSON.stringify(n))},this.restore_state=function(){var n=u.vakata.storage.get(this.settings.state.key);if(n)try{n=JSON.parse(n)}catch(i){return!1}return!(n&&n.ttl&&n.sec&&+new Date-n.sec>n.ttl||!(n=(n=n&&n.state?n.state:n)&&u.vakata.is_function(this.settings.state.filter)?this.settings.state.filter.call(this,n):n)||(this.settings.state.preserve_loaded||delete n.core.loaded,this.element.one("set_state.jstree",function(i,s){s.instance.trigger("restore_state",{state:u.extend(!0,{},n)})}),this.set_state(n),0))},this.clear_state=function(){return u.vakata.storage.del(this.settings.state.key)}},u.vakata.storage={set:function(e,a){return window.localStorage.setItem(e,a)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}},u.jstree.defaults.types={default:{}},u.jstree.defaults.types[u.jstree.root]={},u.jstree.plugins.types=function(e,a){this.init=function(n,i){var s,c;if(i&&i.types&&i.types.default)for(s in i.types)if("default"!==s&&s!==u.jstree.root&&i.types.hasOwnProperty(s))for(c in i.types.default)i.types.default.hasOwnProperty(c)&&i.types[s][c]===B&&(i.types[s][c]=i.types.default[c]);a.init.call(this,n,i),this._model.data[u.jstree.root].type=u.jstree.root},this.refresh=function(n,i){a.refresh.call(this,n,i),this._model.data[u.jstree.root].type=u.jstree.root},this.bind=function(){this.element.on("model.jstree",function(n,i){for(var p,s=this._model.data,c=i.nodes,d=this.settings.types,m="default",_=0,y=c.length;_<y;_++){if(m="default",s[c[_]].original&&s[c[_]].original.type&&d[s[c[_]].original.type]&&(m=s[c[_]].original.type),s[c[_]].data&&s[c[_]].data.jstree&&s[c[_]].data.jstree.type&&d[s[c[_]].data.jstree.type]&&(m=s[c[_]].data.jstree.type),s[c[_]].type=m,!0===s[c[_]].icon&&d[m].icon!==B&&(s[c[_]].icon=d[m].icon),d[m].li_attr!==B&&"object"==typeof d[m].li_attr)for(p in d[m].li_attr)d[m].li_attr.hasOwnProperty(p)&&"id"!==p&&(s[c[_]].li_attr[p]===B?s[c[_]].li_attr[p]=d[m].li_attr[p]:"class"===p&&(s[c[_]].li_attr.class=d[m].li_attr.class+" "+s[c[_]].li_attr.class));if(d[m].a_attr!==B&&"object"==typeof d[m].a_attr)for(p in d[m].a_attr)d[m].a_attr.hasOwnProperty(p)&&"id"!==p&&(s[c[_]].a_attr[p]===B?s[c[_]].a_attr[p]=d[m].a_attr[p]:"href"===p&&"#"===s[c[_]].a_attr[p]?s[c[_]].a_attr.href=d[m].a_attr.href:"class"===p&&(s[c[_]].a_attr.class=d[m].a_attr.class+" "+s[c[_]].a_attr.class))}s[u.jstree.root].type=u.jstree.root}.bind(this)),a.bind.call(this)},this.get_json=function(n,i,s){var c,d,m=this._model.data,p=i?u.extend(!0,{},i,{no_id:!1}):{},_=a.get_json.call(this,n,p,s);if(!1===_)return!1;if(u.vakata.is_array(_))for(c=0,d=_.length;c<d;c++)_[c].type=(_[c].id||0===_[c].id)&&m[_[c].id]&&m[_[c].id].type?m[_[c].id].type:"default",i&&i.no_id&&(delete _[c].id,_[c].li_attr&&_[c].li_attr.id&&delete _[c].li_attr.id,_[c].a_attr&&_[c].a_attr.id&&delete _[c].a_attr.id);else _.type=(_.id||0===_.id)&&m[_.id]&&m[_.id].type?m[_.id].type:"default",i&&i.no_id&&(_=this._delete_ids(_));return _},this._delete_ids=function(n){if(u.vakata.is_array(n)){for(var i=0,s=n.length;i<s;i++)n[i]=this._delete_ids(n[i]);return n}return delete n.id,n.li_attr&&n.li_attr.id&&delete n.li_attr.id,n.a_attr&&n.a_attr.id&&delete n.a_attr.id,n.children&&u.vakata.is_array(n.children)&&(n.children=this._delete_ids(n.children)),n},this.check=function(n,i,s,c,d){if(!1===a.check.call(this,n,i,s,c,d))return!1;i=i&&(i.id||0===i.id)?i:this.get_node(i),s=s&&(s.id||0===s.id)?s:this.get_node(s);var m,p,_,y,x=(x=i&&(i.id||0===i.id)?d&&d.origin?d.origin:u.jstree.reference(i.id):null)&&x._model&&x._model.data?x._model.data:null;switch(n){case"create_node":case"move_node":case"copy_node":if("move_node"!==n||-1===u.inArray(i.id,s.children)){if((m=this.get_rules(s)).max_children!==B&&-1!==m.max_children&&m.max_children===s.children.length)return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+n,data:JSON.stringify({chk:n,pos:c,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!s||!s.id&&0!==s.id)&&s.id})});if(m.valid_children!==B&&-1!==m.valid_children&&-1===u.inArray(i.type||"default",m.valid_children))return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+n,data:JSON.stringify({chk:n,pos:c,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!s||!s.id&&0!==s.id)&&s.id})});if(x&&i.children_d&&i.parents){for(_=p=0,y=i.children_d.length;_<y;_++)p=Math.max(p,x[i.children_d[_]].parents.length);p=p-i.parents.length+1}(p<=0||p===B)&&(p=1);do{if(m.max_depth!==B&&-1!==m.max_depth&&m.max_depth<p)return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+n,data:JSON.stringify({chk:n,pos:c,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!s||!s.id&&0!==s.id)&&s.id})});s=this.get_node(s.parent),m=this.get_rules(s),p++}while(s)}}return!0},this.get_rules=function(i){return!!(i=this.get_node(i))&&((i=this.get_type(i,!0)).max_depth===B&&(i.max_depth=-1),i.max_children===B&&(i.max_children=-1),i.valid_children===B&&(i.valid_children=-1),i)},this.get_type=function(n,i){return!!(n=this.get_node(n))&&(i?u.extend({type:n.type},this.settings.types[n.type]):n.type)},this.set_type=function(n,i){var c,d,m,p,_,y,x,w,s=this._model.data;if(u.vakata.is_array(n)){for(d=0,m=(n=n.slice()).length;d<m;d++)this.set_type(n[d],i);return!0}if(c=this.settings.types,n=this.get_node(n),!c[i]||!n)return!1;if((x=this.get_node(n,!0))&&x.length&&(w=x.children(".jstree-anchor")),p=n.type,_=this.get_icon(n),n.type=i,!0!==_&&c[p]&&(c[p].icon===B||_!==c[p].icon)||this.set_icon(n,c[i].icon===B||c[i].icon),c[p]&&c[p].li_attr!==B&&"object"==typeof c[p].li_attr)for(y in c[p].li_attr)c[p].li_attr.hasOwnProperty(y)&&"id"!==y&&("class"===y?(s[n.id].li_attr.class=(s[n.id].li_attr.class||"").replace(c[p].li_attr[y],""),x&&x.removeClass(c[p].li_attr[y])):s[n.id].li_attr[y]===c[p].li_attr[y]&&(s[n.id].li_attr[y]=null,x&&x.removeAttr(y)));if(c[p]&&c[p].a_attr!==B&&"object"==typeof c[p].a_attr)for(y in c[p].a_attr)c[p].a_attr.hasOwnProperty(y)&&"id"!==y&&("class"===y?(s[n.id].a_attr.class=(s[n.id].a_attr.class||"").replace(c[p].a_attr[y],""),w&&w.removeClass(c[p].a_attr[y])):s[n.id].a_attr[y]===c[p].a_attr[y]&&("href"===y?(s[n.id].a_attr[y]="#",w&&w.attr("href","#")):(delete s[n.id].a_attr[y],w&&w.removeAttr(y))));if(c[i].li_attr!==B&&"object"==typeof c[i].li_attr)for(y in c[i].li_attr)c[i].li_attr.hasOwnProperty(y)&&"id"!==y&&(s[n.id].li_attr[y]===B?(s[n.id].li_attr[y]=c[i].li_attr[y],x&&("class"===y?x.addClass(c[i].li_attr[y]):x.attr(y,c[i].li_attr[y]))):"class"===y&&(s[n.id].li_attr.class=c[i].li_attr[y]+" "+s[n.id].li_attr.class,x&&x.addClass(c[i].li_attr[y])));if(c[i].a_attr!==B&&"object"==typeof c[i].a_attr)for(y in c[i].a_attr)c[i].a_attr.hasOwnProperty(y)&&"id"!==y&&(s[n.id].a_attr[y]===B?(s[n.id].a_attr[y]=c[i].a_attr[y],w&&("class"===y?w.addClass(c[i].a_attr[y]):w.attr(y,c[i].a_attr[y]))):"href"===y&&"#"===s[n.id].a_attr[y]?(s[n.id].a_attr.href=c[i].a_attr.href,w&&w.attr("href",c[i].a_attr.href)):"class"===y&&(s[n.id].a_attr.class=c[i].a_attr.class+" "+s[n.id].a_attr.class,w&&w.addClass(c[i].a_attr[y])));return!0}},u.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,a){return e+" ("+a+")"}},u.jstree.plugins.unique=function(e,a){this.check=function(n,i,s,c,d){if(!1===a.check.call(this,n,i,s,c,d))return!1;if(i=i&&(i.id||0===i.id)?i:this.get_node(i),!(s=s&&(s.id||0===s.id)?s:this.get_node(s))||!s.children)return!0;for(var w,m="rename_node"===n?c:i.text,p=[],_=this.settings.unique.case_sensitive,y=this.settings.unique.trim_whitespace,x=this._model.data,N=0,M=s.children.length;N<M;N++)w=x[s.children[N]].text,_||(w=w.toLowerCase()),y&&(w=w.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),p.push(w);switch(_||(m=m.toLowerCase()),y&&(m=m.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),n){case"delete_node":return!0;case"rename_node":return w=i.text||"",_||(w=w.toLowerCase()),y&&(w=w.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(N=-1===u.inArray(m,p)||i.text&&w===m)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+m+" already exists. Preventing: "+n,data:JSON.stringify({chk:n,pos:c,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!s||!s.id&&0!==s.id)&&s.id})}),N;case"create_node":return(N=-1===u.inArray(m,p))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+m+" already exists. Preventing: "+n,data:JSON.stringify({chk:n,pos:c,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!s||!s.id&&0!==s.id)&&s.id})}),N;case"copy_node":return(N=-1===u.inArray(m,p))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+m+" already exists. Preventing: "+n,data:JSON.stringify({chk:n,pos:c,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!s||!s.id&&0!==s.id)&&s.id})}),N;case"move_node":return(N=i.parent===s.id&&(!d||!d.is_multi)||-1===u.inArray(m,p))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+m+" already exists. Preventing: "+n,data:JSON.stringify({chk:n,pos:c,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!s||!s.id&&0!==s.id)&&s.id})}),N}return!0},this.create_node=function(n,i,s,c,d){if(!i||"object"==typeof i&&i.text===B){if(null===n&&(n=u.jstree.root),!(n=this.get_node(n)))return a.create_node.call(this,n,i,s,c,d);if(!(s=s===B?"last":s).toString().match(/^(before|after)$/)&&!d&&!this.is_loaded(n))return a.create_node.call(this,n,i,s,c,d);i=i||{};for(var m,w,p=this._model.data,_=this.settings.unique.case_sensitive,y=this.settings.unique.trim_whitespace,x=this.settings.unique.duplicate,N=m=this.get_string("New node"),M=[],D=0,L=n.children.length;D<L;D++)w=p[n.children[D]].text,_||(w=w.toLowerCase()),y&&(w=w.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),M.push(w);for(D=1,w=N,_||(w=w.toLowerCase()),y&&(w=w.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==u.inArray(w,M);)w=N=x.call(this,m,++D).toString(),_||(w=w.toLowerCase()),y&&(w=w.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));i.text=N}return a.create_node.call(this,n,i,s,c,d)}};var ot=re.createElement("DIV");if(ot.setAttribute("unselectable","on"),ot.setAttribute("role","presentation"),ot.className="jstree-wholerow",ot.innerHTML="&#160;",u.jstree.plugins.wholerow=function(e,a){this.bind=function(){a.bind.call(this),this.element.on("ready.jstree set_state.jstree",function(){this.hide_dots()}.bind(this)).on("init.jstree loading.jstree ready.jstree",function(){this.get_container_ul().addClass("jstree-wholerow-ul")}.bind(this)).on("deselect_all.jstree",function(n,i){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")}.bind(this)).on("changed.jstree",function(n,i){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");for(var s=!1,c=0,d=i.selected.length;c<d;c++)(s=this.get_node(i.selected[c],!0))&&s.length&&s.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}.bind(this)).on("open_node.jstree",function(n,i){this.get_node(i.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}.bind(this)).on("hover_node.jstree dehover_node.jstree",function(n,i){"hover_node"===n.type&&this.is_disabled(i.node)||this.get_node(i.node,!0).children(".jstree-wholerow")["hover_node"===n.type?"addClass":"removeClass"]("jstree-wholerow-hovered")}.bind(this)).on("contextmenu.jstree",".jstree-wholerow",function(n){var i;this._data.contextmenu&&(n.preventDefault(),i=u.Event("contextmenu",{metaKey:n.metaKey,ctrlKey:n.ctrlKey,altKey:n.altKey,shiftKey:n.shiftKey,pageX:n.pageX,pageY:n.pageY}),u(n.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i))}.bind(this)).on("click.jstree",".jstree-wholerow",function(n){n.stopImmediatePropagation();var i=u.Event("click",{metaKey:n.metaKey,ctrlKey:n.ctrlKey,altKey:n.altKey,shiftKey:n.shiftKey});u(n.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).trigger("focus")}).on("dblclick.jstree",".jstree-wholerow",function(n){n.stopImmediatePropagation();var i=u.Event("dblclick",{metaKey:n.metaKey,ctrlKey:n.ctrlKey,altKey:n.altKey,shiftKey:n.shiftKey});u(n.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).trigger("focus")}).on("click.jstree",".jstree-leaf > .jstree-ocl",function(n){n.stopImmediatePropagation();var i=u.Event("click",{metaKey:n.metaKey,ctrlKey:n.ctrlKey,altKey:n.altKey,shiftKey:n.shiftKey});u(n.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).trigger("focus")}.bind(this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",function(n){return n.stopImmediatePropagation(),this.is_disabled(n.currentTarget)||this.hover_node(n.currentTarget),!1}.bind(this)).on("mouseleave.jstree",".jstree-node",function(n){this.dehover_node(n.currentTarget)}.bind(this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),a.teardown.call(this)},this.redraw_node=function(n,i,s,c){var d;return(n=a.redraw_node.apply(this,arguments))&&(d=ot.cloneNode(!0),-1!==u.inArray(n.id,this._data.core.selected)&&(d.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===n.id&&(d.className+=" jstree-wholerow-hovered"),n.insertBefore(d,n.childNodes[0])),n}},window.customElements&&Object&&Object.create){(Me=Object.create(HTMLElement.prototype)).createdCallback=function(){var n,a={core:{},plugins:[]};for(n in u.jstree.plugins)u.jstree.plugins.hasOwnProperty(n)&&this.attributes[n]&&(a.plugins.push(n),this.getAttribute(n)&&JSON.parse(this.getAttribute(n))&&(a[n]=JSON.parse(this.getAttribute(n))));for(n in u.jstree.defaults.core)u.jstree.defaults.core.hasOwnProperty(n)&&this.attributes[n]&&(a.core[n]=JSON.parse(this.getAttribute(n))||this.getAttribute(n));u(this).jstree(a)};try{window.customElements.define("vakata-jstree",function(){},{prototype:Me})}catch(a){}}}});